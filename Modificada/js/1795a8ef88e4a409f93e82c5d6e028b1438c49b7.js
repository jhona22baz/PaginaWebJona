!function(){var e,t;(function(){t={}}).call(this),function(){(function(){var e=this,n=e._,r={},o=Array.prototype,i=Object.prototype,a=Function.prototype,s=o.push,c=o.slice,u=o.concat,l=i.toString,f=i.hasOwnProperty,d=o.forEach,p=o.map,h=o.reduce,g=o.reduceRight,m=o.filter,v=o.every,b=o.some,y=o.indexOf,_=o.lastIndexOf,w=Array.isArray,k=Object.keys,S=a.bind,T=function(e){return e instanceof T?e:this instanceof T?(this._wrapped=e,void 0):new T(e)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=T),t._=T):e._=T,T.VERSION="1.5.2";var C=function(e){return"[object Arguments]"===l.call(e)};C(arguments)||(C=function(e){return!(!e||!f.call(e,"callee")||"function"!=typeof e.callee)});var x=function(e){return e.length===+e.length&&(C(e)||e.constructor!==Object)},E=T.each=T.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(x(e)){for(var o=0,i=e.length;i>o;o++)if(t.call(n,e[o],o,e)===r)return}else for(var a=T.keys(e),o=0,i=a.length;i>o;o++)if(t.call(n,e[a[o]],a[o],e)===r)return};T.map=T.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(E(e,function(e,o,i){r.push(t.call(n,e,o,i))}),r)};var I="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=T.bind(t,r)),o?e.reduce(t,n):e.reduce(t);if(E(e,function(e,i,a){o?n=t.call(r,n,e,i,a):(n=e,o=!0)}),!o)throw new TypeError(I);return n},T.reduceRight=T.foldr=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return r&&(t=T.bind(t,r)),o?e.reduceRight(t,n):e.reduceRight(t);var i=e.length;if(!x(e)){var a=T.keys(e);i=a.length}if(E(e,function(s,c,u){c=a?a[--i]:--i,o?n=t.call(r,n,e[c],c,u):(n=e[c],o=!0)}),!o)throw new TypeError(I);return n},T.find=T.detect=function(e,t,n){var r;return P(e,function(e,o,i){return t.call(n,e,o,i)?(r=e,!0):void 0}),r},T.filter=T.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(E(e,function(e,o,i){t.call(n,e,o,i)&&r.push(e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,o){return!t.call(n,e,r,o)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var o=!0;return null==e?o:v&&e.every===v?e.every(t,n):(E(e,function(e,i,a){return(o=o&&t.call(n,e,i,a))?void 0:r}),!!o)};var P=T.some=T.any=function(e,t,n){t||(t=T.identity);var o=!1;return null==e?o:b&&e.some===b?e.some(t,n):(E(e,function(e,i,a){return o||(o=t.call(n,e,i,a))?r:void 0}),!!o)};T.contains=T.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):P(e,function(e){return e===t})},T.invoke=function(e,t){var n=c.call(arguments,2),r=T.isFunction(t);return T.map(e,function(e){return(r?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return E(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a>r.computed&&(r={value:e,computed:a})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return E(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a<r.computed&&(r={value:e,computed:a})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return E(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r},T.sample=function(e,t,n){return arguments.length<2||n?e[T.random(e.length-1)]:T.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=A(t);return T.pluck(T.map(e,function(e,t,o){return{value:e,index:t,criteria:r.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,r){var o={},i=null==n?T.identity:A(n);return E(t,function(n,a){var s=i.call(r,n,a,t);e(o,s,n)}),o}};T.groupBy=M(function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)}),T.indexBy=M(function(e,t,n){e[t]=n}),T.countBy=M(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,r){n=null==n?T.identity:A(n);for(var o=n.call(r,t),i=0,a=e.length;a>i;){var s=i+a>>>1;n.call(r,e[s])<o?i=s+1:a=s}return i},T.toArray=function(e){return e?T.isArray(e)?c.call(e):x(e)?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:x(e)?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:c.call(e,0,t)},T.initial=function(e,t,n){return c.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var D=function(e,t,n){return t&&T.every(e,T.isArray)?u.apply(n,e):(E(e,function(e){T.isArray(e)||T.isArguments(e)?t?s.apply(n,e):D(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return D(e,t,[])},T.without=function(e){return T.difference(e,c.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var o=n?T.map(e,n,r):e,i=[],a=[];return E(o,function(n,r){(t?r&&a[a.length-1]===n:T.contains(a,n))||(a.push(n),i.push(e[r]))}),i},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=c.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=u.apply(o,c.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(null==e)return{};for(var n={},r=0,o=e.length;o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var r=0,o=e.length;if(n){if("number"!=typeof n)return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,o+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;o>r;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(_&&e.lastIndexOf===_)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=r?n:e.length;o--;)if(e[o]===t)return o;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=0,i=new Array(r);r>o;)i[o++]=e,e+=n;return i};var L=function(){};T.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,c.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(c.call(arguments)));L.prototype=e.prototype;var o=new L;L.prototype=null;var i=e.apply(o,n.concat(c.call(arguments)));return Object(i)===i?i:o}},T.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},T.bindAll=function(e){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(c.call(arguments,1)))},T.throttle=function(e,t,n){var r,o,i,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:new Date,a=null,i=e.apply(r,o)};return function(){var u=new Date;s||n.leading!==!1||(s=u);var l=t-(u-s);return r=this,o=arguments,0>=l?(clearTimeout(a),a=null,s=u,i=e.apply(r,o)):a||n.trailing===!1||(a=setTimeout(c,l)),i}},T.debounce=function(e,t,n){var r,o,i,a,s;return function(){i=this,o=arguments,a=new Date;var c=function(){var u=new Date-a;t>u?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(i,o)))},u=n&&!r;return r||(r=setTimeout(c,t)),u&&(s=e.apply(i,o)),s}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){for(var t=T.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},T.pairs=function(e){for(var t=T.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},T.invert=function(e){for(var t={},n=T.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return E(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=u.apply(o,c.call(arguments,1));return E(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=u.apply(o,c.call(arguments,1));for(var r in e)T.contains(n,r)||(t[r]=e[r]);return t},T.defaults=function(e){return E(c.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var o=l.call(e);if(o!=l.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var i=n.length;i--;)if(n[i]==e)return r[i]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var c=0,u=!0;if("[object Array]"==o){if(c=e.length,u=c==t.length)for(;c--&&(u=O(e[c],t[c],n,r)););}else{for(var f in e)if(T.has(e,f)&&(c++,!(u=T.has(t,f)&&O(e[f],t[f],n,r))))break;if(u){for(f in t)if(T.has(t,f)&&!c--)break;u=!c}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return O(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=w||function(e){return"[object Array]"==l.call(e)},T.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(e){return"function"==typeof e}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return f.call(e,t)},T.noConflict=function(){return e._=n,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=Array(Math.max(0,e)),o=0;e>o;o++)r[o]=t.call(n,o);return r},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=T.invert(N.escape);var R={escape:new RegExp("["+T.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(N.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(R[e],function(t){return N[e][t]})}}),T.result=function(e,t){if(null==e)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){E(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),F.call(this,n.apply(T,e))}})};var $=0;T.uniqueId=function(e){var t=++$+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var r;n=T.defaults({},n,T.templateSettings);var o=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(t,n,r,o,s){return a+=e.slice(i,s).replace(B,function(e){return"\\"+H[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),i=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return r(t,T);var c=function(e){return r.call(this,e,T)};return c.source="function("+(n.variable||"obj")+"){\n"+a+"}",c},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),E(["concat","join","slice"],function(e){var t=o[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){e=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:e}}(),function(){var e,t=Package.underscore._;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){if(e.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return void 0;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){for(var t=[e],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in e)){n=!1;break}if(e=e[o],"object"!=typeof e)break;t.push(e)}for(var r=t.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in t[r][o])return;delete t[r][o]}},_wrapAsync:function(r){return function(){for(var o,i,a=this,s=t.toArray(arguments),c=function(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0};s.length>0&&"undefined"==typeof s[s.length-1];)s.pop();s.length>0&&s[s.length-1]instanceof Function?o=s.pop():e.isClient?o=c:(i=new n,o=i.resolver()),s.push(e.bindEnvironment(o));var u=r.apply(a,s);return i?i.wait():u}},_inherits:function(e,n){t.each(n,function(t,n){e[n]=t});var r=function(){this.constructor=e};return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e}})}.call(this),function(){"use strict";function t(){if(o.setImmediate){var e=function(e){o.setImmediate(e)};return e.implementation="setImmediate",e}return null}function n(){function e(e,t){return"string"==typeof e&&e.substring(0,t.length)===t}function t(t){if(t.source===o&&e(t.data,s)){var n=t.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",t,!1):o.attachEvent("onmessage",t);var c=function(e){++i,a[i]=e,o.postMessage(s+i,"*")};return c.implementation="postMessage",c}function r(){var e=function(e){o.setTimeout(e,0)};return e.implementation="setTimeout",e}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(e){if(Package.livedata){var t=Package.livedata.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(e,t){return setTimeout(r("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(r("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){var t=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};e.makeErrorType=function(e,n){var r=function(){var t=this;if(Error.captureStackTrace)Error.captureStackTrace(t,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(t=o)}return n.apply(t,arguments),t.errorType=e,t};return t(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(e,t,n){var r=this;r.error=e,r.reason=t,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(e){return e()},e._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0;try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this,r=t.isEmpty(n._tasks);n._tasks.push(e),r&&setTimeout(t.bind(n.flush,n),0)},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var t=[],n="loaded"===document.readyState||"complete"==document.readyState,r=function(){for(n=!0;t.length;)t.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("load",r)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return setTimeout(function(){e.startup(r)},50),void 0}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return t--,void 0;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},withValue:function(e,t){var n=r[this.slot];try{r[this.slot]=e;var o=t()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){e._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var s=n.apply(i,t.toArray(arguments))}catch(c){o(c)}finally{r=e}return s}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(e){return"object"==typeof __meteor_runtime_config__&&"/"===e.substr(0,1)&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}(),function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;i>n;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}(),function(){var e,t,n,r,o=(Package.meteor.Meteor,Package.json.JSON),i=Package.underscore._;(function(){e={},t={};var a={};e.addType=function(e,t){if(i.has(a,e))throw new Error("Type "+e+" already present");a[e]=t};var s=function(e){return i.isNaN(e)||1/0===e||e===-1/0},c=[{matchJSONValue:function(e){return i.has(e,"$date")&&1===i.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return i.has(e,"$InfNaN")&&1===i.size(e)},matchObject:s,toJSONValue:function(e){var t;return t=i.isNaN(e)?0:1/0===e?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return i.has(e,"$binary")&&1===i.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&i.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:n(e)}},fromJSONValue:function(e){return r(e.$binary)}},{matchJSONValue:function(e){return i.has(e,"$escape")&&1===i.size(e)},matchObject:function(e){return i.isEmpty(e)||i.size(e)>2?!1:i.any(c,function(t){return t.matchJSONValue(e)})},toJSONValue:function(t){var n={};return i.each(t,function(t,r){n[r]=e.toJSONValue(t)}),{$escape:n}},fromJSONValue:function(t){var n={};return i.each(t.$escape,function(t,r){n[r]=e.fromJSONValue(t)}),n}},{matchJSONValue:function(e){return i.has(e,"$type")&&i.has(e,"$value")&&2===i.size(e)},matchObject:function(t){return e._isCustomType(t)},toJSONValue:function(e){return{$type:e.typeName(),$value:e.toJSONValue()}},fromJSONValue:function(e){var t=e.$type;if(!i.has(a,t))throw new Error("Custom EJSON type "+t+" is not defined");var n=a[t];return n(e.$value)}}];e._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&i.has(a,e.typeName())};var u=e._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=l(e);return void 0!==t?t:"object"!=typeof e?e:(i.each(e,function(t,n){if("object"==typeof t||void 0===t||s(t)){var r=l(t);return r?(e[n]=r,void 0):(u(t),void 0)}}),e)},l=function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};e.toJSONValue=function(t){var n=l(t);return void 0!==n?n:("object"==typeof t&&(t=e.clone(t),u(t)),t)};var f=e._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=d(e);return t!==e?t:"object"!=typeof e?e:(i.each(e,function(t,n){if("object"==typeof t){var r=d(t);if(t!==r)return e[n]=r,void 0;f(t)}}),e)},d=function(e){if("object"==typeof e&&null!==e&&i.size(e)<=2&&i.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<c.length;t++){var n=c[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};e.fromJSONValue=function(t){var n=d(t);return n===t&&"object"==typeof t?(t=e.clone(t),f(t),t):n},e.stringify=function(t,n){var r=e.toJSONValue(t);return n&&(n.canonical||n.indent)?e._canonicalStringify(r,n):o.stringify(r)},e.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return e.fromJSONValue(o.parse(t))},e.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},e.equals=function(t,n,r){var o,a=!(!r||!r.keyOrderSensitive);if(t===n)return!0;if(i.isNaN(t)&&i.isNaN(n))return!0;if(!t||!n)return!1;if("object"!=typeof t||"object"!=typeof n)return!1;if(t instanceof Date&&n instanceof Date)return t.valueOf()===n.valueOf();if(e.isBinary(t)&&e.isBinary(n)){if(t.length!==n.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}if("function"==typeof t.equals)return t.equals(n,r);if("function"==typeof n.equals)return n.equals(t,r);if(t instanceof Array){if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(o=0;o<t.length;o++)if(!e.equals(t[o],n[o],r))return!1;return!0}switch(e._isCustomType(t)+e._isCustomType(n)){case 1:return!1;case 2:return e.equals(e.toJSONValue(t),e.toJSONValue(n))}var s;if(a){var c=[];return i.each(n,function(e,t){c.push(t)}),o=0,s=i.all(t,function(t,i){return o>=c.length?!1:i!==c[o]?!1:e.equals(t,n[c[o]],r)?(o++,!0):!1}),s&&o===c.length}return o=0,s=i.all(t,function(t,a){return i.has(n,a)?e.equals(t,n[a],r)?(o++,!0):!1:!1}),s&&i.size(n)===o},e.clone=function(t){var n;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return t;if(e.isBinary(t)){n=e.newBinary(t.length);for(var r=0;r<t.length;r++)n[r]=t[r];return n}if(i.isArray(t)||i.isArguments(t)){for(n=[],r=0;r<t.length;r++)n[r]=e.clone(t[r]);return n}return"function"==typeof t.clone?t.clone():e._isCustomType(t)?e.fromJSONValue(e.clone(e.toJSONValue(t)),!0):(n={},i.each(t,function(t,r){n[r]=e.clone(t)}),n)}}).call(this),function(){function t(e){return o.stringify(e)}var n=function(e,r,o,a,s){var c,u,l,f,d=a,p=r[e];switch(typeof p){case"string":return t(p);case"number":return isFinite(p)?String(p):"null";case"boolean":return String(p);case"object":if(!p)return"null";if(d=a+o,f=[],i.isArray(p)||i.isArguments(p)){for(l=p.length,c=0;l>c;c+=1)f[c]=n(c,p,o,d,s)||"null";return u=0===f.length?"[]":d?"[\n"+d+f.join(",\n"+d)+"\n"+a+"]":"["+f.join(",")+"]"}var h=i.keys(p);return s&&(h=h.sort()),i.each(h,function(e){u=n(e,p,o,d,s),u&&f.push(t(e)+(d?": ":":")+u)}),u=0===f.length?"{}":d?"{\n"+d+f.join(",\n"+d)+"\n"+a+"}":"{"+f.join(",")+"}"}};e._canonicalStringify=function(e,t){if(t=i.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var r="",o=0;o<t.indent;o++)r+=" ";t.indent=r}return n("",{"":e},t.indent,"",t.canonical)}}.call(this),function(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},a=0;a<o.length;a++)i[o.charAt(a)]=a;n=function(e){for(var t=[],n=null,r=null,o=null,i=null,a=0;a<e.length;a++)switch(a%3){case 0:n=e[a]>>2&63,r=(3&e[a])<<4;break;case 1:r|=e[a]>>4&15,o=(15&e[a])<<2;break;case 2:o|=e[a]>>6&3,i=63&e[a],t.push(s(n)),t.push(s(r)),t.push(s(o)),t.push(s(i)),n=null,r=null,o=null,i=null}return null!=n&&(t.push(s(n)),t.push(s(r)),null==o?t.push("="):t.push(s(o)),null==i&&t.push("=")),t.join("")};var s=function(e){return o.charAt(e)},c=function(e){return"="===e?-1:i[e]};e.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},r=function(t){var n=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(n--,"="==t.charAt(t.length-2)&&n--);for(var r=e.newBinary(n),o=null,i=null,a=null,s=0,u=0;u<t.length;u++){var l=t.charAt(u),f=c(l);switch(u%4){case 0:if(0>f)throw new Error("invalid base64 string");o=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");o|=f>>4,r[s++]=o,i=(15&f)<<4;break;case 2:f>=0&&(i|=f>>2,r[s++]=i,a=(3&f)<<6);break;case 3:f>=0&&(r[s++]=a|f)}}return r},t.base64Encode=n,t.base64Decode=r}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:e,EJSONTest:t}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.ejson.EJSON;
(function(){e=function(){return e.info.apply(this,arguments)};var o=0,i=[],a=0;e._intercept=function(e){o+=e},e._suppress=function(e){a+=e},e._intercepted=function(){var e=i;return i=[],o=0,e},e.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},c="blue",u=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],l=u.concat(["app","message"]),f=function(n){var r=e.format(n),o=n.level;"undefined"!=typeof console&&console[o]?console[o](r):t._debug(r)};e._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n,r=t.split("\n"),o=1;o<r.length;++o){if(n=r[o],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/logging(?:\/|(?::tests)?\.js)/))break}var i={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(i.line=a[2].split(":")[0],i.file=a[1].split("/").slice(-1)[0].split("?")[0],i):i},n.each(["debug","info","warn","error"],function(s){e[s]=function(c){if(a)return a--,void 0;var l=!1;o&&(o--,l=!0);var d=!n.isObject(c)||n.isRegExp(c)||n.isDate(c)?{message:new String(c).toString()}:c;if(n.each(u,function(e){if(d[e])throw new Error("Can't set '"+e+"' in log message")}),n.has(d,"message")&&!n.isString(d.message))throw new Error("The 'message' field in log objects must be a string");if(d.omitCallerDetails||(d=n.extend(e._getCallerDetails(),d)),d.time=new Date,d.level=s,"debug"!==s)if(l)i.push(r.stringify(d));else if(t.isServer)if("colored-text"===e.outputFormat)console.log(e.format(d,{color:!0}));else{if("json"!==e.outputFormat)throw new Error("Unknown logging output format: "+e.outputFormat);console.log(r.stringify(d))}else f(d)}}),e.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},e.format=function(e,o){e=r.clone(e),o=o||{};var i=e.time;if(!(i instanceof Date))throw new Error("'time' must be a Date object");var a=e.timeInexact,u=e.level||"info",f=e.file,d=e.line,p=e.app||"",h=e.originApp,g=e.message||"",m=e.program||"",v=e.satellite,b=e.stderr||"";n.each(l,function(t){delete e[t]}),n.isEmpty(e)||(g&&(g+=" "),g+=r.stringify(e));var y=function(e){return 10>e?"0"+e:e.toString()},_=function(e){return 100>e?"0"+y(e):e.toString()},w=i.getFullYear().toString()+y(i.getMonth()+1)+y(i.getDate()),k=y(i.getHours())+":"+y(i.getMinutes())+":"+y(i.getSeconds())+"."+_(i.getMilliseconds()),S="("+-((new Date).getTimezoneOffset()/60)+")",T="";p&&(T+=p),h&&h!==p&&(T+=" via "+h),T&&(T="["+T+"] ");var C=f&&d?["(",m?m+":":"",f,":",d,") "].join(""):"";v&&(C+=["[",v,"]"].join(""));var x=b?"(STDERR) ":"",E=[u.charAt(0).toUpperCase(),w,"-",k,S,a?"? ":" ",T,C,x].join(""),I=function(e,n){return o.color&&t.isServer&&n?Npm.require("cli-color")[n](e):e};return I(E,c)+I(g,s[u])},e.objFromText=function(e,t){var r={message:e,level:"info",time:new Date,timeInexact:!0};return n.extend(r,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=(Package.logging.Log,Package.json.JSON);(function(){var o,i="Meteor_Reload",a=3e4,s={};"undefined"!=typeof sessionStorage&&sessionStorage&&(o=sessionStorage.getItem(i),sessionStorage.removeItem(i)),o||(o="{}");var c={};try{c=r.parse(o),"object"!=typeof c&&(t._debug("Got bad data on reload. Ignoring."),c={})}catch(u){t._debug("Got invalid JSON on reload. Ignoring.")}c.reload&&"object"==typeof c.data&&c.time+a>(new Date).getTime()&&(s=c.data);var l=[];e={},e._onMigrate=function(e,t){t||(t=e,e=void 0),l.push({name:e,callback:t})},e._migrationData=function(e){return s[e]};var f=!1;e._reload=function(){if(!f){f=!0;var e=function(){n.defer(function(){for(var o={},a=n.clone(l);a.length;){var s=a.shift(),c=s.callback(e);if(!c[0])return;c.length>1&&s.name&&(o[s.name]=c[1])}try{var u=r.stringify({time:(new Date).getTime(),data:o,reload:!0})}catch(f){throw t._debug("Couldn't serialize data for migration",o),f}if("undefined"!=typeof sessionStorage&&sessionStorage)try{sessionStorage.setItem(i,u)}catch(f){t._debug("Couldn't save data for migration to sessionStorage",f)}else t._debug("Browser does not support sessionStorage. Not saving migration state.");window.location.reload()})};e()}}}).call(this),function(){t._reload={onMigrate:e._onMigrate,migrationData:e._migrationData,reload:e._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:e}}(),function(){{var e,t=Package.meteor.Meteor;Package.underscore._}(function(){e={},e.active=!1,e.currentComputation=null;var n=function(t){e.currentComputation=t,e.active=!!t},r=Object.prototype.hasOwnProperty,o=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},i=function(){return"undefined"!=typeof t?t._debug:"undefined"!=typeof console&&console.log?function(){console.log.apply(console,arguments)}:function(){}},a=function(e,t){if(p)throw t;i()("Exception from Deps "+e+" function:",t.stack||t.message)},s=function(e,n){"undefined"==typeof t||t.isClient?e(n):t._noYieldsAllowed(function(){e(n)})},c=1,u=[],l=!1,f=!1,d=!1,p=!1,h=[],g=function(){l||(setTimeout(e.flush,0),l=!0)},m=!1;e.Computation=function(e,t){if(!m)throw new Error("Deps.Computation constructor is private; use Deps.autorun");m=!1;var n=this;n.stopped=!1,n.invalidated=!1,n.firstRun=!0,n._id=c++,n._onInvalidateCallbacks=[],n._parent=t,n._func=e,n._recomputing=!1;var r=!0;try{n._compute(),r=!1}finally{n.firstRun=!1,r&&n.stop()}},o(e.Computation.prototype,{onInvalidate:function(t){var n=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");n.invalidated?e.nonreactive(function(){s(t,n)}):n._onInvalidateCallbacks.push(t)},invalidate:function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(g(),u.push(this)),t.invalidated=!0;for(var n,r=0;n=t._onInvalidateCallbacks[r];r++)e.nonreactive(function(){s(n,t)});t._onInvalidateCallbacks=[]}},stop:function(){this.stopped||(this.stopped=!0,this.invalidate())},_compute:function(){var t=this;t.invalidated=!1;var r=e.currentComputation;n(t);d=!0;try{s(t._func,t)}finally{n(r),d=!1}},_recompute:function(){var e=this;e._recomputing=!0;try{for(;e.invalidated&&!e.stopped;)try{e._compute()}catch(t){a("recompute",t)}}finally{e._recomputing=!1}}}),e.Dependency=function(){this._dependentsById={}},o(e.Dependency.prototype,{depend:function(t){if(!t){if(!e.active)return!1;t=e.currentComputation}var n=this,r=t._id;return r in n._dependentsById?!1:(n._dependentsById[r]=t,t.onInvalidate(function(){delete n._dependentsById[r]}),!0)},changed:function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},hasDependents:function(){var e=this;for(var t in e._dependentsById)return!0;return!1}}),o(e,{flush:function(t){if(f)throw new Error("Can't call Deps.flush while flushing");if(d)throw new Error("Can't flush inside Deps.autorun");f=!0,l=!0,p=!(!t||!t._throwFirstError);var n=!1;try{for(;u.length||h.length;){for(;u.length;){var r=u.shift();r._recompute()}if(h.length){var o=h.shift();try{o()}catch(i){a("afterFlush function",i)}}}n=!0}finally{n||(f=!1,e.flush({_throwFirstError:!1})),l=!1,f=!1}},autorun:function(t){if("function"!=typeof t)throw new Error("Deps.autorun requires a function argument");m=!0;var n=new e.Computation(t,e.currentComputation);return e.active&&e.onInvalidate(function(){n.stop()}),n},nonreactive:function(t){var r=e.currentComputation;n(null);try{return t()}finally{n(r)}},onInvalidate:function(t){if(!e.active)throw new Error("Deps.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(t)},afterFlush:function(e){h.push(e),g()}})}).call(this),function(){t.flush=e.flush,t.autorun=e.autorun,t.autosubscribe=e.autorun,e.depend=function(e){return e.depend()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.deps={Deps:e}}(),function(){{var e,t=Package.meteor.Meteor;Package.underscore._}(function(){if(t.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,o=0,i=1;0==t.length&&(t=[+new Date]);var a=e();n=a(" "),r=a(" "),o=a(" ");for(var s=0;s<t.length;s++)n-=a(t[s]),0>n&&(n+=1),r-=a(t[s]),0>r&&(r+=1),o-=a(t[s]),0>o&&(o+=1);a=null;var c=function(){var e=2091639*n+2.3283064365386963e-10*i;return n=r,r=o,o=e-(i=0|e)};return c.uint32=function(){return 4294967296*c()},c.fract53=function(){return c()+1.1102230246251565e-16*(2097152*c()|0)},c.version="Alea 0.9",c.args=t,c}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var t=this;void 0!==e&&(t.alea=r.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r,o=Math.ceil(e/2);try{r=n.randomBytes(o)}catch(i){r=n.pseudoRandomBytes(o)}var a=r.toString("hex");return a.substring(0,e)}for(var s=[],c=0;e>c;++c)s.push(t.choice("0123456789abcdef"));return s.join("")},a.prototype._randomString=function(e,t){for(var n=this,r=[],o=0;e>o;o++)r[o]=n.choice(t);return r.join("")},a.prototype.id=function(e){var t=this;return void 0===e&&(e=17),t._randomString(e,o)},a.prototype.secret=function(e){var t=this;return void 0===e&&(e=43),t._randomString(e,i)},a.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var s="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,c="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,u="undefined"!=typeof navigator&&navigator.userAgent||"";e=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,s,c,u,Math.random()]),e.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){t.uuid=function(){for(var t="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=e.choice(t);n[14]="4",n[19]=t.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.random.Random;(function(){e=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(e.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var n=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return n*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(e,n){var r=this,o=r._timeout(e);return r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=t.setTimeout(n,o),o}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.underscore._,o=Package.ejson.EJSON;(function(){var i=new n.EnvironmentVariable;e=function(e,n){var r=i.get();r&&r.checking(e);try{f(e,n)}catch(o){throw o instanceof t.Error&&o.path&&(o.message+=" in field "+o.path),o}},t={Optional:function(e){return new a(e)},OneOf:function(){return new s(r.toArray(arguments))},Any:["__any__"],Where:function(e){return new c(e)},ObjectIncluding:function(e){return new u(e)},Integer:["__integer__"],Error:n.makeErrorType("Match.Error",function(e){this.message="Match error: "+e,this.path="",this.sanitizedError=new n.Error(400,"Match failed")}),test:function(e,n){try{return f(e,n),!0}catch(r){if(r instanceof t.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,n,r){var o=new d(n,r),a=i.withValue(o,function(){return e.apply(t,n)});return o.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},s=function(e){if(r.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},c=function(e){this.condition=e},u=function(e){this.pattern=e},l=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],f=function(e,n){if(n!==t.Any){for(var i=0;i<l.length;++i)if(n===l[i][0]){if(typeof e===l[i][1])return;throw new t.Error("Expected "+l[i][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new t.Error("Expected null, got "+o.stringify(e))}if(n===t.Integer){if("number"==typeof e&&(0|e)===e)return;throw new t.Error("Expected Integer, got "+(e instanceof Object?o.stringify(e):e))}if(n===Object&&(n=t.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+o.stringify(n));if(!r.isArray(e)&&!r.isArguments(e))throw new t.Error("Expected array, got "+o.stringify(e));return r.each(e,function(e,r){try{f(e,n[0])}catch(o){throw o instanceof t.Error&&(o.path=h(r,o.path)),o}}),void 0}if(n instanceof c){if(n.condition(e))return;throw new t.Error("Failed Match.Where validation")}if(n instanceof a&&(n=t.OneOf(void 0,n.pattern)),n instanceof s){for(var i=0;i<n.choices.length;++i)try{return f(e,n.choices[i]),void 0}catch(d){if(!(d instanceof t.Error))throw d}throw new t.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new t.Error("Expected "+n.name)}var p=!1;if(n instanceof u&&(p=!0,n=n.pattern),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new t.Error("Expected object, got "+typeof e);if(null===e)throw new t.Error("Expected object, got null");if(e.constructor!==Object)throw new t.Error("Expected plain object");var g={},m={};r.each(n,function(e,t){e instanceof a?m[t]=e.pattern:g[t]=e}),r.each(e,function(e,n){try{if(r.has(g,n))f(e,g[n]),delete g[n];else if(r.has(m,n))f(e,m[n]);else if(!p)throw new t.Error("Unknown key")}catch(o){throw o instanceof t.Error&&(o.path=h(n,o.path)),o}}),r.each(g,function(e,n){throw new t.Error("Missing key '"+n+"'")})}},d=function(e,t){var n=this;n.args=r.clone(e),n.args.reverse(),n.description=t};r.extend(d.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(r.isArray(e)||r.isArguments(e))&&r.each(e,r.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n])return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!r.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var p=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],h=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||r.contains(p,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:e,Match:t}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.json.JSON,r=Package.ejson.EJSON;(function(){e=function(e,t){var r=this;r._map={},r._idStringify=e||n.stringify,r._idParse=t||n.parse},t.extend(e.prototype,{get:function(e){var t=this,n=t._idStringify(e);return t._map[n]},set:function(e,t){var n=this,r=n._idStringify(e);n._map[r]=t},remove:function(e){var t=this,n=t._idStringify(e);delete t._map[n]},has:function(e){var n=this,r=n._idStringify(e);return t.has(n._map,r)},empty:function(){var e=this;return t.isEmpty(e._map)},clear:function(){var e=this;e._map={}},forEach:function(e){for(var n=this,r=t.keys(n._map),o=0;o<r.length;o++){var i=e.call(null,n._map[r[o]],n._idParse(r[o]));if(i===!1)return}},size:function(){var e=this;return t.size(e._map)},setDefault:function(e,n){var r=this,o=r._idStringify(e);return t.has(r._map,o)?r._map[o]:(r._map[o]=n,n)},clone:function(){var t=this,n=new e(t._idStringify,t._idParse);return t.forEach(function(e,t){n.set(t,r.clone(e))}),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){var n=function(e,t,n,r){return{key:e,value:t,next:n,prev:r}};e=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var n=t.toArray(arguments);e._stringify=function(e){return e},"function"==typeof n[0]&&(e._stringify=n.shift()),t.each(n,function(t){e.putBefore(t[0],t[1],null)})},t.extend(e.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e),(null===t._first||t._first===e.next)&&(t._first=e)},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(e,t,r){var o=this;if(o._dict[o._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var i=r?n(e,t,o._dict[o._k(r)]):n(e,t,null);if(void 0===i.next)throw new Error("could not find item to put this one before");o._linkEltIn(i),o._dict[o._k(e)]=i,o._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(void 0===n)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:void 0},has:function(e){var n=this;return t.has(n._dict,n._k(e))},forEach:function(t){for(var n=this,r=0,o=n._first;null!==o;){var i=t(o.value,o.key,r);if(i===e.BREAK)return;o=o.next,r++}},first:function(){var e=this;return e.empty()?void 0:e._first.key},firstValue:function(){var e=this;return e.empty()?void 0:e._first.value},last:function(){var e=this;return e.empty()?void 0:e._last.key},lastValue:function(){var e=this;return e.empty()?void 0:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,r=n._dict[n._k(e)],o=t?n._dict[n._k(t)]:null;if(void 0===r)throw new Error("Item to move is not present");if(void 0===o)throw new Error("Could not find element to move this one before");o!==r.next&&(n._linkEltOut(r),r.next=o,n._linkEltIn(r))},indexOf:function(t){var n=this,r=null;return n.forEach(function(o,i,a){return n._k(i)===n._k(t)?(r=a,e.BREAK):void 0}),r},_checkRep:function(){var e=this;t.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),e.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){t={exports:{}}}).call(this),function(){!function(){function e(e){for(var t=[],n=[],r=0;r<e[0].length;r++)t.push(e[0][r][1]),n.push(e[0][r][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function n(e,t,n){for(var r=[[0,0]],o=0;o<n.length;o++){for(var i=0;i<n[o].length;i++)r.push(n[o][i]);r.push([0,0])}for(var a=!1,o=0,i=r.length-1;o<r.length;i=o++)r[o][0]>t!=r[i][0]>t&&e<(r[i][1]-r[o][1])*(t-r[o][0])/(r[i][0]-r[o][0])+r[o][1]&&(a=!a);return a}var r={};"undefined"!=typeof t&&t.exports&&(t.exports=r),r.lineStringsIntersect=function(e,t){for(var n=[],r=0;r<=e.coordinates.length-2;++r)for(var o=0;o<=t.coordinates.length-2;++o){var i={x:e.coordinates[r][1],y:e.coordinates[r][0]},a={x:e.coordinates[r+1][1],y:e.coordinates[r+1][0]},s={x:t.coordinates[o][1],y:t.coordinates[o][0]},c={x:t.coordinates[o+1][1],y:t.coordinates[o+1][0]},u=(c.x-s.x)*(i.y-s.y)-(c.y-s.y)*(i.x-s.x),l=(a.x-i.x)*(i.y-s.y)-(a.y-i.y)*(i.x-s.x),f=(c.y-s.y)*(a.x-i.x)-(c.x-s.x)*(a.y-i.y);if(0!=f){var d=u/f,p=l/f;d>=0&&1>=d&&p>=0&&1>=p&&n.push({type:"Point",coordinates:[i.x+d*(a.x-i.x),i.y+d*(a.y-i.y)]})}}return 0==n.length&&(n=!1),n},r.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},r.pointInPolygon=function(t,o){for(var i="Polygon"==o.type?[o.coordinates]:o.coordinates,a=!1,s=0;s<i.length;s++)r.pointInBoundingBox(t,e(i[s]))&&(a=!0);if(!a)return!1;for(var c=!1,s=0;s<i.length;s++)n(t.coordinates[1],t.coordinates[0],i[s])&&(c=!0);return c},r.numberToRadius=function(e){return e*Math.PI/180},r.numberToDegree=function(e){return 180*e/Math.PI},r.drawCircle=function(e,t,n){for(var o=[t.coordinates[1],t.coordinates[0]],i=e/1e3/6371,a=[r.numberToRadius(o[0]),r.numberToRadius(o[1])],n=n||15,s=[[o[0],o[1]]],c=0;n>c;c++){var u=2*Math.PI*c/n,l=Math.asin(Math.sin(a[0])*Math.cos(i)+Math.cos(a[0])*Math.sin(i)*Math.cos(u)),f=a[1]+Math.atan2(Math.sin(u)*Math.sin(i)*Math.cos(a[0]),Math.cos(i)-Math.sin(a[0])*Math.sin(l));s[c]=[],s[c][1]=r.numberToDegree(l),s[c][0]=r.numberToDegree(f)}return{type:"Polygon",coordinates:[s]}},r.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],r=t[0][1],o=t[2][0],i=t[2][1],a=o-n,s=i-r;return{type:"Point",coordinates:[n+a/2,r+s/2]}},r.pointDistance=function(e,t){var n=e.coordinates[0],o=e.coordinates[1],i=t.coordinates[0],a=t.coordinates[1],s=r.numberToRadius(a-o),c=r.numberToRadius(i-n),u=Math.pow(Math.sin(s/2),2)+Math.cos(r.numberToRadius(o))*Math.cos(r.numberToRadius(a))*Math.pow(Math.sin(c/2),2),l=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*l*1e3},r.geometryWithinRadius=function(e,t,n){if("Point"==e.type)return r.pointDistance(e,t)<=n;if("LineString"==e.type||"Polygon"==e.type){var o,i={};o="Polygon"==e.type?e.coordinates[0]:e.coordinates;for(var a in o)if(i.coordinates=o[a],r.pointDistance(i,t)>n)return!1}return!0},r.area=function(e){for(var t,n,r=0,o=e.coordinates[0],i=o.length-1,a=0;a<o.length;i=a++){var t={x:o[a][1],y:o[a][0]},n={x:o[i][1],y:o[i][0]};r+=t.x*n.y,r-=t.y*n.x}return r/=2},r.centroid=function(e){for(var t,n,o,i=0,a=0,s=e.coordinates[0],c=s.length-1,u=0;u<s.length;c=u++){var n={x:s[u][1],y:s[u][0]},o={x:s[c][1],y:s[c][0]};t=n.x*o.y-o.x*n.y,i+=(n.x+o.x)*t,a+=(n.y+o.y)*t}return t=6*r.area(e),{type:"Point",coordinates:[a/t,i/t]}},r.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,r,o,i,a,s,c,u,l,f,d,p,h,g,m,v,b,y,_,w=Math.PI/180*.5,k=new Array,S=new Array,T=new Array;if(e.length<3)return e;for(n=e.length,f=360*t/(2*Math.PI*6378137),f*=f,o=0,S[0]=0,T[0]=n-1,r=1;r>0;)if(i=S[r-1],a=T[r-1],r--,a-i>1){for(d=e[a].lng()-e[i].lng(),p=e[a].lat()-e[i].lat(),Math.abs(d)>180&&(d=360-Math.abs(d)),d*=Math.cos(w*(e[a].lat()+e[i].lat())),h=d*d+p*p,s=i+1,c=i,l=-1;a>s;s++)g=e[s].lng()-e[i].lng(),m=e[s].lat()-e[i].lat(),Math.abs(g)>180&&(g=360-Math.abs(g)),g*=Math.cos(w*(e[s].lat()+e[i].lat())),v=g*g+m*m,b=e[s].lng()-e[a].lng(),y=e[s].lat()-e[a].lat(),Math.abs(b)>180&&(b=360-Math.abs(b)),b*=Math.cos(w*(e[s].lat()+e[a].lat())),_=b*b+y*y,u=v>=h+_?_:_>=h+v?v:(g*p-m*d)*(g*p-m*d)/h,u>l&&(c=s,l=u);f>l?(k[o]=i,o++):(r++,S[r-1]=c,T[r-1]=a,r++,S[r-1]=i,T[r-1]=c)}else k[o]=i,o++;k[o]=n-1,o++;for(var C=new Array,s=0;o>s;s++)C.push(e[k[s]]);return C.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},r.destinationPoint=function(e,t,n){n/=6371,t=r.numberToRadius(t);var o=r.numberToRadius(e.coordinates[0]),i=r.numberToRadius(e.coordinates[1]),a=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(t)),s=i+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(a));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[r.numberToDegree(a),r.numberToDegree(s)]}}}()}.call(this),function(){e=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:e}}(),function(){var e,t,n,r,o,i,a,s,c,u,l,f,d,p,h,g,m=Package.meteor.Meteor,v=Package.underscore._,b=Package.json.JSON,y=Package.ejson.EJSON,_=Package["id-map"].IdMap,w=Package["ordered-dict"].OrderedDict,k=Package.deps.Deps,S=Package.random.Random,T=Package["geojson-utils"].GeoJSON;(function(){e=function(t){var n=this;n.name=t,n._docs=new e._IdMap,n._observeQueue=new m._SynchronousQueue,n.next_qid=1,n.queries={},n._savedOriginals=null,n.paused=!1},t={},n={},e._applyChanges=function(e,t){v.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})},r=function(e){var t=new Error(e);return t.name="MinimongoError",t},e.prototype.find=function(t,n){return 0===arguments.length&&(t={}),new e.Cursor(this,t,n)},e.Cursor=function(n,r,o){var i=this;o||(o={}),i.collection=n,i.sorter=null,e._selectorIsId(r)?(i._selectorId=r,i.matcher=new t.Matcher(r,i)):(i._selectorId=void 0,i.matcher=new t.Matcher(r,i),(i.matcher.hasGeoQuery()||o.sort)&&(i.sorter=new t.Sorter(o.sort||[],{matcher:i.matcher}))),i.skip=o.skip,i.limit=o.limit,i.fields=o.fields,i.fields&&(i.projectionFn=e._compileProjection(i.fields)),i._transform=e.wrapTransform(o.transform),i.db_objects=null,i.cursor_pos=0,"undefined"!=typeof k&&(i.reactive=void 0===o.reactive?!0:o.reactive)},e.Cursor.prototype.rewind=function(){var e=this;e.db_objects=null,e.cursor_pos=0},e.prototype.findOne=function(e,t){return 0===arguments.length&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},e.Cursor.prototype.forEach=function(e,t){var n=this;for(null===n.db_objects&&(n.db_objects=n._getRawObjects({ordered:!0})),n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0});n.cursor_pos<n.db_objects.length;){var r=y.clone(n.db_objects[n.cursor_pos]);n.projectionFn&&(r=n.projectionFn(r)),n._transform&&(r=n._transform(r)),e.call(t,r,n.cursor_pos,n),++n.cursor_pos}},e.Cursor.prototype.getTransform=function(){return this._transform},e.Cursor.prototype.map=function(e,t){var n=this,r=[];return n.forEach(function(o,i){r.push(e.call(t,o,i,n))}),r},e.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},e.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),null===e.db_objects&&(e.db_objects=e._getRawObjects({ordered:!0})),e.db_objects.length},e.Cursor.prototype._publishCursor=function(e){var t=this;if(!t.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var n=t.collection.name;return m.Collection._publishCursor(t,e,n)},e.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},e._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},e._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},e.ObserveHandle=function(){},v.extend(e.Cursor.prototype,{observe:function(t){var n=this;return e._observeFromObserveChanges(n,t)},observeChanges:function(t){var n=this,r=e._observeChangesCallbacksAreOrdered(t);if(!t._allow_unordered&&!r&&(n.skip||n.limit))throw new Error("must use ordered observe with skip or limit");if(n.fields&&(0===n.fields._id||n.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var o,i={matcher:n.matcher,sorter:r&&n.sorter,distances:n.matcher.hasGeoQuery()&&r&&new e._IdMap,resultsSnapshot:null,ordered:r,cursor:n,projectionFn:n.projectionFn};n.reactive&&(o=n.collection.next_qid++,n.collection.queries[o]=i),i.results=n._getRawObjects({ordered:r,distances:i.distances}),n.collection.paused&&(i.resultsSnapshot=r?[]:new e._IdMap);var a=function(e,t,r){return e?function(){var o=this,i=arguments;n.collection.paused||void 0!==t&&n.projectionFn&&(i[t]=n.projectionFn(i[t]),r&&v.isEmpty(i[t]))||n.collection._observeQueue.queueTask(function(){e.apply(o,i)})}:function(){}};if(i.added=a(t.added,1),i.changed=a(t.changed,1,!0),i.removed=a(t.removed),r&&(i.addedBefore=a(t.addedBefore,1),i.movedBefore=a(t.movedBefore)),!t._suppress_initial&&!n.collection.paused){var s=r?v.bind(v.each,null,i.results):v.bind(i.results.forEach,i.results);s(function(e){var t=y.clone(e);delete t._id,r&&i.addedBefore(e._id,t,null),i.added(e._id,t)})}var c=new e.ObserveHandle;return v.extend(c,{collection:n.collection,stop:function(){n.reactive&&delete n.collection.queries[o]}}),n.reactive&&k.active&&k.onInvalidate(function(){c.stop()}),n.collection._observeQueue.drain(),c}}),e.Cursor.prototype._getRawObjects=function(t){var n=this;t=t||{};var r=t.ordered?[]:new e._IdMap;if(void 0!==n._selectorId){if(n.skip)return r;var o=n.collection._docs.get(n._selectorId);return o&&(t.ordered?r.push(o):r.set(n._selectorId,o)),r}var i;if(n.matcher.hasGeoQuery()&&t.ordered&&(t.distances?(i=t.distances,i.clear()):i=new e._IdMap),n.collection._docs.forEach(function(e,o){var a=n.matcher.documentMatches(e);return a.result&&(t.ordered?(r.push(e),i&&void 0!==a.distance&&i.set(o,a.distance)):r.set(o,e)),!n.limit||n.skip||n.sorter||r.length!==n.limit?!0:!1}),!t.ordered)return r;if(n.sorter){var a=n.sorter.getComparator({distances:i});r.sort(a)}var s=n.skip||0,c=n.limit?n.limit+s:r.length;return r.slice(s,c)},e.Cursor.prototype._depend=function(e,t){var n=this;if(k.active){var r=new k.Dependency;r.depend();var o=v.bind(r.changed,r),i={_suppress_initial:!0,_allow_unordered:t};v.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(i[t]=o)}),n.observeChanges(i)}},e.prototype.insert=function(t,n){var o=this;t=y.clone(t),v.has(t,"_id")||(t._id=e._useOID?new e._ObjectID:S.id());var i=t._id;if(o._docs.has(i))throw r("Duplicate _id '"+i+"'");o._saveOriginal(i,void 0),o._docs.set(i,t);var a=[];for(var s in o.queries){var c=o.queries[s],u=c.matcher.documentMatches(t);u.result&&(c.distances&&void 0!==u.distance&&c.distances.set(i,u.distance),c.cursor.skip||c.cursor.limit?a.push(s):e._insertInResults(c,t))}return v.each(a,function(t){o.queries[t]&&e._recomputeResults(o.queries[t])}),o._observeQueue.drain(),n&&m.defer(function(){n(null,i)}),i},e.prototype._eachPossiblyMatchingDoc=function(t,n){var r=this,o=e._idsMatchedBySelector(t);if(o)for(var i=0;i<o.length;++i){var a=o[i],s=r._docs.get(a);if(s){var c=n(s,a);if(c===!1)break}}else r._docs.forEach(n)},e.prototype.remove=function(n,r){var o=this;if(o.paused&&!o._savedOriginals&&y.equals(n,{})){var i=o._docs.size();return o._docs.clear(),v.each(o.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),r&&m.defer(function(){r(null,i)}),i}var a=new t.Matcher(n,o),s=[];o._eachPossiblyMatchingDoc(n,function(e,t){a.documentMatches(e).result&&s.push(t)});for(var c=[],u=[],l=0;l<s.length;l++){var f=s[l],d=o._docs.get(f);v.each(o.queries,function(e,t){e.matcher.documentMatches(d).result&&(e.cursor.skip||e.cursor.limit?c.push(t):u.push({qid:t,doc:d}))
}),o._saveOriginal(f,d),o._docs.remove(f)}return v.each(u,function(t){var n=o.queries[t.qid];n&&(n.distances&&n.distances.remove(t.doc._id),e._removeFromResults(n,t.doc))}),v.each(c,function(t){var n=o.queries[t];n&&e._recomputeResults(n)}),o._observeQueue.drain(),i=s.length,r&&m.defer(function(){r(null,i)}),i},e.prototype.update=function(n,r,o,i){var a=this;!i&&o instanceof Function&&(i=o,o=null),o||(o={});var s=new t.Matcher(n,a),c={};v.each(a.queries,function(e,t){!e.cursor.skip&&!e.cursor.limit||e.paused||(c[t]=y.clone(e.results))});var u={},l=0;a._eachPossiblyMatchingDoc(n,function(e,t){var n=s.documentMatches(e);return n.result&&(a._saveOriginal(t,e),a._modifyAndNotify(e,r,u,n.arrayIndices),++l,!o.multi)?!1:!0}),v.each(u,function(t,n){var r=a.queries[n];r&&e._recomputeResults(r,c[n])}),a._observeQueue.drain();var f;if(0===l&&o.upsert){var d=e._removeDollarOperators(n);e._modify(d,r,{isInsert:!0}),!d._id&&o.insertedId&&(d._id=o.insertedId),f=a.insert(d),l=1}var p;return o._returnObject?(p={numberAffected:l},void 0!==f&&(p.insertedId=f)):p=l,i&&m.defer(function(){i(null,p)}),p},e.prototype.upsert=function(e,t,n,r){var o=this;return r||"function"!=typeof n||(r=n,n={}),o.update(e,t,v.extend({},n,{upsert:!0,_returnObject:!0}),r)},e.prototype._modifyAndNotify=function(t,n,r,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];a[s]=c.ordered?c.matcher.documentMatches(t).result:c.results.has(t._id)}var u=y.clone(t);e._modify(t,n,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var l=a[s],f=c.matcher.documentMatches(t),d=f.result;d&&c.distances&&void 0!==f.distance&&c.distances.set(t._id,f.distance),c.cursor.skip||c.cursor.limit?(l||d)&&(r[s]=!0):l&&!d?e._removeFromResults(c,t):!l&&d?e._insertInResults(c,t):l&&d&&e._updateInResults(c,t,u)}},e._insertInResults=function(t,n){var r=y.clone(n);if(delete r._id,t.ordered){if(t.sorter){var o=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n),i=t.results[o+1];i=i?i._id:null,t.addedBefore(n._id,r,i)}else t.addedBefore(n._id,r,null),t.results.push(n);t.added(n._id,r)}else t.added(n._id,r),t.results.set(n._id,n)},e._removeFromResults=function(t,n){if(t.ordered){var r=e._findInOrderedResults(t,n);t.removed(n._id),t.results.splice(r,1)}else{var o=n._id;t.removed(n._id),t.results.remove(o)}},e._updateInResults=function(t,n,r){if(!y.equals(n._id,r._id))throw new Error("Can't change a doc's _id while updating");var o=e._makeChangedFields(n,r);if(!t.ordered)return v.isEmpty(o)||(t.changed(n._id,o),t.results.set(n._id,n)),void 0;var i=e._findInOrderedResults(t,n);if(v.isEmpty(o)||t.changed(n._id,o),t.sorter){t.results.splice(i,1);var a=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n);if(i!==a){var s=t.results[a+1];s=s?s._id:null,t.movedBefore&&t.movedBefore(n._id,s)}}},e._recomputeResults=function(t,n){n||(n=t.results),t.distances&&t.distances.clear(),t.results=t.cursor._getRawObjects({ordered:t.ordered,distances:t.distances}),t.paused||e._diffQueryChanges(t.ordered,n,t.results,t)},e._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},e._binarySearch=function(e,t,n){for(var r=0,o=t.length;o>0;){var i=Math.floor(o/2);e(n,t[r+i])>=0?(r+=i+1,o-=i+1):o=i}return r},e._insertInSortedList=function(t,n,r){if(0===n.length)return n.push(r),0;var o=e._binarySearch(t,n,r);return n.splice(o,0,r),o},e.prototype.saveOriginals=function(){var t=this;if(t._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");t._savedOriginals=new e._IdMap},e.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},e.prototype._saveOriginal=function(e,t){var n=this;n._savedOriginals&&(n._savedOriginals.has(e)||n._savedOriginals.set(e,y.clone(t)))},e.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.resultsSnapshot=y.clone(t.results)}}},e.prototype.resumeObservers=function(){var t=this;if(this.paused){this.paused=!1;for(var n in this.queries){var r=t.queries[n];e._diffQueryChanges(r.ordered,r.resultsSnapshot,r.results,r),r.resultsSnapshot=null}t._observeQueue.drain()}},e._idStringify=function(t){if(t instanceof e._ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||e._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+b.stringify(t)},e._idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?b.parse(t.substr(1)):e._looksLikeObjectID(t)?new e._ObjectID(t):t},e._makeChangedFields=function(t,n){var r={};return e._diffObjects(n,t,{leftOnly:function(e){r[e]=void 0},rightOnly:function(e,t){r[e]=t},both:function(e,t,n){y.equals(t,n)||(r[e]=n)}}),r}}).call(this),function(){e.wrapTransform=function(e){return e?function(t){if(!v.has(t,"_id"))throw new Error("can only transform documents with _id");var n=t._id,r=k.nonreactive(function(){return e(t)});if(!i(r))throw new Error("transform must return object");if(v.has(r,"_id")){if(!y.equals(r._id,n))throw new Error("transformed document can't have different _id")}else r._id=n;return r}:null}}.call(this),function(){o=function(e){return v.isArray(e)&&!y.isBinary(e)},i=function(t){return t&&3===e._f._type(t)},a=function(e){return o(e)||i(e)},s=function(e,t){if(!i(e))return!1;var n=void 0;return v.each(e,function(r,o){var i="$"===o.substr(0,1);if(void 0===n)n=i;else if(n!==i){if(!t)throw new Error("Inconsistent operator: "+b.stringify(e));n=!1}}),!!n},c=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){t.Matcher=function(e){var t=this;t._paths={},t._hasGeoQuery=!1,t._hasWhere=!1,t._isSimple=!0,t._matchingDocument=void 0,t._selector=null,t._docMatcher=t._compileSelector(e)},v.extend(t.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(t){var n=this;if(t instanceof Function)return n._isSimple=!1,n._selector=t,n._recordPathUsed(""),function(e){return{result:!!t.call(e)}};if(e._selectorIsId(t))return n._selector={_id:t},n._recordPathUsed("_id"),function(e){return{result:y.equals(e._id,t)}};if(!t||"_id"in t&&!t._id)return n._isSimple=!1,E;if("boolean"==typeof t||o(t)||y.isBinary(t))throw new Error("Invalid selector: "+t);return n._selector=y.clone(t),r(t,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return v.keys(this._paths)}});var r=function(e,t,n){n=n||{};var r=[];return v.each(e,function(e,o){if("$"===o.substr(0,1)){if(!v.has(_,o))throw new Error("Unrecognized logical operator: "+o);t._isSimple=!1,r.push(_[o](e,t,n.inElemMatch))}else{n.inElemMatch||t._recordPathUsed(o);var i=d(o),a=h(e,t,n.isRoot);r.push(function(e){var t=i(e);return a(t)})}}),A(r)},h=function(e,t,n){return e instanceof RegExp?(t._isSimple=!1,g(u(e))):s(e)?m(e,t,n):g(l(e))},g=function(e,t){return t=t||{},function(n){var r=n;t.dontExpandLeafArrays||(r=p(n,t.dontIncludeLeafArrays));var o={};return o.result=v.any(r,function(t){var n=e(t.value);return"number"==typeof n&&(t.arrayIndices||(t.arrayIndices=[n]),n=!0),n&&t.arrayIndices&&(o.arrayIndices=t.arrayIndices),n}),o}};u=function(e){return function(t){return t instanceof RegExp?v.isEqual(t,e):"string"!=typeof t?!1:e.test(t)}},l=function(t){if(s(t))throw Error("Can't create equalityValueSelector for operator object");return null==t?function(e){return null==e}:function(n){return e._f._equal(t,n)}};var m=function(e,t,n){var r=[];return v.each(e,function(o,i){var a=v.contains(["$lt","$lte","$gt","$gte"],i)&&v.isNumber(o),s="$ne"===i&&!v.isObject(o),c=v.contains(["$in","$nin"],i)&&v.isArray(o)&&!v.any(o,v.isObject);if("$eq"===i||a||c||s||(t._isSimple=!1),v.has(k,i))r.push(k[i](o,e,t,n));else{if(!v.has(f,i))throw new Error("Unrecognized operator: "+i);var u=f[i];r.push(g(u.compileElementSelector(o,e,t),u))}}),M(r)},b=function(e,t,n){if(!o(e)||v.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");return v.map(e,function(e){if(!i(e))throw Error("$or/$and/$nor entries need to be full objects");return r(e,t,{inElemMatch:n})})},_={$and:function(e,t,n){var r=b(e,t,n);return A(r)},$or:function(e,t,n){var r=b(e,t,n);return 1===r.length?r[0]:function(e){var t=v.any(r,function(t){return t(e).result});return{result:t}}},$nor:function(e,t,n){var r=b(e,t,n);return function(e){var t=v.all(r,function(t){return!t(e).result});return{result:t}}},$where:function(e,t){return t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(t){return{result:e.call(t,t)}}},$comment:function(){return function(){return{result:!0}}}},w=function(e){return function(t){var n=e(t);return{result:!n.result}}},k={$not:function(e,t,n){return w(h(e,n))},$ne:function(e){return w(g(l(e)))},$nin:function(e){return w(g(f.$in.compileElementSelector(e)))},$exists:function(e){var t=g(function(e){return void 0!==e});return e?t:w(t)},$options:function(e,t){if(!v.has(t,"$regex"))throw Error("$options needs a $regex");return I},$maxDistance:function(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return I},$all:function(e,t,n){if(!o(e))throw Error("$all requires array");if(v.isEmpty(e))return E;var r=[];return v.each(e,function(e){if(s(e))throw Error("no $ expressions in $all");r.push(h(e,n))}),M(r)},$near:function(e,t,n,r){if(!r)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var a,s,c;if(i(e)&&v.has(e,"$geometry"))a=e.$maxDistance,s=e.$geometry,c=function(e){return e&&e.type?"Point"===e.type?T.pointDistance(s,e):T.geometryWithinRadius(e,s,a)?0:a+1:null};else{if(a=t.$maxDistance,!o(e)&&!i(e))throw Error("$near argument must be coordinate pair or GeoJSON");s=C(e),c=function(e){return o(e)||i(e)?S(s,e):null}}return function(e){e=p(e);var t={result:!1};return v.each(e,function(e){var n=c(e.value);null===n||n>a||void 0!==t.distance&&t.distance<=n||(t.result=!0,t.distance=n,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},S=function(e,t){e=C(e),t=C(t);var n=e[0]-t[0],r=e[1]-t[1];return v.isNaN(n)||v.isNaN(r)?null:Math.sqrt(n*n+r*r)},C=function(e){return v.map(e,v.identity)},x=function(t){return{compileElementSelector:function(n){if(o(n))return function(){return!1};void 0===n&&(n=null);var r=e._f._type(n);return function(o){return void 0===o&&(o=null),e._f._type(o)!==r?!1:t(e._f._cmp(o,n))}}}};f={$lt:x(function(e){return 0>e}),$gt:x(function(e){return e>0}),$lte:x(function(e){return 0>=e}),$gte:x(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!o(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var t=e[0],n=e[1];return function(e){return"number"==typeof e&&e%t===n}}},$in:{compileElementSelector:function(e){if(!o(e))throw Error("$in needs an array");var t=[];return v.each(e,function(e){if(e instanceof RegExp)t.push(u(e));else{if(s(e))throw Error("cannot nest $ under $in");t.push(l(e))}}),function(e){return void 0===e&&(e=null),v.any(t,function(t){return t(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(t){return o(t)&&t.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(t){if("number"!=typeof t)throw Error("$type needs a number");return function(n){return void 0!==n&&e._f._type(n)===t}}},$regex:{compileElementSelector:function(e,t){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var n;if(void 0!==t.$options){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");var r=e instanceof RegExp?e.source:e;n=new RegExp(r,t.$options)}else n=e instanceof RegExp?e:new RegExp(e);return u(n)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(e,t,n){if(!i(e))throw Error("$elemMatch need an object");var a,c;return s(e,!0)?(a=h(e,n),c=!1):(a=r(e,n,{inElemMatch:!0}),c=!0),function(e){if(!o(e))return!1;for(var t=0;t<e.length;++t){var n,r=e[t];if(c){if(!i(r)&&!o(r))return!1;n=r}else n=[{value:r,dontIterate:!0}];if(a(n).result)return t}return!1}}}},d=function(e){var t,n=e.split("."),r=n.length?n[0]:"",s=c(r);n.length>1&&(t=d(n.slice(1).join(".")));var u=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),o(e)){if(!(s&&r<e.length))return[];n=n.concat(+r,"x")}var c=e[r];if(!t)return[u({value:c,dontIterate:o(e)&&o(c),arrayIndices:n})];if(!a(c))return o(e)?[]:[u({value:void 0,arrayIndices:n})];var l=[],f=function(e){Array.prototype.push.apply(l,e)};return f(t(c,n)),o(c)&&v.each(c,function(e,r){i(e)&&f(t(e,n.concat(r)))}),l}},n.makeLookupFunction=d,p=function(e,t){var n=[];return v.each(e,function(e){var r=o(e.value);t&&r&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),r&&!e.dontIterate&&v.each(e.value,function(t,r){n.push({value:t,arrayIndices:(e.arrayIndices||[]).concat(r)})})}),n};var E=function(){return{result:!1}},I=function(){return{result:!0}},P=function(e){return 0===e.length?I:1===e.length?e[0]:function(t){var n={};return n.result=v.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=P,M=P;e._f={_type:function(t){return"number"==typeof t?1:"string"==typeof t?2:"boolean"==typeof t?8:o(t)?4:null===t?10:t instanceof RegExp?11:"function"==typeof t?13:t instanceof Date?9:y.isBinary(t)?5:t instanceof e._ObjectID?7:3},_equal:function(e,t){return y.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(t,n){if(void 0===t)return void 0===n?0:-1;if(void 0===n)return 1;var r=e._f._type(t),o=e._f._type(n),i=e._f._typeorder(r),a=e._f._typeorder(o);if(i!==a)return a>i?-1:1;if(r!==o)throw Error("Missing type coercion logic in _cmp");if(7===r&&(r=o=2,t=t.toHexString(),n=n.toHexString()),9===r&&(r=o=1,t=t.getTime(),n=n.getTime()),1===r)return t-n;if(2===o)return n>t?-1:t===n?0:1;if(3===r){var s=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return e._f._cmp(s(t),s(n))}if(4===r)for(var c=0;;c++){if(c===t.length)return c===n.length?0:-1;if(c===n.length)return 1;var u=e._f._cmp(t[c],n[c]);if(0!==u)return u}if(5===r){if(t.length!==n.length)return t.length-n.length;for(c=0;c<t.length;c++){if(t[c]<n[c])return-1;if(t[c]>n[c])return 1}return 0}if(8===r)return t?n?0:1:n?-1:0;if(10===r)return 0;if(11===r)throw Error("Sorting not supported on regular expression");if(13===r)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},e._removeDollarOperators=function(e){var t={};for(var n in e)"$"!==n.substr(0,1)&&(t[n]=e[n]);return t}}.call(this),function(){t.Sorter=function(e,r){var o=this;r=r||{},o._sortSpecParts=[];var i=function(e,t){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:d(e),ascending:t})};if(e instanceof Array)for(var a=0;a<e.length;a++)"string"==typeof e[a]?i(e[a],!0):i(e[a][0],"desc"!==e[a][1]);else{if("object"!=typeof e)throw Error("Bad sort specification: "+b.stringify(e));v.each(e,function(e,t){i(t,e>=0)})}if(o.affectedByModifier){var s={};v.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new t.Matcher(s)}o._keyComparator=n(v.map(o._sortSpecParts,function(e,t){return o._keyFieldComparator(t)})),o._keyFilter=null,r.matcher&&o._useWithMatcher(r.matcher)},v.extend(t.Sorter.prototype,{getComparator:function(e){var t=this;if(!e||!e.distances)return t._getBaseComparator();var r=e.distances;return n([t._getBaseComparator(),function(e,t){if(!r.has(e._id))throw Error("Missing distance for "+e._id);if(!r.has(t._id))throw Error("Missing distance for "+t._id);return r.get(e._id)-r.get(t._id)}])},_getPaths:function(){var e=this;return v.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var t=this,n=null;if(t._generateKeysFromDoc(e,function(e){return t._keyCompatibleWithSelector(e)?null===n?(n=e,void 0):(t._compareKeys(e,n)<0&&(n=e),void 0):void 0}),null===n)throw Error("sort selector found no keys in doc?");return n},_keyCompatibleWithSelector:function(e){var t=this;return!t._keyFilter||t._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var r=[],o=function(e){return e.join(",")+","},i=null;if(v.each(n._sortSpecParts,function(t,n){var a=p(t.lookup(e),!0);a.length||(a=[{value:null}]);var s=!1;if(r[n]={},v.each(a,function(e){if(!e.arrayIndices){if(a.length>1)throw Error("multiple branches but no array used?");return r[n][""]=e.value,void 0}s=!0;var t=o(e.arrayIndices);if(v.has(r[n],t))throw Error("duplicate path: "+t);if(r[n][t]=e.value,i&&!v.has(i,t))throw Error("cannot index parallel arrays")}),i){if(!v.has(r[n],"")&&v.size(i)!==v.size(r[n]))throw Error("cannot index parallel arrays!")}else s&&(i={},v.each(r[n],function(e,t){i[t]=!0}))}),!i){var a=v.map(r,function(e){if(!v.has(e,""))throw Error("no value in sole key case?");return e[""]});return t(a),void 0}v.each(i,function(e,n){var o=v.map(r,function(e){if(v.has(e,""))return e[""];if(!v.has(e,n))throw Error("missing path?");return e[n]});t(o)})},_compareKeys:function(e,t){var n=this;if(e.length!==n._sortSpecParts.length||t.length!==n._sortSpecParts.length)throw Error("Key has wrong length");return n._keyComparator(e,t)},_keyFieldComparator:function(t){var n=this,r=!n._sortSpecParts[t].ascending;return function(n,o){var i=e._f._cmp(n[t],o[t]);return r&&(i=-i),i}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(t,n){var r=e._getMinKeyFromDoc(t),o=e._getMinKeyFromDoc(n);return e._compareKeys(r,o)}:function(){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!v.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var r={};v.each(t._sortSpecParts,function(e){r[e.path]=[]}),v.each(n,function(e,t){var n=r[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return n.push(u(e)),void 0}return s(e)?(v.each(e,function(t,r){v.contains(["$lt","$lte","$gt","$gte"],r)&&n.push(f[r].compileElementSelector(t)),"$regex"!==r||e.$options||n.push(f.$regex.compileElementSelector(t,e))}),void 0):(n.push(l(e)),void 0)}}),v.isEmpty(r[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return v.all(t._sortSpecParts,function(t,n){return v.all(r[t.path],function(t){return t(e[n])})})})}}}});var n=function(e){return function(t,n){for(var r=0;r<e.length;++r){var o=e[r](t,n);if(0!==o)return o}return 0}}}.call(this),function(){e._compileProjection=function(t){e._checkSupportedProjection(t);var n=v.isUndefined(t._id)?!0:t._id,r=h(t),o=function(e,t){if(v.isArray(e))return v.map(e,function(e){return o(e,t)});var n=r.including?{}:y.clone(e);return v.each(t,function(t,i){v.has(e,i)&&(v.isObject(t)?v.isObject(e[i])&&(n[i]=o(e[i],t)):r.including?n[i]=y.clone(e[i]):delete n[i])}),n};return function(e){var t=o(e,r.tree);return n&&v.has(e,"_id")&&(t._id=e._id),!n&&v.has(t,"_id")&&delete t._id,t}},h=function(e){var t=v.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=v.reject(t,function(e){return"_id"===e}));var n=null;v.each(t,function(t){var o=!!e[t];if(null===n&&(n=o),n!==o)throw r("You cannot currently mix including and excluding fields.")});var o=g(t,function(){return n},function(e,t,n){var o=n,i=t;throw r("both "+o+" and "+i+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},g=function(e,t,n,r){return r=r||{},v.each(e,function(e){var o=r,i=e.split("."),a=v.all(i.slice(0,-1),function(t,r){if(v.has(o,t)){if(!v.isObject(o[t])&&(o[t]=n(o[t],i.slice(0,r+1).join("."),e),!v.isObject(o[t])))return!1}else o[t]={};return o=o[t],!0});if(a){var s=v.last(i);o[s]=v.has(o,s)?n(o[s],e,e):t(e)}}),r},e._checkSupportedProjection=function(e){if(!v.isObject(e)||v.isArray(e))throw r("fields option must be an object");v.each(e,function(e,t){if(v.contains(t.split("."),"$"))throw r("Minimongo doesn't support $ operator in projections yet.");if(-1===v.indexOf([1,0,!0,!1],e))throw r("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){e._modify=function(e,t,a){if(a=a||{},!i(t))throw r("Modifier must be an object");var c,l=s(t);if(l)c=y.clone(e),v.each(t,function(e,t){var i=u[t];if(a.isInsert&&"$setOnInsert"===t&&(i=u.$set),!i)throw r("Invalid modifier specified "+t);v.each(e,function(e,s){if(s.length&&"."===s[s.length-1])throw r("Invalid mod field name, may not end in a period");if("_id"===s)throw r("Mod on _id not allowed");var u=s.split("."),l=(v.has(o,t),n(c,u,{noCreate:o[t],forbidArray:"$rename"===t,arrayIndices:a.arrayIndices})),f=u.pop();i(l,f,e,s,c)})});else{if(t._id&&!y.equals(e._id,t._id))throw r("Cannot change the _id of a document");for(var f in t)if(/\./.test(f))throw r("When replacing document, field name may not contain '.'");c=t}v.each(v.keys(e),function(t){("_id"!==t||a.isInsert)&&delete e[t]}),v.each(c,function(t,n){e[n]=t})};var n=function(e,t,n){n=n||{};for(var o=!1,i=0;i<t.length;i++){var s=i===t.length-1,u=t[i],l=a(e);if(!l){if(n.noCreate)return void 0;var f=r("cannot use the part '"+u+"' to traverse "+e);throw f.setPropertyError=!0,f}if(e instanceof Array){if(n.forbidArray)return null;if("$"===u){if(o)throw r("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw r("The positional operator did not find the match needed from the query");u=n.arrayIndices[0],o=!0}else{if(!c(u)){if(n.noCreate)return void 0;throw r("can't append to array using string field name ["+u+"]")}u=parseInt(u)}if(s&&(t[i]=u),n.noCreate&&u>=e.length)return void 0;for(;e.length<u;)e.push(null);if(!s)if(e.length===u)e.push({});else if("object"!=typeof e[u])throw r("can't modify field '"+t[i+1]+"' of list value "+b.stringify(e[u]))}else{if(u.length&&"$"===u.substr(0,1))throw r("can't set field named "+u);if(!(u in e)){if(n.noCreate)return void 0;s||(e[u]={})}}if(s)return e;e=e[u]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},u={$inc:function(e,t,n){if("number"!=typeof n)throw r("Modifier $inc allowed for numbers only");if(t in e){if("number"!=typeof e[t])throw r("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if(!v.isObject(e)){var o=r("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=r("Cannot set property on null");throw o.setPropertyError=!0,o}e[t]=y.clone(n)},$setOnInsert:function(){},$unset:function(e,t){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(n,o,i){if(void 0===n[o]&&(n[o]=[]),!(n[o]instanceof Array))throw r("Cannot apply $push modifier to non-array");if(!i||!i.$each)return n[o].push(y.clone(i)),void 0;var a=i.$each;if(!(a instanceof Array))throw r("$each must be an array");var s=void 0;if("$slice"in i){if("number"!=typeof i.$slice)throw r("$slice must be a numeric value");if(i.$slice>0)throw r("$slice in $push must be zero or negative");s=i.$slice}var c=void 0;if(i.$sort){if(void 0===s)throw r("$sort requires $slice to be present");c=new t.Sorter(i.$sort).getComparator();for(var u=0;u<a.length;u++)if(3!==e._f._type(a[u]))throw r("$push like modifiers using $sort require all elements to be objects")}for(var l=0;l<a.length;l++)n[o].push(y.clone(a[l]));c&&n[o].sort(c),void 0!==s&&(n[o]=0===s?[]:n[o].slice(s))},$pushAll:function(e,t,n){if(!("object"==typeof n&&n instanceof Array))throw r("Modifier $pushAll/pullAll allowed for arrays only");var o=e[t];if(void 0===o)e[t]=n;else{if(!(o instanceof Array))throw r("Cannot apply $pushAll modifier to non-array");for(var i=0;i<n.length;i++)o.push(n[i])}},$addToSet:function(t,n,o){var i=t[n];if(void 0===i)t[n]=[o];else{if(!(i instanceof Array))throw r("Cannot apply $addToSet modifier to non-array");var a=!1;if("object"==typeof o)for(var s in o){"$each"===s&&(a=!0);break}var c=a?o.$each:[o];v.each(c,function(t){for(var n=0;n<i.length;n++)if(e._f._equal(t,i[n]))return;i.push(y.clone(t))})}},$pop:function(e,t,n){if(void 0!==e){var o=e[t];if(void 0!==o){if(!(o instanceof Array))throw r("Cannot apply $pop modifier to non-array");"number"==typeof n&&0>n?o.splice(0,1):o.pop()}}},$pull:function(n,o,i){if(void 0!==n){var a=n[o];if(void 0!==a){if(!(a instanceof Array))throw r("Cannot apply $pull/pullAll modifier to non-array");var s=[];if("object"!=typeof i||i instanceof Array)for(var c=0;c<a.length;c++)e._f._equal(a[c],i)||s.push(a[c]);else for(var u=new t.Matcher(i),c=0;c<a.length;c++)u.documentMatches(a[c]).result||s.push(a[c]);n[o]=s}}},$pullAll:function(t,n,o){if(!("object"==typeof o&&o instanceof Array))throw r("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==t){var i=t[n];if(void 0!==i){if(!(i instanceof Array))throw r("Cannot apply $pull/pullAll modifier to non-array");for(var a=[],s=0;s<i.length;s++){for(var c=!1,u=0;u<o.length;u++)if(e._f._equal(i[s],o[u])){c=!0;break}c||a.push(i[s])}t[n]=a}}},$rename:function(e,t,o,i,a){if(i===o)throw r("$rename source must differ from target");if(null===e)throw r("$rename source field invalid");if("string"!=typeof o)throw r("$rename target must be a string");if(void 0!==e){var s=e[t];delete e[t];var c=o.split("."),u=n(a,c,{forbidArray:!0});if(null===u)throw r("$rename target field invalid");var l=c.pop();u[l]=s}},$bit:function(){throw r("$bit is not supported")}}}.call(this),function(){e._diffQueryChanges=function(t,n,r,o){t?e._diffQueryOrderedChanges(n,r,o):e._diffQueryUnorderedChanges(n,r,o)},e._diffQueryUnorderedChanges=function(t,n,r){if(r.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var i=t.get(o);if(i)r.changed&&!y.equals(i,n)&&r.changed(o,e._makeChangedFields(n,i));else if(r.added){var a=y.clone(n);delete a._id,r.added(n._id,a)}}),r.removed&&t.forEach(function(e,t){n.has(t)||r.removed(t)})},e._diffQueryOrderedChanges=function(t,n,r){var o={};v.each(n,function(e){o[e._id]&&m._debug("Duplicate _id in new_results"),o[e._id]=!0});var i={};v.each(t,function(e,t){e._id in i&&m._debug("Duplicate _id in old_results"),i[e._id]=t});for(var a=[],s=0,c=n.length,u=new Array(c),l=new Array(c),f=function(e){return i[n[e]._id]},d=0;c>d;d++)if(void 0!==i[n[d]._id]){for(var p=s;p>0&&!(f(u[p-1])<f(d));)p--;l[d]=0===p?-1:u[p-1],u[p]=d,p+1>s&&(s=p+1)}for(var h=0===s?-1:u[s-1];h>=0;)a.push(h),h=l[h];a.reverse(),a.push(n.length),v.each(t,function(e){o[e._id]||r.removed&&r.removed(e._id)});var g=0;v.each(a,function(o){for(var a,s,c,u=n[o]?n[o]._id:null,l=g;o>l;l++)s=n[l],v.has(i,s._id)?(a=t[i[s._id]],c=e._makeChangedFields(s,a),v.isEmpty(c)||r.changed&&r.changed(s._id,c),r.movedBefore&&r.movedBefore(s._id,u)):(c=y.clone(s),delete c._id,r.addedBefore&&r.addedBefore(s._id,c,u),r.added&&r.added(s._id,c));u&&(s=n[o],a=t[i[s._id]],c=e._makeChangedFields(s,a),v.isEmpty(c)||r.changed&&r.changed(s._id,c)),g=o+1})},e._diffObjects=function(e,t,n){v.each(e,function(e,r){v.has(t,r)?n.both&&n.both(r,e,t[r]):n.leftOnly&&n.leftOnly(r,e)}),n.rightOnly&&v.each(t,function(t,r){v.has(e,r)||n.rightOnly(r,t)})}}.call(this),function(){e._IdMap=function(){var t=this;_.call(t,e._idStringify,e._idParse)},m._inherits(e._IdMap,_)}.call(this),function(){e._CachingChangeObserver=function(t){var n=this;t=t||{};var r=t.callbacks&&e._observeChangesCallbacksAreOrdered(t.callbacks);if(v.has(t,"ordered")){if(n.ordered=t.ordered,t.callbacks&&t.ordered!==r)throw Error("ordered option doesn't match callbacks")}else{if(!t.callbacks)throw Error("must provide ordered or callbacks");n.ordered=r}var o=t.callbacks||{};n.ordered?(n.docs=new w(e._idStringify),n.applyChange={addedBefore:function(e,t,r){var i=y.clone(t);i._id=e,o.addedBefore&&o.addedBefore.call(n,e,t,r),o.added&&o.added.call(n,e,t),n.docs.putBefore(e,i,r||null)},movedBefore:function(e,t){n.docs.get(e);o.movedBefore&&o.movedBefore.call(n,e,t),n.docs.moveBefore(e,t||null)}}):(n.docs=new e._IdMap,n.applyChange={added:function(e,t){var r=y.clone(t);o.added&&o.added.call(n,e,t),r._id=e,n.docs.set(e,r)}}),n.applyChange.changed=function(t,r){var i=n.docs.get(t);if(!i)throw new Error("Unknown id for changed: "+t);o.changed&&o.changed.call(n,t,y.clone(r)),e._applyChanges(i,r)},n.applyChange.removed=function(e){o.removed&&o.removed.call(n,e),n.docs.remove(e)}},e._observeFromObserveChanges=function(t,n){var r,o=t.getTransform()||function(e){return e},i=!!n._suppress_initial;if(e._observeCallbacksAreOrdered(n)){var a=!n._no_indices;r={addedBefore:function(e,t,r){var s=this;if(!i&&(n.addedAt||n.added)){var c=o(v.extend(t,{_id:e}));if(n.addedAt){var u=a?r?s.docs.indexOf(r):s.docs.size():-1;n.addedAt(c,u,r)}else n.added(c)}},changed:function(t,r){var i=this;if(n.changedAt||n.changed){var s=y.clone(i.docs.get(t));if(!s)throw new Error("Unknown id for changed: "+t);var c=o(y.clone(s));if(e._applyChanges(s,r),s=o(s),n.changedAt){var u=a?i.docs.indexOf(t):-1;n.changedAt(s,c,u)}else n.changed(s,c)}},movedBefore:function(e,t){var r=this;if(n.movedTo){var i=a?r.docs.indexOf(e):-1,s=a?t?r.docs.indexOf(t):r.docs.size():-1;s>i&&--s,n.movedTo(o(y.clone(r.docs.get(e))),i,s,t||null)}},removed:function(e){var t=this;if(n.removedAt||n.removed){var r=o(t.docs.get(e));if(n.removedAt){var i=a?t.docs.indexOf(e):-1;n.removedAt(r,i)}else n.removed(r)}}}}else r={added:function(e,t){if(!i&&n.added){var r=v.extend(t,{_id:e});n.added(o(r))}},changed:function(t,r){var i=this;if(n.changed){var a=i.docs.get(t),s=y.clone(a);e._applyChanges(s,r),n.changed(o(s),o(a))}},removed:function(e){var t=this;n.removed&&n.removed(o(t.docs.get(e)))}};var s=new e._CachingChangeObserver({callbacks:r}),c=t.observeChanges(s.applyChange);return i=!1,s.ordered&&(c._fetch=function(){var e=[];return s.docs.forEach(function(t){e.push(o(y.clone(t)))}),e}),c}}.call(this),function(){e._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},e._ObjectID=function(t){var n=this;if(t){if(t=t.toLowerCase(),!e._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");n._str=t}else n._str=S.hexString(24)},e._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},e._ObjectID.prototype.equals=function(t){var n=this;return t instanceof e._ObjectID&&n.valueOf()===t.valueOf()},e._ObjectID.prototype.clone=function(){var t=this;return new e._ObjectID(t._str)},e._ObjectID.prototype.typeName=function(){return"oid"},e._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},e._ObjectID.prototype.valueOf=e._ObjectID.prototype.toJSONValue=e._ObjectID.prototype.toHexString=function(){return this._str},e._selectorIsId=function(t){return"string"==typeof t||"number"==typeof t||t instanceof e._ObjectID},e._selectorIsIdPerhapsAsObject=function(t){return e._selectorIsId(t)||t&&"object"==typeof t&&t._id&&e._selectorIsId(t._id)&&1===v.size(t)},e._idsMatchedBySelector=function(t){if(e._selectorIsId(t))return[t];if(!t)return null;if(v.has(t,"_id"))return e._selectorIsId(t._id)?[t._id]:t._id&&t._id.$in&&v.isArray(t._id.$in)&&!v.isEmpty(t._id.$in)&&v.all(t._id.$in,e._selectorIsId)?t._id.$in:null;
if(t.$and&&v.isArray(t.$and))for(var n=0;n<t.$and.length;++n){var r=e._idsMatchedBySelector(t.$and[n]);if(r)return r}return null},y.addType("oid",function(t){return new e._ObjectID(t)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:e,Minimongo:t,MinimongoTest:n}}(),function(){{var e,t,n,r,o,i,a,s,c,u,l,f,d,p=Package.meteor.Meteor,h=(Package.check.check,Package.check.Match,Package.random.Random),g=Package.ejson.EJSON,m=Package.json.JSON,v=Package.underscore._,b=Package.deps.Deps,y=(Package.logging.Log,Package.retry.Retry),_=Package.minimongo.LocalCollection;Package.minimongo.Minimongo}(function(){t={}}).call(this),function(){n=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e],void 0):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+m.stringify(e)+" not listed "+m.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var a="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||a.length;var n,r=[];for(n=0;e>n;n++)r.push(a.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var s="_jp";n.polluteGlobalNamespace=function(){s in t||(t[s]={})},n.closeFrame=function(e,t){return"c"+m.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var a=i[0].toLowerCase(),s=r.substring(a.length),c=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(c)var u=c[0]}if(!a||!u)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:u}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","":"\\u00ad","":"\\u0600","":"\\u0601","":"\\u0602","":"\\u0603","":"\\u0604","":"\\u070f","":"\\u17b4","":"\\u17b5","":"\\u200c","":"\\u200d","":"\\u200e","":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u202a","":"\\u202b","":"\\u202c","":"\\u202d","":"\\u202e","":"\\u202f","":"\\u2060","":"\\u2061","":"\\u2062","":"\\u2063","":"\\u2064","":"\\u2065","":"\\u2066","":"\\u2067","":"\\u2068","":"\\u2069","":"\\u206a","":"\\u206b","":"\\u206c","":"\\u206d","":"\\u206e","":"\\u206f","":"\\ufeff","":"\\ufff0","":"\\ufff1","":"\\ufff2","":"\\ufff3","":"\\ufff4","":"\\ufff5","":"\\ufff6","":"\\ufff7","":"\\ufff8","":"\\ufff9","":"\\ufffa","":"\\ufffb","":"\\ufffc","":"\\ufffd","":"\\ufffe","":"\\uffff"},f=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,d=m&&m.stringify||function(e){return u.lastIndex=0,u.test(e)&&(e=e.replace(u,function(e){return l[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=d(e);return f.lastIndex=0,f.test(t)?(c||(c=p(f)),t.replace(f,function(e){return c[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=C[n]&&C[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var g="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(g in t)){var r={};t[g]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[g](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},b=!1,y=function(){for(var e in v)v[e](),delete v[e]},_=function(){b||(b=!0,y())};n.attachEvent("unload",_),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,b&&n.delay(y),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o,i,a=e.createElement("iframe"),s=function(){clearTimeout(o);try{a.onload=null}catch(e){}a.onerror=null},c=function(){a&&(s(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),n.unload_del(i))},u=function(e){a&&(c(),r(e))},l=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){clearTimeout(o),o=setTimeout(function(){u("onload timeout")},2e3)},e.body.appendChild(a),o=setTimeout(function(){u("timeout")},15e3),i=n.unload_add(c),{post:l,cleanup:c,loaded:s}},n.createHtmlfile=function(e,r){var o,i,a,c=new ActiveXObject("htmlfile"),u=function(){clearTimeout(o)},l=function(){c&&(u(),n.unload_del(i),a.parentNode.removeChild(a),a=c=null,CollectGarbage())},f=function(e){c&&(l(),r(e))},d=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};c.open(),c.write('<html><script>document.domain="'+document.domain+'";</script></html>'),c.close(),c.parentWindow[s]=t[s];var p=c.createElement("div");return c.body.appendChild(p),a=c.createElement("iframe"),p.appendChild(a),a.src=e,o=setTimeout(function(){f("timeout")},15e3),i=n.unload_add(l),{post:d,cleanup:l,loaded:u}};var w=function(){};w.prototype=new i(["chunk","finish"]),w.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(c){return a.emit("finish",0,""),a._cleanup(),void 0}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var u in i.headers)a.xhr.setRequestHeader(u,i.headers[u]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var T=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};T.prototype=new i(["chunk","finish"]),T.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},T.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},T.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var C=function(e,t,r){if(!(this instanceof C))return new C(e,t,r);var o,i=this;i._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(i._options,r),i._base_url=n.amendUrl(e),i._server=i._options.server||n.random_number_string(1e3),i._options.protocols_whitelist&&i._options.protocols_whitelist.length?o=i._options.protocols_whitelist:(o="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,o&&i._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),i._protocols=[],i.protocol=null,i.readyState=C.CONNECTING,i._ir=V(i._base_url),i._ir.onfinish=function(e,t){i._ir=null,e?(i._options.info&&(e=n.objectExtend(e,i._options.info)),i._options.rtt&&(t=i._options.rtt),i._applyInfo(e,t,o),i._didClose()):i._didClose(1002,"Can't connect to server",!0)}};C.prototype=new r,C.version="0.3.4",C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},C.prototype._dispatchOpen=function(){var e=this;e.readyState===C.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=C.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},C.prototype._dispatchMessage=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("message",{data:e}))},C.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===C.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},C.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==C.CONNECTING&&i.readyState!==C.OPEN&&i.readyState!==C.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===C.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=C.CLOSED,n.delay(function(){i.dispatchEvent(a)})},C.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=m.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=m.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=m.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},C.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(C[o]&&C[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(C[o]&&C[o].enabled(r._options)){var i=C[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===C.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),c=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+c," RTO:"+r._options.rto),r._transport=new C[o](r,c,r._base_url),!0}r._debug("Skipping transport:",o)}},C.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==C.CONNECTING&&r.readyState!==C.OPEN?!1:(r.readyState=C.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},C.prototype.send=function(e){var t=this;if(t.readyState===C.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===C.OPEN&&t._transport.doSend(n.quote(""+e)),!0},C.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var x=C.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};x.prototype.doSend=function(e){this.ws.send("["+e+"]")},x.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},x.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},x.roundTrips=2;var E=function(){};E.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},E.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},E.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},E.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},E.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var I=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,c="a"+n.random_string(8);a.target=c,a.action=t+"/jsonp_send?i="+c;var u;try{u=e.createElement('<iframe name="'+c+'">')}catch(l){u=e.createElement("iframe"),u.name=c}u.id=c,a.appendChild(u),u.style.display="none";try{s.value=r}catch(f){n.log("Your browser is seriously broken. Go home! "+f.message)}a.submit();var d=function(){u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,n.delay(500,function(){u.parentNode.removeChild(u),u=null}),s.value="",o(!0))};return u.onerror=u.onload=d,u.onreadystatechange=function(){"complete"==u.readyState&&d()},d},P=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},A=function(t,r){var o,i,a=e.createElement("script"),s=function(e){i&&(i.parentNode.removeChild(i),i=null),a&&(clearTimeout(o),a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,a=null,r(e),r=null)},c=!1,u=null;if(a.id="a"+n.random_string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=function(){u||(u=setTimeout(function(){c||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},a.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){c=!0;try{a.onclick()}catch(e){}}a&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof a.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))i=e.createElement("script"),i.text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=i.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(l){}a.async=!0}"undefined"!=typeof a.async&&(a.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var f=e.getElementsByTagName("head")[0];return f.insertBefore(a,f.firstChild),i&&f.insertBefore(i,f.firstChild),s},M=C["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(I),r._schedule_recv()};M.prototype=new E,M.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=D(e.trans_url+"/jsonp",A,t)},M.enabled=function(){return!0},M.need_body=!0,M.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var D=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(s+"."+i),c=0,u=function(e){switch(c){case 0:delete t[s][i],o(e);break;case 1:o(e),c=2;break;case 2:delete t[s][i]}},l=r(a,u);t[s][i]=l;var f=function(){t[s][i]&&(c=1,t[s][i](n.closeFrame(1e3,"JSONP user aborted read")))};return f},L=function(){};L.prototype=new E,L.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(P(o)),i.poll=new Z(e,r,t+n,o)},L.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var O=C["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XHRCorsObject)};O.prototype=new L,O.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},O.roundTrips=2,O.need_body=!0;var N=C["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XDRObject)};N.prototype=new L,N.enabled=function(){return!!t.XDomainRequest},N.roundTrips=2;var R=C["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRCorsObject)};R.prototype=new L,R.enabled=O.enabled,R.roundTrips=2;var $=C["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XDRObject)};$.prototype=new L,$.enabled=N.enabled,$.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",m.stringify([C.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var H,B=function(e,r){parent!==t?parent.postMessage(H+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){B("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){B("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,C.bootstrap_iframe=function(){var r;H=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),a=e.data.slice(9);if(o===H)switch(i){case"s":var s=m.parse(a),c=s[0],u=s[1],l=s[2],f=s[3];if(c!==C.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+C.version+'".'),!n.flatUrl(l)||!n.flatUrl(f))return n.log("Only basic urls are supported in SockJS"),void 0;if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(f))return n.log("Can't connect to different domain from within an iframe. ("+m.stringify([t.location.href,l,f])+")"),void 0;r=new F,r._transport=new F[u](r,l,f);break;case"m":r._doSend(a);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),B("s")};var U=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};U.prototype=new i(["finish"]),U.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info?cb="+n.random_string(10)),a=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(a),a=null,200===e){var n=(new Date).getTime()-o,i=m.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var q=function(t){var r=this,o=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=m.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};q.prototype=new i(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new i(["finish"]);var V=function(e){if(n.isSameOriginUrl(e))return new U(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new U(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new U(e,n.XDRObject):new z;case 3:return new q(e);default:return new z}},W=F["w-iframe-info-receiver"]=function(e,t,r){var o=new U(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+m.stringify([t,n])),e._didClose()}};W.prototype.doCleanup=function(){};var Y=C["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};Y.prototype=new j,Y.enabled=function(){return"EventSource"in t&&j.enabled()},Y.need_body=!0,Y.roundTrips=3;var G=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};G.prototype=new L;var J=C["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return t.XMLHttpRequest&&j.enabled()},J.need_body=!0,J.roundTrips=3;var X=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRLocalObject)};X.prototype=new L;var Q=C["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new j,Q.enabled=function(){return j.enabled()},Q.need_body=!0,Q.roundTrips=3;var K=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",rt,n.XHRLocalObject)};K.prototype=new L;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};et.prototype=new r,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},rt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(s+"."+r.id);var i,a=nt()?n.createHtmlfile:n.createIframe;t[s][r.id]={start:function(){i.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){i.cleanup(),r.iframe_close=i=null,delete t[s][r.id],r.dispatchEvent(new o("close",{reason:n}))},i=a(e,function(){r.iframe_close({},"permanent")})};rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var ot=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return ot.prototype=new r,ot.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},C.getUtils=function(){return n},C.getIframeTransport=function(){return j},C}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return n})}.call(this),function(){t.ClientStream=function(e,t){var n=this;n.options=v.extend({retry:!0},t),n._initCommon(),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",v.bind(n._online,n),!1),n._launchConnection()},v.extend(t.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),v.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(){var e=this;e._clearConnectionAndHeartbeatTimers(),e.socket&&(e.socket.onmessage=e.socket.onclose=e.socket.onerror=e.socket.onheartbeat=function(){},e.socket.close(),e.socket=null),v.each(e.eventCallbacks.disconnect,function(e){e()})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var e=this;p._debug("Connection timeout. No sockjs heartbeat received."),e._lostConnection()},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(v.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))
},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var e=this;e._cleanup();var t=v.extend({protocols_whitelist:e._sockjsProtocolsWhitelist()},e.options._sockjsOptions);e.socket=new n(r(e.rawUrl),void 0,t),e.socket.onopen=function(){e._connected()},e.socket.onmessage=function(t){e._heartbeat_received(),e.currentStatus.connected&&v.each(e.eventCallbacks.message,function(e){e(t.data)})},e.socket.onclose=function(){e._lostConnection()},e.socket.onerror=function(){p._debug("stream error",v.toArray(arguments),(new Date).toDateString())},e.socket.onheartbeat=function(){e._heartbeat_received()},e.connectionTimer&&clearTimeout(e.connectionTimer),e.connectionTimer=setTimeout(v.bind(e._lostConnection,e),e.CONNECT_TIMEOUT)}})}.call(this),function(){var e=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},i=function(t,r,o){r||(r="http");var i,a=t.match(/^ddp(i?)\+sockjs:\/\//),s=t.match(/^http(s?):\/\//);if(a){var c=t.substr(a[0].length);i="i"===a[1]?r:r+"s";var u=c.indexOf("/"),l=-1===u?c:c.substr(0,u),f=-1===u?"":c.substr(u);return l=l.replace(/\*/g,function(){return Math.floor(10*h.fraction())}),i+"://"+l+f}if(s){i=s[1]?r+"s":r;var d=t.substr(s[0].length);t=i+"://"+d}return-1!==t.indexOf("://")||e(t,"/")||(t=r+"://"+t),t=p._relativeToSiteRootUrl(t),n(t,"/")?t+o:t+"/"+o};r=function(e){return i(e,"http","sockjs")},o=function(e){var t=i(e,"ws","websocket");return t},t.toSockjsUrl=r,v.extend(t.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(){var e=this;e.CONNECT_TIMEOUT=1e4,e.eventCallbacks={},e._forcedToDisconnect=!1,e.currentStatus={status:"connecting",connected:!1,retryCount:0},e.statusListeners="undefined"!=typeof b&&new b.Dependency,e.statusChanged=function(){e.statusListeners&&e.statusListeners.changed()},e._retry=new y,e.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?((e._force||e.url)&&t._lostConnection(),void 0):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,t._retryNow(),void 0)},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(){var e=this;e._cleanup(),e._retryLater()},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(){var e=this,t=0;e.options.retry&&(t=e._retry.retryLater(e.currentStatus.retryCount,v.bind(e._retryNow,e))),e.currentStatus.status="waiting",e.currentStatus.connected=!1,e.currentStatus.retryTime=(new Date).getTime()+t,e.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}})}.call(this),function(){i=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},v.extend(i.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle=p.setTimeout(v.bind(e._heartbeatIntervalFired,e),e.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle=p.setTimeout(v.bind(e._heartbeatTimeoutFired,e),e.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle&&(p.clearTimeout(e._heartbeatIntervalHandle),e._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle&&(p.clearTimeout(e._heartbeatTimeoutHandle),e._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){e={},a=["pre2","pre1"],t.SUPPORTED_DDP_VERSIONS=a,s=function(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},v.extend(s.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),c=function(e){try{var t=m.parse(e)}catch(n){return p._debug("Discarding message with invalid JSON",e),null}return null===t||"object"!=typeof t?(p._debug("Discarding non-object DDP message",e),null):(v.has(t,"cleared")&&(v.has(t,"fields")||(t.fields={}),v.each(t.cleared,function(e){t.fields[e]=void 0}),delete t.cleared),v.each(["fields","params","result"],function(e){v.has(t,e)&&(t[e]=g._adjustTypesFromJSONValue(t[e]))}),t)},u=function(e){var t=g.clone(e);if(v.has(e,"fields")){var n=[];v.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),v.isEmpty(n)||(t.cleared=n),v.isEmpty(t.fields)&&delete t.fields}if(v.each(["fields","params","result"],function(e){v.has(t,e)&&(t[e]=g._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return m.stringify(t)},e._CurrentInvocation=new p.EnvironmentVariable}.call(this),function(){function t(){return h.hexString(20)}l=function(e){this.seed=[].concat(e.seed||t()),this.sequences={}},l.get=function(e,t){if(t||(t="default"),!e)return h;var n=e.randomStream;return n||(e.randomStream=n=new l({seed:e.randomSeed})),n._sequence(t)},e.randomStream=function(t){var n=e._CurrentInvocation.get();return l.get(n,t)},f=function(e,t){var n=l.get(e,"/rpc/"+t);return n.hexString(20)},v.extend(l.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var r=t.seed.concat(e),o=0;o<r.length;o++)v.isFunction(r[o])&&(r[o]=r[o]());t.sequences[e]=n=h.createWithSeeds.apply(null,r)}return n}})}.call(this),function(){if(p.isServer)var n=Npm.require("path"),r=(Npm.require("fibers"),Npm.require(n.join("fibers","future")));var o=function(e,n){var r=this;n=v.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(e){p._debug(e)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:a,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof e?e:new t.ClientStream(e,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps="undefined"!=typeof b&&new b.Dependency,p.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(e){try{var t=c(e)}catch(o){return p._debug("Exception while parsing DDP",o),void 0}if(null===t||!t.msg)return t&&t.server_id||p._debug("discarding invalid livedata message",t),void 0;if("connected"===t.msg)r._version=r._versionSuggestion,n.onConnected(),r._livedata_connected(t);else if("failed"==t.msg)if(v.contains(r._supportedDDPVersions,t.version))r._versionSuggestion=t.version,r._stream.reconnect({_force:!0});else{var i="DDP version negotiation failed; server requested version "+t.version;r._stream.disconnect({_permanent:!0,_error:i}),n.onDDPVersionNegotiationFailure(i)}else"ping"===t.msg?(n.respondToPings&&r._send({msg:"pong",id:t.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===t.msg?r._heartbeat&&r._heartbeat.pongReceived():v.include(["added","changed","removed","ready","updated"],t.msg)?r._livedata_data(t):"nosub"===t.msg?r._livedata_nosub(t):"result"===t.msg?r._livedata_result(t):"error"===t.msg?r._livedata_error(t):p._debug("discarding unknown livedata message type",t)},i=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!v.isEmpty(r._outstandingMethodBlocks)&&v.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),v.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),v.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};p.isServer?(r._stream.on("message",p.bindEnvironment(o,p._debug)),r._stream.on("reset",p.bindEnvironment(i,p._debug)),r._stream.on("disconnect",p.bindEnvironment(s,p._debug))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",s))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};v.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),v.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};v.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),v.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];"function"==typeof o?r.onReady=n.pop():!o||"function"!=typeof o.onReady&&"function"!=typeof o.onError||(r=n.pop())}var i,a=v.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&g.equals(t.params,n)});a?(i=a.id,a.inactive=!1,r.onReady&&(a.ready||(a.readyCallback=r.onReady)),r.onError&&(a.errorCallback=r.onError)):(i=h.id(),t._subscriptions[i]={id:i,name:e,params:g.clone(n),inactive:!1,ready:!1,readyDeps:"undefined"!=typeof b&&new b.Dependency,readyCallback:r.onReady,errorCallback:r.onError},t._send({msg:"sub",id:i,name:e,params:n}));var s={stop:function(){v.has(t._subscriptions,i)&&(t._send({msg:"unsub",id:i}),delete t._subscriptions[i])},ready:function(){if(!v.has(t._subscriptions,i))return!1;var e=t._subscriptions[i];return e.readyDeps&&e.readyDeps.depend(),e.ready}};return b.active&&b.onInvalidate(function(){v.has(t._subscriptions,i)&&(t._subscriptions[i].inactive=!0),b.afterFlush(function(){v.has(t._subscriptions,i)&&t._subscriptions[i].inactive&&s.stop()})}),s},_subscribeAndWait:function(e,t,n){var o,i=this,a=new r,s=!1;return t=t||[],t.push({onReady:function(){s=!0,a["return"]()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):a["throw"](e)}}),o=i.subscribe.apply(i,[e].concat(t)),a.wait(),o},methods:function(e){var t=this;v.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,i){var a=this;i||"function"!=typeof o||(i=o,o={}),o=o||{},i&&(i=p.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=g.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+a._nextMethodId++),e}}(),u=e._CurrentInvocation.get(),d=u&&u.isSimulation,h=null,m=function(){return null===h&&(h=f(u,t)),h},b=a._methodHandlers[t];if(b){var y=function(e){a.setUserId(e)},_=new s({isSimulation:!0,userId:a.userId(),setUserId:y,randomSeed:function(){return m()}});d||a._saveOriginals();try{var w=e._CurrentInvocation.withValue(_,function(){return p.isServer?p._noYieldsAllowed(function(){return b.apply(_,g.clone(n))}):b.apply(_,g.clone(n))})}catch(k){var S=k}d||a._retrieveAndStoreOriginals(c())}if(d){if(i)return i(S,w),void 0;if(S)throw S;return w}if(S&&!S.expected&&p._debug("Exception while simulating the effect of invoking '"+t+"'",S,S.stack),!i)if(p.isClient)i=function(){};else{var T=new r;i=T.resolver()}var C={msg:"method",method:t,params:n,id:c()};null!==h&&(C.randomSeed=h);var x=new l({methodId:c(),callback:i,connection:a,onResultReceived:o.onResultReceived,wait:!!o.wait,message:C});return o.wait?a._outstandingMethodBlocks.push({wait:!0,methods:[x]}):((v.isEmpty(a._outstandingMethodBlocks)||v.last(a._outstandingMethodBlocks).wait)&&a._outstandingMethodBlocks.push({wait:!1,methods:[]}),v.last(a._outstandingMethodBlocks).methods.push(x)),1===a._outstandingMethodBlocks.length&&x.sendMessage(),T?T.wait():o.returnStubValue?w:void 0},_saveOriginals:function(){var e=this;v.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];v.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),v.has(t._serverDocuments,o)||(t._serverDocuments[o]=new _._IdMap);var a=t._serverDocuments[o].setDefault(i,{});a.writtenByStubs?a.writtenByStubs[e]=!0:(a.document=r,a.flushCallbacks=[],a.writtenByStubs={},a.writtenByStubs[e]=!0)})}),v.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;v.each(v.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&(e._send({msg:"unsub",id:n}),delete e._subscriptions[n])})},_send:function(e){var t=this;t._stream.send(u(e))},_lostConnection:function(){var e=this;e._stream._lostConnection()},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!v.isEmpty(e._subsBeingRevived)||!v.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return v.any(v.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new i({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){p.isClient&&p._debug("Connection timeout. No DDP heartbeat received."),t._lostConnection()},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},v.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&v.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(v.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(v.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],v.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),v.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;v.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!v.isEmpty(n))&&(v.each(t._stores,function(e,r){e.beginUpdate(v.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,v.each(n,function(e,n){var r=t._stores[n];r?v.each(e,function(e){r.update(e)}):(v.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),v.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],v.each(t,function(e){e()})},_pushUpdate:function(e,t,n){v.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!v.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=_._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,_._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,_._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;v.each(e.methods,function(e){v.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+m.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+m.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],v.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:_._idStringify(r.id),replace:o.document}),v.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(v.bind(r.dataVisible,r))})},_process_ready:function(e){var t=this;v.each(e.subs,function(e){t._runWhenAllServerDocsAreFlushed(function(){var n=t._subscriptions[e];n&&(n.ready||(n.readyCallback&&n.readyCallback(),n.ready=!0,n.readyDeps&&n.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};v.each(t._serverDocuments,function(e){e.forEach(function(e){var n=v.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(e){var t=this;if(t._livedata_data(e),v.has(t._subscriptions,e.id)){var n=t._subscriptions[e.id].errorCallback;delete t._subscriptions[e.id],n&&e.error&&n(new p.Error(e.error.error,e.error.reason,e.error.details))}},_process_nosub:function(){},_livedata_result:function(e){var t=this;if(v.isEmpty(t._outstandingMethodBlocks))return p._debug("Received method result but no methods outstanding"),void 0;for(var n,r=t._outstandingMethodBlocks[0].methods,o=0;o<r.length&&(n=r[o],n.methodId!==e.id);o++);return n?(r.splice(o,1),v.has(e,"error")?n.receiveResult(new p.Error(e.error.error,e.error.reason,e.error.details)):n.receiveResult(void 0,e.result),void 0):(p._debug("Can't match method response to original method call",e),void 0)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!v.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!v.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+m.stringify(t));v.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;v.isEmpty(e._outstandingMethodBlocks)||v.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(e){p._debug("Received error from server: ",e.reason),e.offendingMessage&&p._debug("For: ",e.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!v.isEmpty(t)){if(v.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,e._sendOutstandingMethods(),void 0;v.last(e._outstandingMethodBlocks).wait||t[0].wait||(v.each(t[0].methods,function(t){v.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),v.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return v.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),t.Connection=o,e.connect=function(e,t){var n=new o(e,t);return d.push(n),n},d=[],e._allSubscriptionsReady=function(){return v.all(d,function(e){return v.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(p.refresh=function(){},p.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new y,r=function(e){if(p._debug(e),Package.reload){var t=Package.reload.Reload._migrationData("livedata")||{},r=t.DDPVersionNegotiationFailures||0;++r,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:r}]}),n.retryLater(r,function(){Package.reload.Reload._reload()})}};p.connection=e.connect(t,{onDDPVersionNegotiationFailure:r}),v.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(e){p[e]=v.bind(p.connection[e],p.connection)})}else p.connection=null;p.default_connection=p.connection,p.connect=e.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}(),function(){{var e;Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON}"undefined"==typeof Package&&(Package={}),Package["follower-livedata"]={Follower:e}}(),function(){Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON,Package["follower-livedata"].Follower;"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.random.Random,r=Package.ejson.EJSON,o=(Package.json.JSON,Package.underscore._),i=Package.minimongo.LocalCollection,a=(Package.minimongo.Minimongo,Package.logging.Log,Package.livedata.DDP),s=(Package.deps.Deps,Package.check.check),c=Package.check.Match;(function(){e=function(){var e=this;e.noConnCollections={}};var t=function(e,t){return e in t||(t[e]=new i(e)),t[e]};o.extend(e.prototype,{open:function(e,n){var r=this;return e?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),t(e,n._mongo_livedata_collections)):t(e,r.noConnCollections):new i}}),e=new e}).call(this),function(){t.Collection=function(r,s){var c=this;if(!(c instanceof t.Collection))throw new Error('use "new" to construct a Meteor.Collection');if(r||null===r||(t._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),r=null),null!==r&&"string"!=typeof r)throw new Error("First argument to new Meteor.Collection must be a string or null");switch(s&&s.methods&&(s={connection:s}),s&&s.manager&&!s.connection&&(s.connection=s.manager),s=o.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},s),s.idGeneration){case"MONGO":c._makeNewID=function(){var e=r?a.randomStream("/collection/"+r):n;return new t.Collection.ObjectID(e.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=r?a.randomStream("/collection/"+r):n;return e.id()}}if(c._transform=i.wrapTransform(s.transform),c._connection=r&&null!==s.connection?s.connection?s.connection:t.isClient?t.connection:t.server:null,s._driver||(s._driver=r&&c._connection===t.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():e),c._collection=s._driver.open(r,c._connection),c._name=r,c._connection&&c._connection.registerStore){var u=c._connection.registerStore(r,{beginUpdate:function(e,t){(e>1||t)&&c._collection.pauseObservers(),t&&c._collection.remove({})},update:function(e){var t=i._idParse(e.id),n=c._collection.findOne(t);if("replace"===e.msg){var r=e.replace;return r?n?c._collection.update(t,r):c._collection.insert(r):n&&c._collection.remove(t),void 0}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");c._collection.insert(o.extend({_id:t},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");c._collection.remove(t)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!o.isEmpty(e.fields)){var a={};o.each(e.fields,function(e,t){void 0===e?(a.$unset||(a.$unset={}),a.$unset[t]=1):(a.$set||(a.$set={}),a.$set[t]=e)}),c._collection.update(t,a)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!u)throw new Error("There is already a collection named '"+r+"'")}c._defineMutationMethods(),Package.autopublish&&!s._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},o.extend(t.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var t=this;return e.length<2?{transform:t._transform}:(s(e[1],c.Optional(c.ObjectIncluding({fields:c.Optional(c.OneOf(Object,void 0)),sort:c.Optional(c.OneOf(Object,Array,void 0)),limit:c.Optional(c.OneOf(Number,void 0)),skip:c.Optional(c.OneOf(Number,void 0))}))),o.extend({transform:t._transform},e[1]))},find:function(){var e=this,t=o.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))},findOne:function(){var e=this,t=o.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}}),t.Collection._publishCursor=function(e,t,n){var r=e.observeChanges({added:function(e,r){t.added(n,e,r)},changed:function(e,r){t.changed(n,e,r)},removed:function(e){t.removed(n,e)}});t.onStop(function(){r.stop()})},t.Collection._rewriteSelector=function(e){if(i._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var r={};return o.each(e,function(e,n){e instanceof RegExp?r[n]=u(e):e&&e.$regex instanceof RegExp?(r[n]=u(e.$regex),void 0!==e.$options&&(r[n].$options=e.$options)):r[n]=o.contains(["$or","$and","$nor"],n)?o.map(e,function(e){return t.Collection._rewriteSelector(e)}):e}),r};var u=function(e){s(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t},l=function(e,n){if(!i._selectorIsIdPerhapsAsObject(e))throw new t.Error(403,"Not permitted. Untrusted code may only "+n+" documents by ID.")};o.each(["insert","update","remove"],function(e){t.Collection.prototype[e]=function(){var n,r,i,s=this,c=o.toArray(arguments);if(c.length&&c[c.length-1]instanceof Function&&(n=c.pop()),"insert"===e){if(!c.length)throw new Error("insert requires an argument");if(c[0]=o.extend({},c[0]),"_id"in c[0]){if(r=c[0]._id,!r||!("string"==typeof r||r instanceof t.Collection.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var u=!0;if(s._connection&&s._connection!==t.server){var f=a._CurrentInvocation.get();f||(u=!1)}u&&(r=c[0]._id=s._makeNewID())}}else if(c[0]=t.Collection._rewriteSelector(c[0]),"update"===e){var d=c[2]=o.clone(c[2])||{};if(d&&"function"!=typeof d&&d.upsert)if(d.insertedId){if(!("string"==typeof d.insertedId||d.insertedId instanceof t.Collection.ObjectID))throw new Error("insertedId must be string or ObjectID")}else d.insertedId=s._makeNewID()}var p,h=function(t){return"insert"===e?(!r&&t&&(r=t),r):t};if(n&&(p=function(e,t){n(e,!e&&h(t))}),s._connection&&s._connection!==t.server){var f=a._CurrentInvocation.get(),g=f&&f.isSimulation;!t.isClient||p||g||(p=function(n){n&&t._debug(e+" failed: "+(n.reason||n.stack))}),g||"insert"===e||l(c[0],e),i=h(s._connection.apply(s._prefix+e,c,{returnStubValue:!0},p))}else{c.push(p);try{var m=s._collection[e].apply(s._collection,c);i=h(m)}catch(v){if(n)return n(v),null;throw v}}return i}}),t.Collection.prototype.upsert=function(e,t,n,r){var i=this;return r||"function"!=typeof n||(r=n,n={}),i.update(e,t,o.extend({},n,{_returnObject:!0,upsert:!0}),r)},t.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},t.Collection.prototype._dropIndex=function(e){var t=this;
if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},t.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},t.Collection.prototype._createCappedCollection=function(e){var t=this;if(!t._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");t._collection._createCappedCollection(e)},t.Collection.ObjectID=i._ObjectID,function(){var e=function(e,t){var n=["insert","update","remove","fetch","transform"];o.each(o.keys(t),function(t){if(!o.contains(n,t))throw new Error(e+": Invalid key: "+t)});var r=this;if(r._restricted=!0,o.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");t[n].transform=void 0===t.transform?r._transform:i.wrapTransform(t.transform),r._validators[n][e].push(t[n])}}),t.update||t.remove||t.fetch){if(t.fetch&&!(t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");r._updateFetch(t.fetch)}};t.Collection.prototype.allow=function(t){e.call(this,"allow",t)},t.Collection.prototype.deny=function(t){e.call(this,"deny",t)}}(),t.Collection.prototype._defineMutationMethods=function(){var e=this;if(e._restricted=!1,e._insecure=void 0,e._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},e._name&&(e._prefix="/"+e._name+"/",e._connection)){var n={};o.each(["insert","update","remove"],function(r){n[e._prefix+r]=function(){s(arguments,[c.Any]);var n=o.toArray(arguments);try{var i=null;if("insert"!==r||o.has(n[0],"_id")||(i=e._makeNewID()),this.isSimulation)return null!==i&&(n[0]._id=i),e._collection[r].apply(e._collection,n);if("insert"!==r&&l(n[0],r),e._restricted){if(0===e._validators[r].allow.length)throw new t.Error(403,"Access denied. No allow validators set on restricted collection for method '"+r+"'.");var a="_validated"+r.charAt(0).toUpperCase()+r.slice(1);return n.unshift(this.userId),"insert"===r&&n.push(i),e[a].apply(e,n)}if(e._isInsecure())return null!==i&&(n[0]._id=i),e._collection[r].apply(e._collection,n);throw new t.Error(403,"Access denied")}catch(u){throw"MongoError"===u.name||"MinimongoError"===u.name?new t.Error(409,u.toString()):u}}}),(t.isClient||e._connection===t.server)&&e._connection.methods(n)}},t.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=o.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},t.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var f=function(e,t,n){var o=t;return e.transform&&(o=r.clone(t),null!==n&&(o._id=n),o=e.transform(o)),o};t.Collection.prototype._validatedInsert=function(e,n,r){var i=this;if(o.any(i._validators.insert.deny,function(t){return t(e,f(t,n,r))}))throw new t.Error(403,"Access denied");if(o.all(i._validators.insert.allow,function(t){return!t(e,f(t,n,r))}))throw new t.Error(403,"Access denied");null!==r&&(n._id=r),i._collection.insert.call(i._collection,n)};var d=function(e,t){return e.transform?e.transform(t):t};t.Collection.prototype._validatedUpdate=function(e,n,r,a){var s=this;if(a=a||{},!i._selectorIsIdPerhapsAsObject(n))throw new Error("validated update should be of a single ID");if(a.upsert)throw new t.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var c=[];o.each(r,function(e,n){if("$"!==n.charAt(0))throw new t.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!o.has(p,n))throw new t.Error(403,"Access denied. Operator "+n+" not allowed in a restricted collection.");o.each(o.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),o.contains(c,e)||c.push(e)})});var u={transform:null};s._validators.fetchAllFields||(u.fields={},o.each(s._validators.fetch,function(e){u.fields[e]=1}));var l=s._collection.findOne(n,u);if(!l)return 0;var f;if(o.any(s._validators.update.deny,function(t){return f||(f=d(t,l)),t(e,f,c,r)}))throw new t.Error(403,"Access denied");if(o.all(s._validators.update.allow,function(t){return f||(f=d(t,l)),!t(e,f,c,r)}))throw new t.Error(403,"Access denied");return s._collection.update.call(s._collection,n,r,a)};var p={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};t.Collection.prototype._validatedRemove=function(e,n){var r=this,i={transform:null};r._validators.fetchAllFields||(i.fields={},o.each(r._validators.fetch,function(e){i.fields[e]=1}));var a=r._collection.findOne(n,i);if(!a)return 0;if(o.any(r._validators.remove.deny,function(t){return t(e,d(t,a))}))throw new t.Error(403,"Access denied");if(o.all(r._validators.remove.allow,function(t){return!t(e,d(t,a))}))throw new t.Error(403,"Access denied");return r._collection.remove.call(r._collection,n)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.deps.Deps,r=Package.retry.Retry;Package.livedata.DDP}(function(){var o=__meteor_runtime_config__.autoupdateVersion||"unknown",i=new t.Collection("meteor_autoupdate_clientVersions");e={},e.newClientAvailable=function(){return!!i.findOne({$and:[{current:!0},{_id:{$ne:o}}]})};var a=new r({minCount:0,baseTimeout:3e4}),s=0;e._retrySubscription=function(){t.subscribe("meteor_autoupdate_clientVersions",{onError:function(n){t._debug("autoupdate subscription failed:",n),s++,a.retryLater(s,function(){e._retrySubscription()})},onReady:function(){Package.reload&&n.autorun(function(e){i.findOne({current:!0})&&!i.findOne({_id:o})&&(e.stop(),Package.reload.Reload._reload())})}})},e._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:e}}(),function(){Package.meteor.Meteor,Package.reload.Reload,Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.deps.Deps,o=Package.ejson.EJSON;(function(){var i=function(e){return void 0===e?"undefined":o.stringify(e)},a=function(e){return void 0===e||"undefined"===e?void 0:o.parse(e)};e=function(e){this.keys=e||{},this.keyDeps={},this.keyValueDeps={}},n.extend(e.prototype,{set:function(e,t){var r=this;t=i(t);var o="undefined";if(n.has(r.keys,e)&&(o=r.keys[e]),t!==o){r.keys[e]=t;var a=function(e){e&&e.changed()};a(r.keyDeps[e]),r.keyValueDeps[e]&&(a(r.keyValueDeps[e][o]),a(r.keyValueDeps[e][t]))}},setDefault:function(e,t){var n=this;void 0===n.keys[e]&&n.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),a(t.keys[e])},equals:function(e,s){var c=this,u=Package["mongo-livedata"]&&t.Collection.ObjectID;if(!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||u&&s instanceof u||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var l=i(s);if(r.active){c._ensureKey(e),n.has(c.keyValueDeps[e],l)||(c.keyValueDeps[e][l]=new r.Dependency);var f=c.keyValueDeps[e][l].depend();f&&r.onInvalidate(function(){c.keyValueDeps[e][l].hasDependents()||delete c.keyValueDeps[e][l]})}var d=void 0;return n.has(c.keys,e)&&(d=a(c.keys[e])),o.equals(d,s)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new r.Dependency,t.keyValueDeps[e]={})},getMigrationData:function(){return this.keys}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function i(e){var t=wt[e]={};return it.each(e.match(_t)||[],function(e,n){t[n]=!0}),t}function a(){gt.addEventListener?(gt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(gt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(gt.addEventListener||"load"===event.type||"complete"===gt.readyState)&&(a(),it.ready())}function c(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(xt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ct.test(n)?it.parseJSON(n):n}catch(o){}it.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(it.acceptData(e)){var o,i,a=it.expando,s=e.nodeType,c=s?it.cache:e,u=s?e[a]:e[a]&&a;if(u&&c[u]&&(r||c[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=G.pop()||it.guid++:a),c[u]||(c[u]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?c[u]=it.extend(c[u],t):c[u].data=it.extend(c[u].data,t)),i=c[u],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[it.camelCase(t)]=n),"string"==typeof t?(o=i[t],null==o&&(o=i[it.camelCase(t)])):o=i,o}}function f(e,t,n){if(it.acceptData(e)){var r,o,i=e.nodeType,a=i?it.cache:e,s=i?e[it.expando]:it.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),o=t.length;for(;o--;)delete r[t[o]];if(n?!u(r):!it.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(i?it.cleanData([e],!0):rt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(){return!0}function p(){return!1}function h(){try{return gt.activeElement}catch(e){}}function g(e){var t=$t.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,r,o=0,i=typeof e.getElementsByTagName!==Tt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Tt?e.querySelectorAll(t||"*"):void 0;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||it.nodeName(r,t)?i.push(r):it.merge(i,m(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],i):i}function v(e){Mt.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function k(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,o,i=it._data(e),a=it._data(t,i),s=i.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,o=s[n].length;o>r;r++)it.event.add(t,n,s[n][r])}a.data&&(a.data=it.extend({},a.data))}}function S(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!rt.noCloneEvent&&t[it.expando]){o=it._data(t);for(r in o.events)it.removeEvent(t,r,o.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),rt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Mt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var r=it(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:it.css(r[0],"display");return r.detach(),o}function C(e){var t=gt,n=en[e];return n||(n=T(e,t),"none"!==n&&n||(Zt=(Zt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Zt.detach()),en[e]=n),n}function x(e,t){return{get:function(){var n=e();if(null!=n)return n?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=hn.length;o--;)if(t=hn[o]+n,t in e)return t;return r}function I(e,t){for(var n,r,o,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=it._data(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Pt(r)&&(i[a]=it._data(r,"olddisplay",C(r.nodeName)))):i[a]||(o=Pt(r),(n&&"none"!==n||!o)&&it._data(r,"olddisplay",o?n:it.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function P(e,t,n){var r=ln.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function A(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=it.css(e,n+It[i],!0,o)),r?("content"===n&&(a-=it.css(e,"padding"+It[i],!0,o)),"margin"!==n&&(a-=it.css(e,"border"+It[i]+"Width",!0,o))):(a+=it.css(e,"padding"+It[i],!0,o),"padding"!==n&&(a+=it.css(e,"border"+It[i]+"Width",!0,o)));return a}function M(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=tn(e),a=rt.boxSizing()&&"border-box"===it.css(e,"boxSizing",!1,i);if(0>=o||null==o){if(o=nn(e,t,i),(0>o||null==o)&&(o=e.style[t]),on.test(o))return o;r=a&&(rt.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+A(e,t,n||(a?"border":"content"),r,i)+"px"}function D(e,t,n,r,o){return new D.prototype.init(e,t,n,r,o)}function L(){return setTimeout(function(){gn=void 0}),gn=it.now()}function O(e,t){var n,r={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=It[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function N(e,t,n){for(var r,o=(wn[t]||[]).concat(wn["*"]),i=0,a=o.length;a>i;i++)if(r=o[i].call(n,t,e))return r}function R(e,t,n){var r,o,i,a,s,c,u,l,f=this,d={},p=e.style,h=e.nodeType&&Pt(e),g=it._data(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=it.css(e,"display"),l=C(e.nodeName),"none"===u&&(u=l),"inline"===u&&"none"===it.css(e,"float")&&(rt.inlineBlockNeedsLayout&&"inline"!==l?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",rt.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],vn.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}d[r]=g&&g[r]||it.style(e,r)}if(!it.isEmptyObject(d)){g?"hidden"in g&&(h=g.hidden):g=it._data(e,"fxshow",{}),i&&(g.hidden=!h),h?it(e).show():f.done(function(){it(e).hide()}),f.done(function(){var t;it._removeData(e,"fxshow");for(t in d)it.style(e,t,d[t])});for(r in d)a=N(h?g[r]:0,r,f),r in g||(g[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function $(e,t){var n,r,o,i,a;for(n in e)if(r=it.camelCase(n),o=t[r],i=e[n],it.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=it.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function j(e,t,n){var r,o,i=0,a=_n.length,s=it.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=gn||L(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,a=0,c=u.tweens.length;c>a;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,n]),1>i&&c?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:gn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),l=u.props;for($(l,u.opts.specialEasing);a>i;i++)if(r=_n[i].call(u,e,l,u.opts))return r;return it.map(l,N,u),it.isFunction(u.opts.start)&&u.opts.start.call(e,u),it.fx.timer(it.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(_t)||[];if(it.isFunction(n))for(;r=i[o++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function o(s){var c;return i[s]=!0,it.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(c=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),c}var i={},a=e===Vn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function F(e,t){var n,r,o=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function U(e,t,n){for(var r,o,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){c.unshift(a);break}if(c[0]in n)i=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){i=a;break}r||(r=a)}i=i||r}return i?(i!==c[0]&&c.unshift(i),n[i]):void 0}function q(e,t,n,r){var o,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(a=u[c+" "+i]||u["* "+i],!a)for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(i=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}function z(e,t,n,r){var o;if(it.isArray(t))it.each(t,function(t,o){n||Jn.test(e)?r(e,o):z(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(o in t)z(e+"["+o+"]",t[o],n,r)}function V(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],J=G.slice,X=G.concat,Q=G.push,K=G.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,rt={},ot="1.11.0",it=function(e,t){return new it.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,ct=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:ot,constructor:it,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},it.extend=it.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(o=arguments[s]))for(r in o)e=a[r],n=o[r],a!==n&&(u&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,i=e&&it.isArray(e)?e:[]):i=e&&it.isPlainObject(e)?e:{},a[r]=it.extend(u,i,n)):void 0!==n&&(a[r]=n));return a},it.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(rt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(ct,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,i=0,a=e.length,s=n(e);if(r){if(s)for(;a>i&&(o=t.apply(e[i],r),o!==!1);i++);else for(i in e)if(o=t.apply(e[i],r),o===!1)break}else if(s)for(;a>i&&(o=t.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(o=t.call(e[i],i,e[i]),o===!1)break;return e},trim:nt&&!nt.call("")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;)e[o++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,r){var o,i=0,a=e.length,s=n(e),c=[];if(s)for(;a>i;i++)o=t(e[i],i,r),null!=o&&c.push(o);else for(i in e)o=t(e[i],i,r),null!=o&&c.push(o);return X.apply([],c)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),it.isFunction(e)?(n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+new Date},support:rt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var lt=function(e){function t(e,t,n,r){var o,i,a,s,c,u,f,h,g,m;if((t?t.ownerDocument||t:B)!==D&&M(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(O&&!r){if(o=bt.exec(e))if(a=o[1]){if(9===s){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&j(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&S.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(S.qsa&&(!N||!N.test(e))){if(h=f=H,g=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=d(e),(f=t.getAttribute("id"))?h=f.replace(_t,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",c=u.length;c--;)u[c]=h+p(u[c]);g=yt.test(e)&&l(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{f||t.removeAttribute("id")}}}return w(e.replace(ct,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&typeof e.getElementsByTagName!==Y&&e}function f(){}function d(e,n){var r,o,i,a,s,c,u,l=z[e+" "];if(l)return n?0:l.slice(0);for(s=e,c=[],u=T.preFilter;s;){(!r||(o=ut.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),c.push(i=[])),r=!1,(o=lt.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ct," ")}),s=s.slice(r.length));for(a in T.filter)!(o=ht[a].exec(s))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,c).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=U++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,c,u=[F,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[H]||(t[H]={}),(s=c[r])&&s[0]===F&&s[1]===i)return u[2]=s[2];if(c[r]=u,u[2]=e(t,n,a))return!0}}}function g(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,o){for(var i,a=[],s=0,c=e.length,u=null!=t;c>s;s++)(i=e[s])&&(!n||n(i,r,o))&&(a.push(i),u&&t.push(s));return a}function v(e,t,n,o,i,a){return o&&!o[H]&&(o=v(o)),i&&!i[H]&&(i=v(i,a)),r(function(r,a,s,c){var u,l,f,d=[],p=[],h=a.length,g=r||_(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?g:m(g,d,e,s,c),b=n?i||(r?e:h||o)?[]:a:v;if(n&&n(v,b,s,c),o)for(u=m(b,p),o(u,[],s,c),l=u.length;l--;)(f=u[l])&&(b[p[l]]=!(v[p[l]]=f));if(r){if(i||e){if(i){for(u=[],l=b.length;l--;)(f=b[l])&&u.push(v[l]=f);i(null,b=[],u,c)}for(l=b.length;l--;)(f=b[l])&&(u=i?tt.call(r,f):d[l])>-1&&(r[u]=!(a[u]=f))}}else b=m(b===a?b.splice(h,b.length):b),i?i(null,a,b,c):Z.apply(a,b)})}function b(e){for(var t,n,r,o=e.length,i=T.relative[e[0].type],a=i||T.relative[" "],s=i?1:0,c=h(function(e){return e===t},a,!0),u=h(function(e){return tt.call(t,e)>-1},a,!0),l=[function(e,n,r){return!i&&(r||n!==I)||((t=n).nodeType?c(e,n,r):u(e,n,r))}];o>s;s++)if(n=T.relative[e[s].type])l=[h(g(l),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;o>r&&!T.relative[e[r].type];r++);return v(s>1&&g(l),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,r>s&&b(e.slice(s,r)),o>r&&b(e=e.slice(r)),o>r&&p(e))}l.push(n)}return g(l)}function y(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,c,u){var l,f,d,p=0,h="0",g=r&&[],v=[],b=I,y=r||i&&T.find.TAG("*",u),_=F+=null==b?1:Math.random()||.1,w=y.length;for(u&&(I=a!==D&&a);h!==w&&null!=(l=y[h]);h++){if(i&&l){for(f=0;d=e[f++];)if(d(l,a,s)){c.push(l);break}u&&(F=_)}o&&((l=!d&&l)&&p--,r&&g.push(l))}if(p+=h,o&&h!==p){for(f=0;d=n[f++];)d(g,v,a,s);if(r){if(p>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(c));v=m(v)}Z.apply(c,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(c)}return u&&(F=_,I=b),g};return o?r(a):a}function _(e,n,r){for(var o=0,i=n.length;i>o;o++)t(e,n[o],r);return r}function w(e,t,n,r){var o,i,a,s,c,u=d(e);if(!r&&1===u.length){if(i=u[0]=u[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&S.getById&&9===t.nodeType&&O&&T.relative[i[1].type]){if(t=(T.find.ID(a.matches[0].replace(wt,kt),t)||[])[0],!t)return n;e=e.slice(i.shift().value.length)}for(o=ht.needsContext.test(e)?0:i.length;o--&&(a=i[o],!T.relative[s=a.type]);)if((c=T.find[s])&&(r=c(a.matches[0].replace(wt,kt),yt.test(i[0].type)&&l(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&p(i),!e)return Z.apply(n,r),n;break}}return E(e,u)(r,t,!O,n,yt.test(e)&&l(t.parentNode)||t),n}var k,S,T,C,x,E,I,P,A,M,D,L,O,N,R,$,j,H="sizzle"+-new Date,B=e.document,F=0,U=0,q=n(),z=n(),V=n(),W=function(e,t){return e===t&&(A=!0),0},Y="undefined",G=1<<31,J={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=ot.replace("w","w#"),at="\\["+rt+"*("+ot+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+it+")|)|)"+rt+"*\\]",st=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ut=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ft=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),kt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(X=et.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(St){Z={apply:X.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,r=n.defaultView;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,L=n.documentElement,O=!x(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){M()},!1):r.attachEvent&&r.attachEvent("onunload",function(){M()})),S.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=vt.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),S.getById=o(function(e){return L.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),S.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==Y&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,kt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(wt,kt);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=S.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0
}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},T.find.CLASS=S.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&O?t.getElementsByClassName(e):void 0},R=[],N=[],(S.qsa=vt.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&N.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(S.matchesSelector=vt.test($=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){S.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),R.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),R=R.length&&new RegExp(R.join("|")),t=vt.test(L.compareDocumentPosition),j=t||vt.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!S.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===B&&j(B,e)?-1:t===n||t.ownerDocument===B&&j(B,t)?1:P?tt.call(P,e)-tt.call(P,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,o=0,i=e.parentNode,s=t.parentNode,c=[e],u=[t];if(!i||!s)return e===n?-1:t===n?1:i?-1:s?1:P?tt.call(P,e)-tt.call(P,t):0;if(i===s)return a(e,t);for(r=e;r=r.parentNode;)c.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;c[o]===u[o];)o++;return o?a(c[o],u[o]):c[o]===B?-1:u[o]===B?1:0},n):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&M(e),n=n.replace(ft,"='$1']"),!(!S.matchesSelector||!O||R&&R.test(n)||N&&N.test(n)))try{var r=$.call(e,n);if(r||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&M(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&M(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:S.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(A=!S.detectDuplicates,P=!S.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return P=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,kt),e[3]=(e[4]||e[5]||"").replace(wt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var u,l,f,d,p,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!c&&!s;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(l=m[H]||(m[H]={}),u=l[e]||[],p=u[0]===F&&u[1],d=u[0]===F&&u[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[F,p,d];break}}else if(b&&(u=(t[H]||(t[H]={}))[e])&&u[0]===F)d=u[1];else for(;(f=++p&&f&&f[g]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[H]||(f[H]={}))[e]=[F,d]),f!==t)););return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var o,i=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[H]?i(n):i.length>1?(o=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=tt.call(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=E(e.replace(ct,"$1"));return o[H]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,kt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[k]=s(k);for(k in{submit:!0,reset:!0})T.pseudos[k]=c(k);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,E=t.compile=function(e,t){var n,r=[],o=[],i=V[e+" "];if(!i){for(t||(t=d(e)),n=t.length;n--;)i=b(t[n]),i[H]?r.push(i):o.push(i);i=V(e,y(o,r))}return i},S.sortStable=H.split("").sort(W).join("")===H,S.detectDuplicates=!!A,M(),S.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ft=it.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;o>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;o>t;t++)it.find(e,r[t],n);return n=this.pushStack(o>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ft.test(e)?it(e):e||[],!1).length}});var ht,gt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ht).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:gt,!0)),dt.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=gt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return ht.find(e);this.length=1,this[0]=r}return this.context=gt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof ht.ready?ht.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};vt.prototype=it.fn,ht=it(gt);var bt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!it(o).is(n));)1===o.nodeType&&r.push(o),o=o[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=ft.test(e)||"string"!=typeof e?it(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?it.unique(i):i)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var o=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=it.filter(r,o)),this.length>1&&(yt[e]||(o=it.unique(o)),bt.test(e)&&(o=o.reverse())),this.pushStack(o)}});var _t=/\S+/g,wt={};it.Callbacks=function(e){e="string"==typeof e?wt[e]||i(e):it.extend({},e);var t,n,r,o,a,s,c=[],u=!e.once&&[],l=function(i){for(n=e.memory&&i,r=!0,a=s||0,s=0,o=c.length,t=!0;c&&o>a;a++)if(c[a].apply(i[0],i[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,c&&(u?u.length&&l(u.shift()):n?c=[]:f.disable())},f={add:function(){if(c){var r=c.length;!function i(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),t?o=c.length:n&&(s=r,l(n))}return this},remove:function(){return c&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,c,r))>-1;)c.splice(r,1),t&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?it.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=u=n=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,n||f.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!c||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):l(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,i){var a=it.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},o={};return r.pipe=r.then,it.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=J.call(arguments),a=i.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,c=1===s?e:it.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?J.call(arguments):o,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>o;o++)i[o]&&it.isFunction(i[o].promise)?i[o].promise().done(u(o,r,i)).fail(c.reject).progress(u(o,n,t)):--s;return s||c.resolveWith(r,i),c.promise()}});var kt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!gt.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(kt.resolveWith(gt,[it]),it.fn.trigger&&it(gt).trigger("ready").off("ready"))}}}),it.ready.promise=function(t){if(!kt)if(kt=it.Deferred(),"complete"===gt.readyState)setTimeout(it.ready);else if(gt.addEventListener)gt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{gt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&gt.documentElement}catch(r){}n&&n.doScroll&&!function o(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}a(),it.ready()}}()}return kt.promise(t)};var St,Tt="undefined";for(St in it(rt))break;rt.ownLast="0"!==St,rt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n=gt.getElementsByTagName("body")[0];n&&(e=gt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=gt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(rt.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=gt.createElement("div");if(null==rt.deleteExpando){rt.deleteExpando=!0;try{delete e.test}catch(t){rt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!u(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=it.data(i),1===i.nodeType&&!it._data(i,"parsedAttrs"))){for(n=a.length;n--;)r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),c(i,r,o[r]));it._data(i,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):i?c(i,e,it.data(i,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,o=n.shift(),i=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=it.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=it._data(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,It=["Top","Right","Bottom","Left"],Pt=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},At=it.access=function(e,t,n,r,o,i,a){var s=0,c=e.length,u=null==n;if("object"===it.type(n)){o=!0;for(s in n)it.access(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,it.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(it(e),n)})),t))for(;c>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):c?t(e[0],n):i},Mt=/^(?:checkbox|radio)$/i;!function(){var e=gt.createDocumentFragment(),t=gt.createElement("div"),n=gt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",rt.leadingWhitespace=3===t.firstChild.nodeType,rt.tbody=!t.getElementsByTagName("tbody").length,rt.htmlSerialize=!!t.getElementsByTagName("link").length,rt.html5Clone="<:nav></:nav>"!==gt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),rt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",rt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,rt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){rt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==rt.deleteExpando){rt.deleteExpando=!0;try{delete t.test}catch(r){rt.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,r=gt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(rt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),rt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Dt=/^(?:input|select|textarea)$/i,Lt=/^key/,Ot=/^(?:mouse|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,o){var i,a,s,c,u,l,f,d,p,h,g,m=it._data(e);if(m){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=it.guid++),(a=m.events)||(a=m.events={}),(l=m.handle)||(l=m.handle=function(e){return typeof it===Tt||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(_t)||[""],s=t.length;s--;)i=Rt.exec(t[s])||[],p=g=i[1],h=(i[2]||"").split(".").sort(),p&&(u=it.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=it.event.special[p]||{},f=it.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&it.expr.match.needsContext.test(o),namespace:h.join(".")},c),(d=a[p])||(d=a[p]=[],d.delegateCount=0,u.setup&&u.setup.call(e,r,h,l)!==!1||(e.addEventListener?e.addEventListener(p,l,!1):e.attachEvent&&e.attachEvent("on"+p,l))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,f):d.push(f),it.event.global[p]=!0);e=null}},remove:function(e,t,n,r,o){var i,a,s,c,u,l,f,d,p,h,g,m=it.hasData(e)&&it._data(e);if(m&&(l=m.events)){for(t=(t||"").match(_t)||[""],u=t.length;u--;)if(s=Rt.exec(t[u])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(f=it.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=i=d.length;i--;)a=d[i],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(i,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));c&&!d.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||it.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)it.event.remove(e,p+t[u],n,r,!0);it.isEmptyObject(l)&&(delete m.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,o){var i,a,s,c,u,l,f,d=[r||gt],p=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=l=r=r||gt,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),u=it.event.special[p]||{},o||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!o&&!u.noBubble&&!it.isWindow(r)){for(c=u.delegateType||p,Nt.test(c+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(r.ownerDocument||gt)&&d.push(l.defaultView||l.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?c:u.bindType||p,i=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),i&&i.apply(s,n),i=a&&s[a],i&&i.apply&&it.acceptData(s)&&(t.result=i.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&it.acceptData(r)&&a&&r[p]&&!it.isWindow(r)){l=r[a],l&&(r[a]=null),it.event.triggered=p;try{r[p]()}catch(g){}it.event.triggered=void 0,l&&(r[a]=l)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,o,i,a=[],s=J.call(arguments),c=(it._data(this,"events")||{})[e.type]||[],u=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,c),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],i=0;s>i;i++)r=t[i],n=r.selector+" ",void 0===o[n]&&(o[n]=r.needsContext?it(n,this).index(c)>=0:it.find(n,this,null,[c]).length),o[n]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[it.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ot.test(o)?this.mouseHooks:Lt.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new it.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||gt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||gt,o=r.documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(o,null,t):it.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=gt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Tt&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?d:p):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),this[it.expando]=!0,void 0):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d,this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!it.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),rt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:(it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:(it.event.remove(this,"._submit"),void 0)}}),rt.changeBubbles||(it.event.special.change={setup:function(){return Dt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):(it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Dt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),rt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=it._data(r,t);o||r.addEventListener(e,n,!0),it._data(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=it._data(r,t)-1;o?it._data(r,t,o):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,o){var i,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(i in e)this.on(i,t,n,e[i],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===o&&(a=r,r=function(e){return it().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,e,n,t)
})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var $t="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Ht=new RegExp("<(?:"+$t+")[\\s/>]","i"),Bt=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ut=/<([\w:]+)/,qt=/<tbody/i,zt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:rt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=g(gt),Kt=Qt.appendChild(gt.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,it.extend({clone:function(e,t,n){var r,o,i,a,s,c=it.contains(e.ownerDocument,e);if(rt.html5Clone||it.isXMLDoc(e)||!Ht.test("<"+e.nodeName+">")?i=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(i=Kt.firstChild)),!(rt.noCloneEvent&&rt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=m(i),s=m(e),a=0;null!=(o=s[a]);++a)r[a]&&S(o,r[a]);if(t)if(n)for(s=s||m(e),r=r||m(i),a=0;null!=(o=s[a]);a++)k(o,r[a]);else k(e,i);return r=m(i,"script"),r.length>0&&w(r,!c&&m(e,"script")),r=s=o=null,i},buildFragment:function(e,t,n,r){for(var o,i,a,s,c,u,l,f=e.length,d=g(t),p=[],h=0;f>h;h++)if(i=e[h],i||0===i)if("object"===it.type(i))it.merge(p,i.nodeType?[i]:i);else if(zt.test(i)){for(s=s||d.appendChild(t.createElement("div")),c=(Ut.exec(i)||["",""])[1].toLowerCase(),l=Xt[c]||Xt._default,s.innerHTML=l[1]+i.replace(Ft,"<$1></$2>")+l[2],o=l[0];o--;)s=s.lastChild;if(!rt.leadingWhitespace&&Bt.test(i)&&p.push(t.createTextNode(Bt.exec(i)[0])),!rt.tbody)for(i="table"!==c||qt.test(i)?"<table>"!==l[1]||qt.test(i)?0:s:s.firstChild,o=i&&i.childNodes.length;o--;)it.nodeName(u=i.childNodes[o],"tbody")&&!u.childNodes.length&&i.removeChild(u);for(it.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(i));for(s&&d.removeChild(s),rt.appendChecked||it.grep(m(p,"input"),v),h=0;i=p[h++];)if((!r||-1===it.inArray(i,r))&&(a=it.contains(i.ownerDocument,i),s=m(d.appendChild(i),"script"),a&&w(s),n))for(o=0;i=s[o++];)Yt.test(i.type||"")&&n.push(i);return s=null,d},cleanData:function(e,t){for(var n,r,o,i,a=0,s=it.expando,c=it.cache,u=rt.deleteExpando,l=it.event.special;null!=(n=e[a]);a++)if((t||it.acceptData(n))&&(o=n[s],i=o&&c[o])){if(i.events)for(r in i.events)l[r]?it.event.remove(n,r):it.removeEvent(n,r,i.handle);c[o]&&(delete c[o],u?delete n[s]:typeof n.removeAttribute!==Tt?n.removeAttribute(s):n[s]=null,G.push(o))}}}),it.fn.extend({text:function(e){return At(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||gt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&w(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(jt,""):void 0;if(!("string"!=typeof e||Vt.test(e)||!rt.htmlSerialize&&Ht.test(e)||!rt.leadingWhitespace&&Bt.test(e)||Xt[(Ut.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ft,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,r,o,i,a,s,c=0,u=this.length,l=this,f=u-1,d=e[0],p=it.isFunction(d);if(p||u>1&&"string"==typeof d&&!rt.checkClone&&Wt.test(d))return this.each(function(n){var r=l.eq(n);p&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(i=it.map(m(s,"script"),y),o=i.length;u>c;c++)r=s,c!==f&&(r=it.clone(r,!0,!0),o&&it.merge(i,m(r,"script"))),t.call(this[c],r,c);if(o)for(a=i[i.length-1].ownerDocument,it.map(i,_),c=0;o>c;c++)r=i[c],Yt.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(a,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")));s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,o=[],i=it(e),a=i.length-1;a>=r;r++)n=r===a?this:this.clone(!0),it(i[r])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var Zt,en={};!function(){var e,t,n=gt.createElement("div"),r="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(e.style.opacity),rt.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,rt.shrinkWrapBlocks=function(){var e,n,o,i;if(null==t){if(e=gt.getElementsByTagName("body")[0],!e)return;i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=gt.createElement("div"),o=gt.createElement("div"),e.appendChild(n).appendChild(o),t=!1,typeof o.style.zoom!==Tt&&(o.style.cssText=r+";width:1px;padding:1px;zoom:1",o.innerHTML="<div></div>",o.firstChild.style.width="5px",t=3!==o.offsetWidth),e.removeChild(n),e=n=o=null}return t}}();var tn,nn,rn=/^margin/,on=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var r,o,i,a,s=e.style;return n=n||tn(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),on.test(a)&&rn.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0===a?a:a+""}):gt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var r,o,i,a,s=e.style;return n=n||tn(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),on.test(a)&&!an.test(t)&&(r=s.left,o=e.runtimeStyle,i=o&&o.left,i&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,i&&(o.left=i)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r=gt.getElementsByTagName("body")[0];r&&(t=gt.createElement("div"),n=gt.createElement("div"),t.style.cssText=u,r.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",it.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){o=4===n.offsetWidth}),i=!0,a=!1,s=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,i="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),r.removeChild(t),n=r=null)}var n,r,o,i,a,s,c=gt.createElement("div"),u="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",l="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=c.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(n.style.opacity),rt.cssFloat=!!n.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===c.style.backgroundClip,n=c=null,it.extend(rt,{reliableHiddenOffsets:function(){if(null!=r)return r;var e,t,n,o=gt.createElement("div"),i=gt.getElementsByTagName("body")[0];if(i)return o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=gt.createElement("div"),e.style.cssText=u,i.appendChild(e).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=o.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",r=n&&0===t[0].offsetHeight,i.removeChild(e),o=i=null,r},boxSizing:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==i&&t(),i},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n,r,o;if(null==s&&e.getComputedStyle){if(t=gt.getElementsByTagName("body")[0],!t)return;n=gt.createElement("div"),r=gt.createElement("div"),n.style.cssText=u,t.appendChild(n).appendChild(r),o=r.appendChild(gt.createElement("div")),o.style.cssText=r.style.cssText=l,o.style.marginRight=o.style.width="0",r.style.width="1px",s=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(n)}return s}})}(),it.swap=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o};var sn=/alpha\([^)]*\)/i,cn=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+Et+")(.*)$","i"),fn=new RegExp("^([+-])=("+Et+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},hn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":rt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=it.camelCase(t),c=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=E(c,s)),a=it.cssHooks[t]||it.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];if(i=typeof n,"string"===i&&(o=fn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(it.css(e,t)),i="number"),null!=n&&n===n&&("number"!==i||it.cssNumber[s]||(n+="px"),rt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{c[t]="",c[t]=n}catch(u){}}},css:function(e,t,n,r){var o,i,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=E(e.style,s)),a=it.cssHooks[t]||it.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=nn(e,t,r)),"normal"===i&&t in pn&&(i=pn[t]),""===n||n?(o=parseFloat(i),n===!0||it.isNumeric(o)?o||0:i):i}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&un.test(it.css(e,"display"))?it.swap(e,dn,function(){return M(e,t,r)}):M(e,t,r):void 0},set:function(e,n,r){var o=r&&tn(e);return P(e,n,r?A(e,t,r,rt.boxSizing()&&"border-box"===it.css(e,"boxSizing",!1,o),o):0)}}}),rt.opacity||(it.cssHooks.opacity={get:function(e,t){return cn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(i.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=sn.test(i)?i.replace(sn,o):i+" "+o)}}),it.cssHooks.marginRight=x(rt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+It[r]+t]=i[r]||i[r-2]||i[0];return o}},rn.test(e)||(it.cssHooks[e+t].set=P)}),it.fn.extend({css:function(e,t){return At(this,function(e,t,n){var r,o,i={},a=0;if(it.isArray(t)){for(r=tn(e),o=t.length;o>a;a++)i[t[a]]=it.css(e,t[a],!1,r);return i}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pt(this)?it(this).show():it(this).hide()})}}),it.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(it.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=D.prototype.init,it.fx.step={};var gn,mn,vn=/^(?:toggle|show|hide)$/,bn=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),yn=/queueHooks$/,_n=[R],wn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=bn.exec(t),i=o&&o[3]||(it.cssNumber[e]?"":"px"),a=(it.cssNumber[e]||"px"!==i&&+r)&&bn.exec(it.css(n.elem,e)),s=1,c=20;if(a&&a[3]!==i){i=i||a[3],o=o||[],a=+r||1;do s=s||".5",a/=s,it.style(n.elem,e,a+i);while(s!==(s=n.cur()/r)&&1!==s&&--c)}return o&&(a=n.start=+a||+r||0,n.unit=i,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};it.Animation=it.extend(j,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?_n.unshift(e):_n.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Pt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=it.isEmptyObject(e),i=it.speed(t,n,r),a=function(){var t=j(this,it.extend({},e),i);(o||it._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=it.timers,a=it._data(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&yn.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,o)}}),it.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(gn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),gn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){mn||(mn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(mn),mn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,o=gt.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=o.getElementsByTagName("a")[0],n=gt.createElement("select"),r=n.appendChild(gt.createElement("option")),t=o.getElementsByTagName("input")[0],e.style.cssText="top:1px",rt.getSetAttribute="t"!==o.className,rt.style=/top/.test(e.getAttribute("style")),rt.hrefNormalized="/a"===e.getAttribute("href"),rt.checkOn=!!t.value,rt.optSelected=r.selected,rt.enctype=!!gt.createElement("form").enctype,n.disabled=!0,rt.optDisabled=!r.disabled,t=gt.createElement("input"),t.setAttribute("value",""),rt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),rt.radioValue="t"===t.value,e=t=n=r=o=null}();var kn=/\r/g;it.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=it.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,it(this).val()):e,null==o?o="":"number"==typeof o?o+="":it.isArray(o)&&(o=it.map(o,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=it.valHooks[o.type]||it.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(kn,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.text(e)}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,a=i?null:[],s=i?o+1:r.length,c=0>o?s:i?o:0;s>c;c++)if(n=r[c],!(!n.selected&&c!==o||(rt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=it.makeArray(t),a=o.length;a--;)if(r=o[a],it.inArray(it.valHooks.option.get(r),i)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),o}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},rt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Sn,Tn,Cn=it.expr.attrHandle,xn=/^(?:checked|selected)$/i,En=rt.getSetAttribute,In=rt.input;it.fn.extend({attr:function(e,t){return At(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return typeof e.getAttribute===Tt?it.prop(e,t,n):(1===i&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?Tn:Sn)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=it.find.attr(e,t),null==o?void 0:o):null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):(it.removeAttr(e,t),void 0))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(_t);if(i&&1===e.nodeType)for(;n=i[o++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)?In&&En||!xn.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(En?n:r)},attrHooks:{type:{set:function(e,t){if(!rt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):In&&En||!xn.test(n)?e.setAttribute(!En&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Cn[t]||it.find.attr;Cn[t]=In&&En||!xn.test(t)?function(e,t,r){var o,i;return r||(i=Cn[t],Cn[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,Cn[t]=i),o}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),In&&En||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?(e.defaultValue=t,void 0):Sn&&Sn.set(e,t,n)}}),En||(Sn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Cn.id=Cn.name=Cn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Sn.set},it.attrHooks.contenteditable={set:function(e,t,n){Sn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),rt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pn=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return At(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,o,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return i=1!==a||!it.isXMLDoc(e),i&&(t=it.propFix[t]||t,o=it.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):Pn.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),rt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),rt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),rt.enctype||(it.propFix.enctype="encoding");var Mn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,o,i,a,s=0,c=this.length,u="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(_t)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=it.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,o,i,a,s=0,c=this.length,u=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(_t)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");a=e?it.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):it.isFunction(e)?this.each(function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,o=it(this),i=e.match(_t)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mn," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dn=it.now(),Ln=/\?/,On=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,o=it.trim(t+"");return o&&!it.trim(o.replace(On,function(e,t,o,i){return n&&t&&(r=0),0===r?e:(n=o||t,r+=!i-!o,"")}))?Function("return "+o)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var Nn,Rn,$n=/#.*$/,jn=/([?&])_=[^&]*/,Hn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fn=/^(?:GET|HEAD)$/,Un=/^\/\//,qn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},Vn={},Wn="*/".concat("*");try{Rn=location.href}catch(Yn){Rn=gt.createElement("a"),Rn.href="",Rn=Rn.href}Nn=qn.exec(Rn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:Bn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,it.ajaxSettings),t):F(it.ajaxSettings,e)},ajaxPrefilter:H(zn),ajaxTransport:H(Vn),ajax:function(e,t){function n(e,t,n,r){var o,l,v,b,_,k=t;2!==y&&(y=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(b=U(f,w,n)),b=q(f,b,w,o),o?(f.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(it.lastModified[i]=_),_=w.getResponseHeader("etag"),_&&(it.etag[i]=_)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=b.state,l=b.data,v=b.error,o=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",o?h.resolveWith(d,[l,k,w]):h.rejectWith(d,[w,k,v]),w.statusCode(m),m=void 0,c&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,f,o?l:v]),g.fireWith(d,[w,k]),c&&(p.trigger("ajaxComplete",[w,f]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,a,s,c,u,l,f=it.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?it(d):it.event,h=it.Deferred(),g=it.Callbacks("once memory"),m=f.statusCode||{},v={},b={},y=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!l)for(l={};t=Hn.exec(a);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||Rn)+"").replace($n,"").replace(Un,Nn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=it.trim(f.dataType||"*").toLowerCase().match(_t)||[""],null==f.crossDomain&&(r=qn.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===Nn[1]&&r[2]===Nn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=it.param(f.data,f.traditional)),B(zn,f,t,w),2===y)return w;c=f.global,c&&0===it.active++&&it.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Fn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(Ln.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=jn.test(i)?i.replace(jn,"$1_="+Dn++):i+(Ln.test(i)?"&":"?")+"_="+Dn++)),f.ifModified&&(it.lastModified[i]&&w.setRequestHeader("If-Modified-Since",it.lastModified[i]),it.etag[i]&&w.setRequestHeader("If-None-Match",it.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Wn+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)w.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===y))return w.abort();_="abort";for(o in{success:1,error:1,complete:1})w[o](f[o]);if(u=B(Vn,f,t,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{y=1,u.send(v,n)}catch(k){if(!(2>y))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,o){return it.isFunction(n)&&(o=o||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:o,data:n,success:r})}}),it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)
}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return it.isFunction(e)?this.each(function(t){it(this).wrapInner(e.call(this,t))}):this.each(function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!rt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var Gn=/%20/g,Jn=/\[\]$/,Xn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],o=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){o(this.name,this.value)});else for(n in e)z(n,e[n],t,o);return r.join("&").replace(Gn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Kn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!Mt.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&V()||W()}:V;var Zn=0,er={},tr=it.ajaxSettings.xhr();e.ActiveXObject&&it(e).on("unload",function(){for(var e in er)er[e](void 0,!0)}),rt.cors=!!tr&&"withCredentials"in tr,tr=rt.ajax=!!tr,tr&&it.ajaxTransport(function(e){if(!e.crossDomain||rt.cors){var t;return{send:function(n,r){var o,i=e.xhr(),a=++Zn;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)i[o]=e.xhrFields[o];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&i.setRequestHeader(o,n[o]+"");i.send(e.hasContent&&e.data||null),t=function(n,o){var s,c,u;if(t&&(o||4===i.readyState))if(delete er[a],t=void 0,i.onreadystatechange=it.noop,o)4!==i.readyState&&i.abort();else{u={},s=i.status,"string"==typeof i.responseText&&(u.text=i.responseText);try{c=i.statusText}catch(l){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,c,u,i.getAllResponseHeaders())},e.async?4===i.readyState?setTimeout(t):i.onreadystatechange=er[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=gt.head||it("head")[0]||gt.documentElement;return{send:function(r,o){t=gt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var nr=[],rr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||it.expando+"_"+Dn++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=t.jsonp!==!1&&(rr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(rr,"$1"+o):t.jsonp!==!1&&(t.url+=(Ln.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||it.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,nr.push(o)),a&&it.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||gt;var r=dt.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,o),o&&o.length&&it(o).remove(),it.merge([],r.childNodes))};var or=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&or)return or.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&it.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,o,i,a,s,c,u,l=it.css(e,"position"),f=it(e),d={};"static"===l&&(e.style.position="relative"),s=f.offset(),i=it.css(e,"top"),c=it.css(e,"left"),u=("absolute"===l||"fixed"===l)&&it.inArray("auto",[i,c])>-1,u?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(c)||0),it.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):f.css(d)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},o=this[0],i=o&&o.ownerDocument;if(i)return t=i.documentElement,it.contains(t,o)?(typeof o.getBoundingClientRect!==Tt&&(r=o.getBoundingClientRect()),n=Y(i),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return At(this,function(e,r,o){var i=Y(e);return void 0===o?i?t in i?i[t]:i.document.documentElement[r]:e[r]:(i?i.scrollTo(n?it(i).scrollLeft():o,n?o:it(i).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=x(rt.pixelPosition,function(e,n){return n?(n=nn(e,t),on.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return At(this,function(t,n,r){var o;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?it.css(t,n,a):it.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var ar=e.jQuery,sr=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=sr),t&&e.jQuery===it&&(e.jQuery=ar),it},typeof t===Tt&&(e.jQuery=e.$=it),it})}).call(this),function(){e=t=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:e,jQuery:t}}(),function(){{var e,t=(Package.meteor.Meteor,Package.deps.Deps),n=Package.minimongo.LocalCollection;Package.minimongo.Minimongo}(function(){var r=function(){e._suppressWarnings?e._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),e._loggedWarnings++)},o=n._idStringify,i=n._idParse;e={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,n){var i=null,u=null,l=[],f=t.autorun(function(){var f=e();t.nonreactive(function(){var e;if(u&&(l=_.map(u._fetch(),function(e){return{_id:e._id,item:e}}),u.stop(),u=null),f)if(f instanceof Array){var t={};e=_.map(f,function(e,n){var i;if("string"==typeof e)i="-"+e;else if("number"==typeof e||"boolean"==typeof e||void 0===e)i=e;else{if("object"!=typeof e)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof e);i=e&&e._id||n}var a=o(i);return t[a]?(r("duplicate id "+i+" in",f),i=Random.id()):t[a]=!0,{_id:i,item:e}}),c(l,e,n)}else{if(!s(f))throw a();var d=f;e=[];var p=!0;u=d.observe({addedAt:function(t,r,o){if(p){if(null!==o)throw new Error("Expected initial data from observe in order");e.push({_id:t._id,item:t})}else n.addedAt(t._id,t,r,o)},changedAt:function(e,t,r){n.changedAt(e._id,e,t,r)},removedAt:function(e,t){n.removedAt(e._id,e,t)},movedTo:function(e,t,r,o){n.movedTo(e._id,e,t,r,o)}}),p=!1,c(l,e,n)}else e=[],c(l,e,n);i=f,l=e})});return{stop:function(){f.stop(),u&&u.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(s(e))return e.fetch();throw a()}return[]}};var a=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},s=function(e){var t=Package.minimongo;return!!t&&e instanceof t.LocalCollection.Cursor},c=function(e,t,n){var r=Package.minimongo.LocalCollection._diffQueryOrderedChanges,a=[],s=[],c={},u={},l={},f=e.length;_.each(t,function(e,t){s.push({_id:e._id}),u[o(e._id)]=t}),_.each(e,function(e,t){a.push({_id:e._id}),c[o(e._id)]=t,l[o(e._id)]=t}),r(a,s,{addedBefore:function(e,r,i){var a=i?l[o(i)]:f;_.each(l,function(e,t){e>=a&&l[t]++}),f++,l[o(e)]=a,n.addedAt(e,t[u[o(e)]].item,a,i)},movedBefore:function(e,r){var i=l[o(e)],a=r?l[o(r)]:f-1;_.each(l,function(e,t){e>=i&&a>=e?l[t]--:i>=e&&e>=a&&l[t]++}),l[o(e)]=a,n.movedTo(e,t[u[o(e)]].item,i,a,r)},removed:function(t){var r=l[o(t)];_.each(l,function(e,t){e>=r&&l[t]--}),delete l[o(t)],f--,n.removedAt(t,e[c[o(t)]].item,r)}}),_.each(u,function(r,o){var a=i(o);if(_.has(c,o)){var s=t[r].item,u=e[c[o]].item;("object"==typeof s||s!==u)&&n.changedAt(a,s,u,r)}})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:e}}(),function(){{var e,t,n;Package.meteor.Meteor}(function(){e={},e.isNully=function(t){if(null==t)return!0;if(t instanceof Array){for(var n=0;n<t.length;n++)if(!e.isNully(t[n]))return!1;return!0}return!1},e.escapeData=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},e.isValidAttributeName=function(e){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(e)}}).call(this),function(){e.Tag=function(){},e.Tag.prototype.tagName="",e.Tag.prototype.attrs=null,e.Tag.prototype.children=Object.freeze?Object.freeze([]):[],e.getTag=function(t){var n=e.getSymbolName(t);if(n===t)throw new Error("Use the lowercase or camelCase form of '"+t+"' here");return e[n]||(e[n]=r(t)),e[n]},e.ensureTag=function(t){e.getTag(t)};var r=function(t){var n=function(){var t=this instanceof e.Tag?this:new n,r=0,o=arguments.length&&arguments[0];return o&&"object"==typeof o&&o.constructor===Object&&(t.attrs=o,r++),r<arguments.length&&(t.children=Array.prototype.slice.call(arguments,r)),t};return n.prototype=new e.Tag,n.prototype.constructor=n,n.prototype.tagName=t,n},o=e.CharRef=function(e){if(!(this instanceof o))return new o(e);if(!(e&&e.html&&e.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=e.html,this.str=e.str},i=e.Comment=function(e){if(!(this instanceof i))return new i(e);if("string"!=typeof e)throw new Error("HTML.Comment must be constructed with a string");this.value=e,this.sanitizedValue=e.replace(/^-|--+|-$/g,"")};e.knownElementNames="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),e.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),e.knownElementNames=e.knownElementNames.concat(e.knownSVGElementNames),e.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var a={yes:!0},s=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=a;return t},c=s(e.voidElementNames),u=s(e.knownElementNames),l=s(e.knownSVGElementNames);e.isKnownElement=function(e){return u[e]===a},e.isVoidElement=function(e){return c[e]===a},e.isKnownSVGElement=function(e){return l[e]===a},e.isTagEnsured=function(t){return e.isKnownElement(t)},e.getSymbolName=function(e){return e.toUpperCase().replace(/-/g,"_")};for(var f=0;f<e.knownElementNames.length;f++)e.ensureTag(e.knownElementNames[f]);t=function(e){var t,n=Deps.currentComputation,r=Deps.autorun(function(){t=e()});return r.onInvalidate(function(){n&&n.invalidate()}),Deps.active?Deps.onInvalidate(function(){r.stop(),e.stop&&e.stop()}):(r.stop(),e.stop&&e.stop()),t},n=function(e){e.materialized&&e.materialized.isWith&&(Deps.active?e.materialized():e.data?e.data.stop():e.v&&e.v.stop())},e.evaluate=function(r,o){if(null==r)return r;if("function"==typeof r)return e.evaluate(t(r),o);if(r instanceof Array){for(var i=[],a=0;a<r.length;a++)i.push(e.evaluate(r[a],o));return i}if("function"==typeof r.instantiate){var s=r.instantiate(o||null),c=s.render("STATIC");return n(s),e.evaluate(c,s)}if(r instanceof e.Tag){for(var u=[],a=0;a<r.children.length;a++)u.push(e.evaluate(r.children[a],o));var l=e.getTag(r.tagName).apply(null,u);l.attrs={};for(var f in r.attrs)l.attrs[f]=e.evaluate(r.attrs[f],o);return l}return r};var d=function(t,n,r){for(var o in n)if("$dynamic"!==o){if(!e.isValidAttributeName(o))throw new Error("Illegal HTML attribute name: "+o);var i=e.evaluate(n[o],r);e.isNully(i)||(t[o]=i)}};e.evaluateAttributes=function(e,t){if(!e)return e;var n={};if(d(n,e,t),"$dynamic"in e){if(!(e.$dynamic instanceof Array))throw new Error("$dynamic must be an array");for(var r=e.$dynamic,o=0;o<r.length;o++){var i=r[o];"function"==typeof i&&(i=i()),d(n,i,t)}}return n},e.Tag.prototype.evaluateAttributes=function(t){return e.evaluateAttributes(this.attrs,t)},e.Raw=function(t){if(!(this instanceof e.Raw))return new e.Raw(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t},e.EmitCode=function(t){if(!(this instanceof e.EmitCode))return new e.EmitCode(t);if("string"!=typeof t)throw new Error("HTML.EmitCode must be constructed with a string");this.value=t}}.call(this),function(){e.toHTML=function(r,o){if(null==r)return"";if("string"==typeof r||"boolean"==typeof r||"number"==typeof r)return e.escapeData(String(r));if(r instanceof Array){for(var i=[],a=0;a<r.length;a++)i.push(e.toHTML(r[a],o));return i.join("")}if("function"==typeof r.instantiate){var s=r.instantiate(o||null),c=s.render("STATIC");return n(s),e.toHTML(c,s)}if("function"==typeof r)return e.toHTML(t(r),o);if(r.toHTML)return r.toHTML(o);throw new Error("Expected tag, string, array, component, null, undefined, or object with a toHTML method; found: "+r)},e.Comment.prototype.toHTML=function(){return"<!--"+this.sanitizedValue+"-->"},e.CharRef.prototype.toHTML=function(){return this.html},e.Raw.prototype.toHTML=function(){return this.value},e.Tag.prototype.toHTML=function(t){var n=[],r=this.evaluateAttributes(t);if(r)for(var o in r){var i=e.toText(r[o],e.TEXTMODE.ATTRIBUTE,t);n.push(" "+o+'="'+i+'"')}var a,s=this.tagName,c="<"+s+n.join("")+">",u=[];if("textarea"===s){for(var l=0;l<this.children.length;l++)u.push(e.toText(this.children[l],e.TEXTMODE.RCDATA,t));a=u.join(""),"\n"===a.slice(0,1)&&(a="\n"+a)}else{for(var l=0;l<this.children.length;l++)u.push(e.toHTML(this.children[l],t));a=u.join("")}var f=c+a;return(this.children.length||!e.isVoidElement(s))&&(f+="</"+s+">"),f},e.TEXTMODE={ATTRIBUTE:1,RCDATA:2,STRING:3},e.toText=function(r,o,i){if(null==r)return"";if("string"==typeof r||"boolean"==typeof r||"number"==typeof r){if(r=String(r),o===e.TEXTMODE.STRING)return r;if(o===e.TEXTMODE.RCDATA)return e.escapeData(r);if(o===e.TEXTMODE.ATTRIBUTE)return r.replace(/&/g,"&amp;").replace(/"/g,"&quot;");throw new Error("Unknown TEXTMODE: "+o)}if(r instanceof Array){for(var a=[],s=0;s<r.length;s++)a.push(e.toText(r[s],o,i));return a.join("")}if("function"==typeof r)return e.toText(t(r),o,i);if("function"==typeof r.instantiate){var c=r.instantiate(i||null),u=c.render("STATIC"),l=e.toText(u,o,c);return n(c),l}if(r.toText)return r.toText(o,i);throw new Error("Expected tag, string, array, component, null, undefined, or object with a toText method; found: "+r)},e.Raw.prototype.toText=function(){return this.value},e.Tag.prototype.toText=function(t,n){if(t===e.TEXTMODE.STRING)return e.toText(this.toHTML(n),t);throw new Error("Can't insert tags in attributes or TEXTAREA elements")},e.CharRef.prototype.toText=function(t){if(t===e.TEXTMODE.STRING)return this.str;if(t===e.TEXTMODE.RCDATA)return this.html;if(t===e.TEXTMODE.ATTRIBUTE)return this.html;throw new Error("Unknown TEXTMODE: "+t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:e}}(),function(){var e,t,n,r,o,i,a,s,c,u,l,f,d=Package.meteor.Meteor,p=(Package.jquery.$,Package.jquery.jQuery,Package.deps.Deps),h=(Package.random.Random,Package.ejson.EJSON,Package.underscore._),g=(Package["ordered-dict"].OrderedDict,Package.minimongo.LocalCollection),m=(Package.minimongo.Minimongo,Package["observe-sequence"].ObserveSequence),v=Package.htmljs.HTML;(function(){var e;n=function(t,n){e||(e=function(){return"undefined"!=typeof d?d._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),e()(n||"Exception in Meteor UI:",t.stack||t.message)}}).call(this),function(){e={},r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var t=function(e,t,n){try{Object.defineProperty(e,t,{value:n})}catch(r){e[t]=n}return e};!function(){e.Component=function(e){var n=new e;return t(n,"_constr",e),t(n,"_super",null),n}(function(){})}(),r(e,{nextGuid:2,isComponent:function(t){return t&&e.isKindOf(t,e.Component)},isKindOf:function(e,t){for(;e;){if(e===t)return!0;e=e._super}return!1},_requireNotDestroyed:function(e){if(e.isDestroyed)throw new Error("Component has been destroyed; can't perform this operation")},_requireInited:function(e){if(!e.isInited)throw new Error("Component must be inited to perform this operation")},_requireDom:function(e){if(!e.dom)throw new Error("Component must be built into DOM to perform this operation")}}),o=e.Component,r(e.Component,{kind:"Component",guid:"1",dom:null,isInited:!1,isDestroyed:!1,parent:null,extend:function(n){if(this.isInited)throw new Error("Can't extend an inited Component");var o,i=!1;n&&n.kind?(o=function(){},i=!0):o=this._constr,o.prototype=this;var a=new o;return i&&(a._constr=o),n&&r(a,n),t(a,"_super",this),a.guid=String(e.nextGuid++),a}});i=function(e,t){for(;t;){if("undefined"!=typeof t[e])return t;t=t.parent}return null},a=function(e,t){for(;t;){if(t.__helperHost)return"undefined"!=typeof t[e]?t:null;t=t.parent}return null},s=function(e){return e=i("data",e),e?"function"==typeof e.data?e.data():e.data:null},c=function(e){var t=e.templateInstance;t.data=s(e),e.dom&&!e.isDestroyed?(t.firstNode=e.dom.startNode().nextSibling,t.lastNode=e.dom.endNode().previousSibling,t.lastNode&&t.lastNode.nextSibling===t.firstNode&&(t.lastNode=t.firstNode)):(t.firstNode=null,t.lastNode=null)},r(e.Component,{helpers:function(e){r(this,e)},events:function(e){var t;t=this.hasOwnProperty("_events")?this._events:this._events=[],h.each(e,function(e,n){var r=n.split(/,\s+/);h.each(r,function(n){var r=n.split(/\s+/);if(0!==r.length){var o=r.shift(),i=r.join(" ");t.push({events:o,selector:i,handler:e})}})})}}),e.Component.notifyParented=function(){for(var t=this,n=t;n;n=n._super){var r=n.hasOwnProperty("_events")&&n._events||null;!r&&n.hasOwnProperty("events")&&"object"==typeof n.events&&(e.Component.events.call(n,n.events),r=n._events),h.each(r,function(n){var r=function(r){var o=e.DomRange.getContainingComponent(r.currentTarget),i=o&&s(o),a=h.toArray(arguments);return c(t),p.nonreactive(function(){return a.splice(1,0,t.templateInstance),n.handler.apply(null===i?{}:i,a)})};t.dom.on(n.events,n.selector,r)})}t.rendered&&p.afterFlush(function(){t.isDestroyed||(c(t),t.rendered.call(t.templateInstance))})},e.Component.preserve=function(){d._debug("The 'preserve' method on templates is now unnecessary and deprecated.")},e.getElementData=function(t){var n=e.DomRange.getContainingComponent(t);return n&&s(n)};var n=!1;e._allowJavascriptUrls=function(){n=!0},e._javascriptUrlsAllowed=function(){return n}}.call(this),function(){if(d.isClient){if(!Package.jquery)throw new Error("Meteor UI jQuery adapter: jQuery not found.");var t=Package.jquery.jQuery,n={};e.DomBackend=n;var r="meteor_ui_removal_watcher",o="$meteor_ui_removal_callbacks",i=function(){};n.removeElement=function(e){t(e).remove()},n.onRemoveElement=function(e,n){e[o]||(e[o]=[],t(e).on(r,i)),e[o].push(n)},t.event.special[r]={teardown:function(){var e=this,t=e[o];if(t){for(var n=0;n<t.length;n++)t[n](e);e[o]=null}}},n.parseHTML=function(e){return t.parseHTML(e)||[]},n.findBySelector=function(e,n){return t(e,n)},n.newFragment=function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++)t.appendChild(e[n]);return t},n.delegateEvents=function(e,n,r,o){t(e).on(n,r,o)},n.undelegateEvents=function(e,n,r){t(e).off(n,r)},n.bindEventCapturer=function(e,n,r,o){var i=t(e),a=function(n){n=t.event.fix(n),n.currentTarget=n.target;var a=t(n.currentTarget);a.is(i.find(r))&&o.call(e,n)};o._meteorui_wrapper=a,n=this.parseEventType(n),e.addEventListener(n,a,!0)},n.unbindEventCapturer=function(e,t,n){t=this.parseEventType(t),e.removeEventListener(t,n._meteorui_wrapper,!0)},n.parseEventType=function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}}}.call(this),function(){var t=e.DomBackend,n=function(e){e.parentNode.removeChild(e)},r=function(e,t,n){t.insertBefore(e,n||null)},o=function(e,t,n){t.insertBefore(e,n||null)},i=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},a=function(e,t){if(!e)return!1;for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return!0;return!1},s=function(e){return!("number"!=typeof e.length||!e.sort&&!e.splice)},c=function(e){return!(3===e.nodeType&&(!e.nodeValue||/^\s+$/.test(e.nodeValue)))},u=function(e){if("string"!=typeof e)throw new Error("id must be a string");if(!e)throw new Error("id may not be empty")},l=function(){var e=document.createTextNode("");try{return e.blahblah=!0,!0}catch(t){return!1}}(),f=l?function(){return document.createTextNode("")}:function(){return document.createComment("IE")},d=function(e){if(!e.isParented){if(e.isParented=!0,!e.owner){var n=e.parentNode(),r=n.$_uiranges||(n.$_uiranges={});r[e._rangeId]=e,e._rangeDict=r,t.onRemoveElement(n,function(){p(e)})}e.component&&e.component.notifyParented&&e.component.notifyParented();var o=e.members;for(var i in o){var a=o[i];a instanceof v&&d(a)}}},p=function(e){e.isRemoved||(e.isRemoved=!0,e._rangeDict&&delete e._rangeDict[e._rangeId],e.removed&&e.removed(),g(e))},h=function(e,n){if(1===e.nodeType){for(var r=v.getComponents(e),o=0,i=r.length;i>o;o++)p(r[o]);n||t.removeElement(e)}},g=function(e){var t=e.members;for(var n in t){var r=t[n];r instanceof v?p(r):h(r)}},m=1,v=function(){var e=f(),n=f(),r=t.newFragment([e,n]);r.$_uiIsOffscreen=!0,this.start=e,this.end=n,e.$ui=this,n.$ui=this,this.members={},this.nextMemberId=1,this.owner=null,this._rangeId=m++,this._rangeDict=null,this.isParented=!1,this.isRemoved=!1};i(v.prototype,{getNodes:function(){if(!this.parentNode())return[];this.refresh();for(var e=this.end.nextSibling,t=[],n=this.start;n&&n!==e;n=n.nextSibling)t.push(n);return t},removeAll:function(){if(this.parentNode()){this.refresh();for(var e=this.end,t=[],r=this.start.nextSibling;r&&r!==e;r=r.nextSibling)t.push(r);for(var o=0,i=t.length;i>o;o++)n(t[o]);g(this),this.members={}}},add:function(e,t,n,o){if(null!=e&&"string"!=typeof e){if("object"!=typeof e)throw new Error("id must be a string");n=t,t=e,e=null}if(!t||"object"!=typeof t)throw new Error("Expected component, node, or array");if(s(t)){if(1!==t.length){if(null!=e)throw new Error("Can only add one node or one component if id is given");var i=t;o=this.getInsertionPoint(n);for(var a=0;a<i.length;a++)this.add(null,i[a],n,o);return}t=t[0]}var c=this.parentNode();if(c){var l=o||this.getInsertionPoint(n),f=t;null==e?e=this.nextMemberId++:(u(e),e=" "+e);var g=this.members;if(g.hasOwnProperty(e)){var m=g[e];if(m instanceof v){var b=m;if(b.start.parentNode===c)throw new Error("Member already exists: "+e.slice(1));delete g[e],b.owner=null,p(b)}else{var y=m;if(y.parentNode===c)throw new Error("Member already exists: "+e.slice(1));h(y),delete g[e]}}if(f instanceof v){var _=f;_.owner=this;var w=_.getNodes();g[e]=f;for(var a=0;a<w.length;a++)r(w[a],c,l);this.isParented&&d(_)}else{if("number"!=typeof f.nodeType)throw new Error("Expected Component or Node");var k=f;3!==k.nodeType&&(k.$ui=this),g[e]=f,r(k,c,l)}}},remove:function(e){if(null==e)return this.removeAll(),n(this.start),n(this.end),this.owner=null,p(this),void 0;u(e),e=" "+e;var t=this.members,r=t.hasOwnProperty(e)&&t[e];if(delete t[e],r){var o=this.parentNode();if(o)if(r instanceof v){var i=r;i.owner=null,i.start.parentNode===o&&r.remove()}else{var a=r;a.parentNode===o&&n(a)}}},moveBefore:function(e,t){var n=this.getInsertionPoint(t);u(e),e=" "+e;var r=this.members,i=r.hasOwnProperty(e)&&r[e];if(i){var a=this.parentNode();if(a)if(i instanceof v){var s=i;if(s.start.parentNode===a){s.refresh();for(var c=s.getNodes(),l=0;l<c.length;l++)o(c[l],a,n)}}else{var f=i;o(f,a,n)}}},get:function(e){u(e),e=" "+e;var t=this.members;return t.hasOwnProperty(e)?t[e]:null},parentNode:function(){return this.start.parentNode},startNode:function(){return this.start},endNode:function(){return this.end},eachMember:function(e,t){var n=this.members,r=this.parentNode();for(var o in n){var i=n[o];if(i instanceof v){var a=i;a.start.parentNode===r?t&&t(a):(a.owner=null,delete n[o],p(a))}else{var s=i;s.parentNode===r?e&&e(s):(delete n[o],h(s))}}},refresh:function(){var e=this.parentNode();if(e){var t=null,n=null,o=0,i=null;this.eachMember(function(e){t=e,o++,3===e.nodeType&&(i=i||[],i.push(e))},function(e){e.refresh(),n=e,o++});var s=null,u=null;if(0===o);else if(1===o)t?(s=t,u=t):n&&(s=n.start,u=n.end);else for(var l=e.firstChild;l;l=l.nextSibling){var f;if(l.$ui&&(f=l.$ui)&&(f===this&&l!==this.start&&l!==this.end&&c(l)||f!==this&&f.owner===this&&f.start===l)){if(s)for(var d=s.previousSibling;d&&!d.$ui;d=d.previousSibling)this.members[this.nextMemberId++]=d,3!==d.nodeType&&(d.$ui=this);l.$ui===this?(s=s||l,u=l):(s=s||l,l=l.$ui.end,u=l)}}if(s){for(var d;(d=s.previousSibling)&&(d.$ui&&d.$ui===this||a(i,d));)s=d;for(var d;(d=u.nextSibling)&&(d.$ui&&d.$ui===this||a(i,d));)u=d;s!==this.start&&r(this.start,e,s),u!==this.end&&r(this.end,e,u.nextSibling)}}},getInsertionPoint:function(e){var t=this.members,n=this.parentNode();if(!e)return this.end;u(e),e=" "+e;var r=t[e];if(r instanceof v){var o=r;if(o.start.parentNode===n)return o.refresh(),o.start;o.owner=null,p(o)}else{var i=r;if(i.parentNode===n)return i;h(i)}return delete t[e],this.end}}),v.prototype.elements=function(e){return e=e||[],this.eachMember(function(t){1===t.nodeType&&e.push(t)},function(t){t.elements(e)}),e},v.refresh=function(e){for(var t=v.getComponents(e),n=0,r=t.length;r>n;n++)t[n].refresh()},v.getComponents=function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.$ui&&n===n.$ui.start&&!n.$ui.owner&&t.push(n.$ui);return t},v.insert=function(e,t,n){for(var o=e.getNodes(),i=0;i<o.length;i++)r(o[i],t,n);d(e)},v.getContainingComponent=function(e){for(;e&&!e.$ui;)e=e.parentNode;for(var t=e&&e.$ui;t;){if(t.component)return t.component;t=t.owner}return null},v.prototype.contains=function(e){if(!e)throw new Error("Expected Component or Node");var t=this.parentNode();if(!t)return!1;var n;if(e instanceof v){n=e;var r=n.parentNode();if(!r)return!1;if(r!==t)return this.contains(r);if(n===this)return!1}else{var o=e;if(!S(t,o))return!1;for(;o.parentNode!==t;)o=o.parentNode;n=o.$ui}for(;n&&n!==this;)n=n.owner;return n===this},v.prototype.$=function(e){var n=this,r=this.parentNode();if(!r)throw new Error("Can't select in removed DomRange");if(11===r.nodeType||r.$_uiIsOffscreen)throw new Error("Can't use $ on an offscreen component");var o=t.findBySelector(e,r),i=function(e){return"number"==typeof e&&(e=this),n.contains(e)};if(o.filter)o=o.filter(i);else{for(var a=[],s=0;s<o.length;s++){var c=o[s];i(c)&&a.push(c)}o=a}return o};var b={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},y=0,_=1,w=2,k=function(e,n,r,o,i){this.elem=e,this.type=n,this.selector=r,this.handler=o,this.$ui=i,this.mode=y,this.delegatedHandler=function(e){return function(t){return(e.selector||t.currentTarget===t.target)&&e.$ui.contains(t.currentTarget)?e.handler.apply(e.$ui,arguments):void 0}}(this);var a=e.addEventListener&&!b.hasOwnProperty(t.parseEventType(n));a?this.capturingHandler=function(e){return function(n){if(e.mode===y){if(n.bubbles)return e.mode=_,t.unbindEventCapturer(e.elem,e.type,e.capturingHandler),void 0;e.mode=w,t.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=_};k.prototype.bind=function(){this.mode!==_&&t.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==w&&t.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},k.prototype.unbind=function(){this.mode!==_&&t.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==w&&t.undelegateEvents(this.elem,this.type,this.delegatedHandler)
},v.prototype.on=function(e,t,n){var r=this.parentNode();if(r){if(r.$_uiIsOffscreen)throw new Error("Can't bind events before DomRange is inserted");var o=[];e.replace(/[^ /]+/g,function(e){o.push(e)}),n||"function"!=typeof t?t||(t=null):(n=t,t=null);for(var i=0,a=o.length;a>i;i++){var s=o[i],c=r.$_uievents;c||(c=r.$_uievents={});var u=c[s];u||(u=c[s]={},u.handlers=[]);var l=u.handlers,f=new k(r,s,t,n,this);f.bind(),l.push(f);for(var d=this.owner;d;d=d.owner)for(var p=0,h=l.length;h>p;p++){var g=l[p];g.$ui===d&&(g.unbind(),g.bind(),l.splice(p,1),l.push(g),p--,h--)}}}};var S=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)};e.DomRange=v}.call(this),function(){u=function(e,t){this.name=e,this.value=t},u.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},u.extend=function(e){var t=this,n=function(){u.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&h.extend(n.prototype,e),n};var t=u.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue)throw new Error("Missing methods in subclass of 'BaseClassHandler'");for(var r=t?h.compact(t.split(" ")):[],o=n?h.compact(n.split(" ")):[],i=h.compact(this.getCurrentValue(e).split(" ")),a=0;a<r.length;a++){var s=r[a];h.contains(o,s)||(i=h.without(i,s))}for(var a=0;a<o.length;a++){var s=o[a];h.contains(r,s)||h.contains(i,s)||i.push(s)}this.setValue(e,i.join(" "))}}),n=t.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t}}),r=t.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),o=u.extend({update:function(e,t,n){var r=this.focused(e);if(!r){var o=this.name;null==n?null!=t&&(e[o]=!1):e[o]=!0}},focused:function(e){if("INPUT"===e.tagName)return e===document.activeElement;if("OPTION"===e.tagName){for(var t=e;t&&"SELECT"!==t.tagName;)t=t.parentNode;return t?t===document.activeElement:!1}throw new Error("Expected INPUT or OPTION element")}}),i=u.extend({update:function(e,t,n){var r=e===document.activeElement;r||(e.value=n)}}),a=u.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),s=function(e){return"ownerSVGElement"in e},c=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return h.contains(r,t)};if(d.isClient)var p=document.createElement("A");var g=function(e){if(d.isClient)return p.href=e,p.href;throw new Error("normalizeUrl not implemented on the server")},m=u.prototype.update,v=u.extend({update:function(t,n,r){var o=this,i=arguments;if(e._javascriptUrlsAllowed())m.apply(o,i);else{var a=0===g(r).indexOf("javascript:");a?(d._debug("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call UI._allowJavascriptUrls() to enable them."),m.apply(o,[t,n,null])):m.apply(o,i)}}});l=function(e,t,l){return"class"===t?s(e)?new r(t,l):new n(t,l):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new o(t,l):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new a(t.substring(6),l):c(e.tagName,t)?new v(t,l):new u(t,l):new i(t,l)},f=function(e){this.elem=e,this.handlers={}},f.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!e.hasOwnProperty(r)){var o=n[r],i=o.value;o.value=null,o.update(t,i,null),delete n[r]}for(var r in e){var i,o=null,a=e[r];n.hasOwnProperty(r)?(o=n[r],i=o.value):null!==a&&(o=l(t,r,a),n[r]=o,i=null),i!==a&&(o.value=a,o.update(t,i,a),null===a&&delete n[r])}}}.call(this),function(){e.Component.instantiate=function(t){var n=this;if(!e.isComponent(n))throw new Error("Expected Component kind");if(n.isInited)throw new Error("A component kind is required, not an instance");var r=n.extend();return r.isInited=!0,r.templateInstance={findAll:function(e){return r.dom.$(e)},find:function(e){var t=this.findAll(e);return t[0]||null},firstNode:null,lastNode:null,data:null,__component__:r},r.templateInstance.$=r.templateInstance.findAll,r.parent=t||null,r.init&&r.init(),r.created&&(c(r),r.created.call(r.templateInstance)),r},e.Component.render=function(){return null};var t=function(e,t){var n=this;n.func=e,n.equals=t,n.curResult=null,n.dep=new p.Dependency,n.resultComputation=p.nonreactive(function(){return p.autorun(function(e){var t=n.func,r=t();if(!e.firstRun){var o=n.equals,i=n.curResult;if(o?o(r,i):r===i)return}n.curResult=r,n.dep.changed()})})};t.prototype.stop=function(){this.resultComputation.stop()},t.prototype.get=function(){return p.active&&!this.resultComputation.stopped&&this.dep.depend(),this.curResult},e.emboxValue=function(e,n){if("function"==typeof e){var r=e,o=new t(r,n),i=function(){return o.get()};return i.stop=function(){o.stop()},i}var a=e,s=function(){return a};return s._isEmboxedConstant=!0,s},e.namedEmboxValue=function(t,n,r){if(!p.active){var o=e.emboxValue(n,r);return o.stop(),o}var i=p.currentComputation;return i[t]||(i[t]=e.emboxValue(n,r)),i[t]},e.insert=function(t,n,r){if(!t.dom)throw new Error("Expected template rendered with UI.render");e.DomRange.insert(t.dom,n,r)};var r=function(t,n,r){if(!n)throw new Error("Materialization parent required");n instanceof e.DomRange?n.add(t,r):t instanceof e.DomRange?e.DomRange.insert(t,n,r):n.insertBefore(t,r||null)};e.render=function(t,n){if(t.isInited)throw new Error("Can't render component instance, only component kind");var r,o,a;return p.nonreactive(function(){r=t.instantiate(n),o=r.render&&r.render(),a=new e.DomRange,r.dom=a,a.component=r}),i(o,a,null,r),a.removed=function(){r.isDestroyed=!0,r.destroyed&&p.nonreactive(function(){c(r),r.destroyed.call(r.templateInstance)})},r},e.renderWithData=function(t,n,r){if(!e.isComponent(t))throw new Error("Component required here");if(t.isInited)throw new Error("Can't render component instance, only component kind");if("function"==typeof n)throw new Error("Data argument can't be a function");return e.render(t.extend({data:function(){return n}}),r)};var o=function(e,t){return e instanceof v.Raw?t instanceof v.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)};e.InTemplateScope=function(t,n){if(!(this instanceof e.InTemplateScope))return new e.InTemplateScope(t,n);var r=t.parent;r.__isTemplateWith&&(r=r.parent),this.parentPtr=r,this.content=n},e.InTemplateScope.prototype.toHTML=function(){return v.toHTML(this.content,this.parentPtr)},e.InTemplateScope.prototype.toText=function(e){return v.toText(this.content,e,this.parentPtr)};var i=function(t,a,s,c){if(null==t);else if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)t=String(t),r(document.createTextNode(t),a,s);else if(t instanceof Array)for(var u=0;u<t.length;u++)i(t[u],a,s,c);else if("function"==typeof t){var l=new e.DomRange,d=null,h=p.autorun(function(e){var n=t();v.isNully(n)?n=null:n instanceof Array&&1===n.length&&(n=n[0]),o(n,d)||(d=n,e.firstRun||l.removeAll(),i(n,l,null,c))});l.removed=function(){h.stop(),t.stop&&t.stop()},p.active&&t.stop&&p.onInvalidate(function(){t.stop()}),r(l,a,s)}else if(t instanceof v.Tag){var g,m=t.tagName;g=v.isKnownSVGElement(m)&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(t.tagName);var b=t.attrs,y=t.children;if("textarea"===t.tagName&&(b=b||{},b.value=y,y=[]),b){var _=p.autorun(function(e){var t=e.updater;t||(t=e.updater=new f(g));try{var r=v.evaluateAttributes(b,c),o={};if(r){for(var i in r)o[i]=v.toText(r[i],v.TEXTMODE.STRING,c);t.update(o)}}catch(a){n(a)}});e.DomBackend.onRemoveElement(g,function(){_.stop()})}i(y,g,null,c),r(g,a,s)}else if("function"==typeof t.instantiate){var w=e.render(t,c);w.materialized&&w.materialized(),r(w.dom,a,s)}else if(t instanceof v.CharRef)r(document.createTextNode(t.str),a,s);else if(t instanceof v.Comment)r(document.createComment(t.sanitizedValue),a,s);else if(t instanceof v.Raw)for(var k=e.DomBackend.parseHTML(t.value),u=0;u<k.length;u++)r(k[u],a,s);else{if(Package["html-tools"]&&t instanceof Package["html-tools"].HTMLTools.Special)throw new Error("Can't materialize Special tag, it's just an intermediate rep");if(!(t instanceof e.InTemplateScope))throw new Error("Unexpected node in htmljs: "+t);i(t.content,a,s,t.parentPtr)}};e.materialize=i,e.body=e.Component.extend({kind:"body",contentParts:[],render:function(){return this.contentParts},INSTANTIATED:!1,__helperHost:!0}),e.block=function(t){return e.Component.extend({render:t})},e.toHTML=function(e,t){return v.toHTML(e,t)},e.toRawText=function(e,t){return v.toText(e,v.TEXTMODE.STRING,t)}}.call(this),function(){e.If=function(e,r,o){t("If",e,r,o);var i=function(){var t=n(e);return i.stop=function(){t.stop()},t()?r:o||null};return i},e.Unless=function(e,r,o){t("Unless",e,r,o);var i=function(){var t=n(e);return i.stop=function(){t.stop()},t()?o||null:r};return i},e.safeEquals=function(e,t){return e!==t?!1:!e||"number"==typeof e||"boolean"==typeof e||"string"==typeof e},e.With=function(n,r){t("With",n,r);var o=r;return"data"in o&&(o=e.block(function(){return r})),o.data=function(){throw new Error("Can't get data for component kind")},o.init=function(){this.data=e.emboxValue(n,e.safeEquals)},o.materialized=function(){var e=this;p.active&&p.onInvalidate(function(){e.data.stop()})},o.materialized.isWith=!0,o},e.Each=function(n,r,o){return t("Each",n,r,o),e.EachImpl.extend({__sequence:n,__content:r,__elseContent:o})};var t=function(t,n,r,o){if("function"!=typeof n)throw new Error("First argument to "+t+" must be a function");if(!e.isComponent(r))throw new Error("Second argument to "+t+" must be a template or UI.block");if(o&&!e.isComponent(o))throw new Error("Third argument to "+t+" must be a template or UI.block if present")},n=function(t){return e.namedEmboxValue("if/unless",function(){var e=t();return e instanceof Array&&0===e.length?!1:!!e})}}.call(this),function(){e.EachImpl=o.extend({typeName:"Each",render:function(e){var t=this,n=t.__content,r=t.__elseContent;if("STATIC"===e){var o=h.map(m.fetch(t.__sequence()),function(e){return n.extend({data:function(){return e}})});return o.length?o:r}return null},materialized:function(){var t=this,n=t.dom,r=t.__content,o=t.__elseContent,i=0,a=function(r){if(o){if(0>i+r)throw new Error("count should never become negative");0===i&&n.removeAll(),i+=r,0===i&&e.materialize(o,n,null,t)}};this.observeHandle=m.observe(function(){return t.__sequence()},{addedAt:function(o,i,s,c){a(1),o=g._idStringify(o);var u=i,l=new p.Dependency,f=function(){return l.depend(),u};f.$set=function(e){u=e,l.changed()},c&&(c=g._idStringify(c));var d=e.render(r.extend({data:f}),t);n.add(o,d.dom,c)},removedAt:function(e){a(-1),n.remove(g._idStringify(e))},movedTo:function(e,t,r,o,i){n.moveBefore(g._idStringify(e),i&&g._idStringify(i))},changedAt:function(e,t){n.get(g._idStringify(e)).component.data.$set(t)}}),a(0)},destroyed:function(){this.__component__.observeHandle&&this.__component__.observeHandle.stop()}})}.call(this),function(){var t=(function(){return this}(),function(e){return o.extend({kind:"NoOp",render:function(){return d._debug("{{#"+e+"}} is now unnecessary and deprecated."),this.__content}})}),n={constant:t("constant"),isolate:t("isolate")};r(e.Component,{lookup:function(t,r){var o,c,u=this,l=r&&r.template;if(!t)throw new Error("must pass id to lookup");if(/^\./.test(t)){if(!/^(\.)+$/.test(t))throw new Error("id starting with dot must be a series of dots");for(var f=i("data",u),d=1;d<t.length;d++)f=f?i("data",f.parent):null;return f?f.data:null}if(c=a(t,u))var o=c[t];else{if(h.has(n,t))return n[t];if(l&&h.has(Template,t))return Template[t];if(!(o=e._globalHelper(t)))return function(){var e=s(u);if(l&&(!e||!h.has(e,t)))throw new Error("Can't find template, helper or data context key: "+t);if(!e)return e;var n=e[t];return"function"==typeof n?n.apply(e,arguments):n}}return"function"!=typeof o||o._isEmboxedConstant?o:function(){var e=s(u);return o.apply(null===e?{}:e,arguments)}},lookupTemplate:function(e){return this.lookup(e,{template:!0})},get:function(e){void 0===e&&(e=".");var t=this.lookup(e);return"function"==typeof t?t():t},set:function(e,t){var n=i(e,this);if(!n||!n[e])throw new Error("Can't find field: "+e);if("function"!=typeof n[e])throw new Error("Not a settable field: "+e);n[e](t)}})}.call(this),function(){var n={};e.registerHelper=function(e,t){n[e]=t},e._globalHelper=function(e){return n[e]},t={},t.registerHelper=e.registerHelper,e._escape=t._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),t.SafeString=function(e){this.string=e},t.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ui={UI:e,Handlebars:t}}(),function(){{var e,t,n,r,o,i,a,s,c,u,l,f,d=Package.meteor.Meteor,p=(Package["reactive-dict"].ReactiveDict,Package.deps.Deps),h=Package.underscore._,g=Package.ejson.EJSON,m=Package.jquery.$,v=(Package.jquery.jQuery,Package.ui.UI);Package.ui.Handlebars,Package.htmljs.HTML}(function(){o={},o.global=function(){return this}(),o.notifyDeprecated=function(e){var t,n,r,o,i="[:where] ':name' is deprecated. Please use ':instead' instead.";h.isObject(e)?(t=e.name,n=e.instead,r=e.message||i,o=e.where):(r=e,t="",n="",o=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+r.replace(":name",t).replace(":instead",n).replace(":where",o))},o.withDeprecatedNotice=function(e,t,n){return function(){return o.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},o.resolveValue=function(e){var t,n,r=o.global;if(h.isString(e)){t=e.split("."),n=r;for(var i=0;i<t.length;i++)if(n=n[t[i]],!n)return void 0}else n=e;return n},o.hasOwnProperty=function(e,t){var n={}.hasOwnProperty;return n.call(e,t)},o.inherits=function(e,t){function n(){this.constructor=e}if("[object Function]"!==o.typeOf(e))throw new Error("First parameter to Utils.inherits must be a function");if("[object Function]"!==o.typeOf(t))throw new Error("Second parameter to Utils.inherits must be a function");for(var r in t)o.hasOwnProperty(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o.toArray=function(e){return e?"[object Array]"!==o.typeOf(e)?[e]:e:[]},o.typeOf=function(e){return e&&e.typeName?e.typeName:Object.prototype.toString.call(e)},o.extend=function(e,t,n){return 1===arguments.length?t=e:(t=t||{},t.extend=e),o.create(t,{onBeforeExtendPrototype:n})},o.create=function(e,t){var n,r;t=t||{},e=e||{},n=o.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.__super__&&n.__super__.constructor?n.__super__.constructor.apply(this,arguments):void 0},r=e.extend,e.extend&&delete e.extend;var i=function(e,t,n){o.inherits(e,o.resolveValue(t)),n&&h.extend(e.prototype,n)};return r&&i(n,r),t.onBeforeExtendPrototype&&t.onBeforeExtendPrototype.call(n,e),h.extend(n.prototype,e),n},o.assert=function(e,t){if(!e)throw new Error(t)},o.warn=function(e,t){e||console&&console.warn&&console.warn(t)},o.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},o.upperCamelCase=function(e){var t=/_|-|\./;return e?h.map(e.split(t),function(e){return o.capitalize(e)}).join(""):""},o.camelCase=function(e){var t=o.upperCamelCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},o.pick=function(){for(var e,t=h.toArray(arguments),n=0;n<t.length;n++)if(e=t[n],"undefined"!=typeof e&&null!==e)return e;return null},o.StringConverters={none:function(e){return e},upperCamelCase:function(e){return o.upperCamelCase(e)},camelCase:function(e){return o.camelCase(e)}},o.rewriteLegacyHooks=function(e){var t=i.LEGACY_HOOK_TYPES;h.each(t,function(t,n){h.has(e,n)&&(s=!0,e[t]=e[n],o.notifyDeprecated({where:"RouteController",name:n,instead:t}))})}}).call(this),function(){t=function(e,t,n){var r;o.assert(e instanceof i),o.assert(h.isString(t),"Route constructor requires a name as the second parameter"),h.isFunction(n)&&(n={handler:n}),n=this.options=n||{},r=n.path||"/"+t,this.router=e,this.originalPath=r,h.isString(this.originalPath)&&"/"!==this.originalPath.charAt(0)&&(this.originalPath="/"+this.originalPath),this.name=t,this.where=n.where||"client",this.controller=n.controller,this.action=n.action,this.isReactive="undefined"!=typeof n.reactive?n.reactive:!0,o.rewriteLegacyHooks(this.options),this.compile()},t.prototype={constructor:t,compile:function(){var e,t=this,n=t.options;return this.keys=[],t.originalPath instanceof RegExp?t.re=t.originalPath:(e=t.originalPath.replace(/(.)\/$/,"$1").concat(n.strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/#/,"/?#").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,o,i,a){return t.keys.push({name:o,optional:!!a}),n=n||"",""+(a?"":n)+"(?:"+(a?n:"")+(r||"")+(i||r&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),t.re=new RegExp("^"+e+"$",n.sensitive?"":"i")),this},params:function(e){if(!e)return null;var t,n,r,o=[],i=this.exec(e),a=this.keys;if(!i)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var s=1,u=i.length;u>s;++s)n=a[s-1],r="string"==typeof i[s]?decodeURIComponent(i[s]):i[s],n?o[n.name]=void 0!==o[n.name]?o[n.name]:r:o.push(r);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),o.hash=e.split("#")[1],t&&h.each(t.split("&"),function(e){c=e.split("="),o[c[0]]=decodeURIComponent(c[1])}),o},normalizePath:function(e){var t=d.absoluteUrl();e=e.replace(t,"");var n=e.indexOf("?");e=~n?e.slice(0,n):e;var r=e.indexOf("#");return e=~r?e.slice(0,r):e,"/"!==e.charAt(0)&&(e="/"+e),e},test:function(e){return this.re.test(this.normalizePath(e))},exec:function(e){return this.re.exec(this.normalizePath(e))},resolve:function(e,t){var n,r,o,i,a=0,s=this.originalPath,c=!1;if(t=t||{},e=e||[],i=t.query,o=t.hash&&t.hash.toString(),s instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");return s=this.originalPath.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,o,i,a,s,u){if(o=o||"",n=e[a],r="undefined"!=typeof n,u&&!r)n="";else if(!r)return c=!0,void 0;n=h.isFunction(n)?n.call(e):n;var l=h.map(String(n).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+l}).replace(/\*/g,function(){if("undefined"==typeof e[a])throw new Error("You are trying to access a wild card parameter at index "+a+" but the value of params at that index is undefined");var t=String(e[a++]);return h.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),h.isObject(i)&&(i=h.map(h.pairs(i),function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&")),i&&i.length&&(s=s+"?"+i),o&&(o=encodeURI(o.replace("#","")),s=i?s+"#"+o:s+"/#"+o),s=s.replace(/\/+/g,"/"),s=s.replace(/^(.+)\/$/g,"$1"),c?null:s},path:function(e,t){return this.resolve(e,t)},url:function(e,t){var n=this.path(e,t);return"/"===n[0]&&(n=n.slice(1,n.length)),d.absoluteUrl()+n},getController:function(t,r){var i,a,s,c=o.resolveValue,u=(o.toArray,function(e){var t=c(e);if("undefined"==typeof t)throw new Error('controller "'+e+'" is not defined');return t});return r=h.extend({},r,{path:t,params:this.params(t),where:this.where,action:this.action}),this.controller?(i=h.isString(this.controller)?u(this.controller):this.controller,a=new i(this.router,this,r)):(s=this.name,s&&(s=n.convertRouteControllerName(s+"Controller"),i=c(s))?a=new i(this.router,this,r):new e(this.router,this,r))}}}.call(this),function(){e=function(e,n,r){if(!(e instanceof i))throw new Error("RouteController requires a router");if(!(n instanceof t))throw new Error("RouteController requires a route");r=this.options=r||{},this.router=e,this.route=n,this.path=r.path||"",this.params=r.params||[],this.where=r.where||"client",this.action=r.action||this.action,o.rewriteLegacyHooks(this.options),o.rewriteLegacyHooks(this)},e.prototype={constructor:e,lookupProperty:function(e){var t;if(!h.isString(e))throw new Error("key must be a string");if("undefined"!=typeof(t=this.options[e]))return t;if("undefined"!=typeof(t=this[e]))return t;var n;return n=this.route.options,n&&"undefined"!=typeof(t=n[e])?t:(n=this.router.options,n&&"undefined"!=typeof(t=n[e])?t:void 0)},runHooks:function(e,t,r){{var i=this;this.constructor}if(!h.isString(e))throw new Error("hookName must be a string");if(t&&!h.isArray(t))throw new Error("more must be an array of functions");var a,s=!1,c=function(e){var t=e;if(h.isFunction(t))return t;if(h.isString(t)&&h.isFunction(n.hooks[t]))return n.hooks[t];throw new Error("No hook found named: ",e)},u=function(t){var n=[];return t.__super__&&(n=n.concat(u(t.__super__.constructor))),o.hasOwnProperty(t.prototype,e)?n.concat(t.prototype[e]):n},l=o.toArray,f=this.router.getHooks(e,this.route.name);a=this.route.options;var d=l(a&&a[e]);a=this.options;var p,g=l(a&&a[e]),m=u(this.constructor);p=h.has(this,e)?l(this[e]):[];for(var v,b=g.concat(m).concat(p).concat(d).concat(f).concat(t),s=!1,y=function(){s=!0},_=0;v=b[_];_++){var w=c(v);s||this.isStopped||w.call(i,y,_)}return r&&r.call(i,s),s},action:function(){throw new Error("not implemented")},stop:function(e){return this._stopController(e)},_stopController:function(e){var t=this;this.isStopped||(t.isRunning=!1,t.runHooks("onStop"),t.isStopped=!0,e&&e.call(t))},_run:function(){throw new Error("not implemented")}},h.extend(e,{extend:function(e){return o.rewriteLegacyHooks(e),o.extend(this,e,function(){})}})}.call(this),function(){i=function(e){var t=this;this.configure(e),this.routes=[],this._nameConverters={},this.setNameConverter("Template","none"),this.setNameConverter("RouteController","upperCamelCase"),this._globalHooks={},h.each(i.HOOK_TYPES,function(e){t._globalHooks[e]=[],t[e]=function(n,r){return t.addHook(e,n,r)}}),h.each(i.LEGACY_HOOK_TYPES,function(e,n){t[n]=function(){return o.notifyDeprecated({where:"Router",name:n,instead:e}),t[e].apply(this,arguments)}})},i.HOOK_TYPES=["onRun","onData","onBeforeAction","onAfterAction","onStop","waitOn"],i.LEGACY_HOOK_TYPES={load:"onRun",before:"onBeforeAction",after:"onAfterAction",unload:"onStop"},i.prototype={constructor:i,configure:function(e){var t=this;return e=e||{},this.options=this.options||{},h.extend(this.options,e),h.each(i.HOOK_TYPES,function(e){t.options[e]&&(h.each(o.toArray(t.options[e]),function(n){t.addHook(e,n)}),delete t.options[e])}),h.each(i.LEGACY_HOOK_TYPES,function(e,n){t.options[n]&&(h.each(o.toArray(t.options[n]),function(n){t.addHook(e,n)}),delete t.options[n])}),e.templateNameConverter&&this.setNameConverter("Template",e.templateNameConverter),e.routeControllerNameConverter&&this.setNameConverter("RouteController",e.routeControllerNameConverter),this},convertTemplateName:function(e){var t=this._nameConverters.Template;if(!t)throw new Error("No name converter found for Template");return t(e)},convertRouteControllerName:function(e){var t=this._nameConverters.RouteController;if(!t)throw new Error("No name converter found for RouteController");return t(e)},setNameConverter:function(e,t){var n;if(h.isFunction(t)&&(n=t),h.isString(t)&&(n=o.StringConverters[t]),!n)throw new Error("No converter found named: "+t);return this._nameConverters[e]=n,this},addHook:function(e,t,n){return n=n||{},n.only&&(n.only=o.toArray(n.only)),n.except&&(n.except=o.toArray(n.except)),this._globalHooks[e].push({options:n,hook:t}),this},getHooks:function(e,t){var n=[];return h.each(this._globalHooks[e],function(e){var r=e.options;r.except&&h.include(r.except,t)||(!r.only||h.include(r.only,t))&&n.push(e.hook)}),n},map:function(e){return o.assert(h.isFunction(e),"map requires a function as the first parameter"),e.call(this),this},route:function(e,n){var r;return o.assert(h.isString(e),"name is a required parameter"),r=n instanceof t?n:new t(this,e,n),this.routes[e]=r,this.routes.push(r),r},path:function(e,t,n){var r=this.routes[e];return o.warn(r,"You called Router.path for a route named "+e+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(t,n)},url:function(e,t,n){var r=this.routes[e];return o.warn(r,'You called Router.url for a route named "'+e+"\" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(t,n)},match:function(e){return h.find(this.routes,function(t){return t.test(e)})},dispatch:function(e,t,n){var r=this.match(e);if(!r)return this.onRouteNotFound(e,t);if(r.where!==(d.isClient?"client":"server"))return this.onUnhandled(e,t);var o=r.getController(e,t);this.run(o,n)},run:function(e,t){var n=this,r=d.isClient?"client":"server";if(o.assert(e,"run requires a controller"),e.where!=r)return n.onUnhandled(e.path,e.options),void 0;var i=function(){n._currentController=e,t&&t(e),n._currentController._run()};this._currentController?this._currentController._stopController(i):i()},onUnhandled:function(){throw new Error("onUnhandled not implemented")},onRouteNotFound:function(e){throw new Error('Oh no! No route found for path: "'+e+'"')}}}.call(this),function(){function e(e){l(e.originalEvent.state,null,location.pathname+location.search+location.hash)}var t=new p.Dependency,n={path:location.pathname+location.search+location.hash,title:null};r={},r.origin=function(){return location.protocol+"//"+location.host},r.isSameOrigin=function(e){var t=r.origin();return 0===e.indexOf(t)},r.get=function(){return t.depend(),n},r.path=function(){return t.depend(),n.path},r.set=function(e,t){t=t||{};var n=t.state||{};/^http/.test(e)?u=e:("/"!==e.charAt(0)&&(e="/"+e),u=r.origin()+e),r.isSameOrigin(u)?"server"===t.where?window.location=u:t.replaceState?r.replaceState(n,t.title,e,t.skipReactive):r.pushState(n,t.title,e,t.skipReactive):window.location=u},l=function(e,r,o,i){e=h.extend({},e),e.path=o,e.title=r,i||g.equals(n,e)||t.changed(),n=e},r.pushState=function(e,t,n,r){l(e,t,n,r),history.pushState?history.pushState(e,t,n):window.location=n},r.replaceState=function(e,t,r,o){arguments.length<2&&(t=n.title),arguments.length<3&&(r=n.path),l(e,t,r,o),history.replaceState?history.replaceState(e,t,r):window.location=r},r.bindEvents=function(){m(window).on("popstate.iron-router",e)},r.unbindEvents=function(){m(window).off("popstate.iron-router")},r.start=function(){this.isStarted||(r.bindEvents(),this.isStarted=!0,history.replaceState&&history.replaceState({initial:!0},null,location.pathname+location.search+location.hash))},r.stop=function(){r.unbindEvents(),this.isStarted=!1}}.call(this),function(){if(i=o.extend(i,{constructor:function(){var e=this;i.__super__.constructor.apply(this,arguments),e.options.linkSelector=e.options.linkSelector||"a[href]",this.isRendered=!1,this._currentController=null,this._controllerDep=new p.Dependency,this._hasJustReloaded=!1,d.startup(function(){d.defer(function(){e.options.autoRender!==!1&&e.autoRender(),e.options.autoStart!==!1&&e.start()})}),h.each(["layout","setRegion","clearRegion","getData","setData"],function(t){e[t]=function(){if(!e._ui)throw new Error("No uiManager is configured on the Router");return e._ui[t].apply(e._ui,arguments)}})},configure:function(e){if(e=e||{},i.__super__.configure.apply(this,arguments),e.uiManager&&this.isRendered)throw new Error("Can't set uiManager after Router has been rendered");return e.uiManager&&(this._ui=e.uiManager),this},current:function(e){return e&&e.reactive===!1?this._currentController:(this._controllerDep.depend(),this._currentController)},clearUnusedRegions:function(e){if(!this._ui)throw new Error("No ui manager has been set");var t=this._ui,n=t.getRegionKeys();e=h.filter(e,function(e){return!!e});var r=h.difference(n,e);h.each(r,function(e){t.clearRegion(e)})},run:function(e){i.__super__.run.apply(this,arguments),e==this._currentController&&this._controllerDep.changed()},go:function(e,t,n){var r,i,a,s,c=this,u=/^\/|http/;if(s=function(){n=n||{},c._location.set(i,{replaceState:n.replaceState,state:n.state,skipReactive:!0})},u.test(e)){if(i=e,n=t,i===c._location.path())return c.options.debug&&console.log("You've navigated to the same path that you are currently at. Doing nothing"),void 0;c.dispatch(i,n,s)}else r=c.routes[e],o.assert(r,"No route found named "+e),i=r.path(t,n),a=r.getController(i,n),c.run(a,s)},render:function(){if(!this._ui)throw new Error("No uiManager configured on Router");return this.isRendered=!0,this._ui.render()},autoRender:function(){if(!this._ui)throw new Error("No uiManager configured on Router");this._ui.insert(document.body,v.body,{template:this.options.layoutTemplate})},bindEvents:function(){m(document).on("click.ironRouter",this.options.linkSelector,h.bind(this.onClick,this))},unbindEvents:function(){m(document).off("click.ironRouter",this.options.linkSelector)},start:function(){var e=this;e.isStarted||(e.isStarted=!0,e._location=e.options.location||r,e._location.start(),e.bindEvents(),p.autorun(function(t){e._locationComputation=t,e.dispatch(e._location.path(),{state:history.state})}))},stop:function(){this.isStarted=!1,this.unbindEvents(),this._location.stop(),this._locationComputation&&this._locationComputation.stop()},onUnhandled:function(e){this.stop(),window.location=e},onRouteNotFound:function(n,r){if(this._location.path()!==n)this.stop(),window.location=n;else{if(!this.options.notFoundTemplate)throw new Error('Oh no! No route found for path: "'+n+'"');var o=new t(this,"__notfound__",h.extend(r||{},{path:n}));this.run(new e(this,o,{layoutTemplate:this.options.layoutTemplate,template:this.options.notFoundTemplate}))}},onClick:function(e){var t=e.currentTarget,n=h.isUndefined(e.which)?e.button:e.which,o=t.href,i=t.pathname+t.search+t.hash;e.isDefaultPrevented()||1===n&&(e.metaKey||e.ctrlKey||e.shiftKey||t.target||r.isSameOrigin(o)&&(e.preventDefault(),this.go(i)))}}),n=new i,d._reload){d._reload.onMigrate("iron-router",function(){return[!0,!0]});var a=d._reload.migrationData("iron-router");n._hasJustReloaded=a}}.call(this),function(){a=function(){this._dep=new p.Dependency,this.clear()},a.prototype={get:function(e){return this._list[e]},clear:function(){this._list=[]},append:function(e){var t=this;e=o.toArray(e),h.each(e,function(e){t.push(e)})},push:function(e){var t=this;if(e){var n=this._list.push(e);return p.active&&p.onInvalidate(function(){t.pull(e)}),n}},pull:function(e){this._list=h.reject(this._list,function(t){return t===e})},ready:function(){return h.all(this._list,function(e){return e.ready()})}}}.call(this),function(){n.hooks={dataNotFound:function(e){var t,n=this.data();this.ready()&&(null===n||"undefined"==typeof n)&&(t=this.lookupProperty("notFoundTemplate"),t&&(this.render(t),this.renderRegions(),e()))},loading:function(e){var t;this.ready()||(t=this.lookupProperty("loadingTemplate"),t&&(this.render(t),this.renderRegions(),e()))}}}.call(this),function(){var t=!1,r=function(e){t&&console.log("%c<RouteController> "+e,"color: purple; font-size: 1.3em; font-weight: bold;")};e=o.extend(e,{constructor:function(){var t=this;e.__super__.constructor.apply(this,arguments),this._dataValue=this.lookupProperty("data"),this.data=function(){var e;return e=h.isFunction(t._dataValue)?t._dataValue.call(t):t._dataValue?t._dataValue:null,r("this.data()"),e},this._waitList=new a,h.each(["layout","setRegion","clearRegion"],function(e){t[e]=function(){if(!t.router)throw new Error("No router defined on RouteController");return t.router[e].apply(t.router,arguments)}})},setLayout:function(){return this.layout.apply(this,arguments)},ready:function(){return this._waitList.ready()},redirect:function(){return n.go.apply(n,arguments)
},subscribe:function(){var e=this,t=function(){return{wait:function(){e._waitList.push(this),f=!0}}}(),n=d.subscribe.apply(this,arguments);return h.extend(n,t)},lookupLayoutTemplate:function(){return this.lookupProperty("layoutTemplate")},lookupTemplate:function(){return this.lookupProperty("template")||n.convertTemplateName(this.route.name)},lookupRegionTemplates:function(){var e;return(e=this.lookupProperty("regionTemplates"))?e:(e=this.lookupProperty("yieldTemplates"))?e:{}},lookupWaitOn:function(){var e=o.toArray,t=e(this.router.getHooks("waitOn",this.route.name)),n=e(this.router.options.waitOn),r=e(this.route.options.waitOn),i=e(this.options.waitOn),a=e(this.waitOn);return t.concat(n).concat(r).concat(i).concat(a)},render:function(e,t){var n,e,r=this,o=function(e){r._renderedRegions&&(e=e||"main",r._renderedRegions.push(e))};0==arguments.length?(this.setRegion(this.lookupTemplate()),o(),this.renderRegions()):(t=t||{},n=t.to,this.setRegion(n,e),o(n))},renderRegions:function(){var e=this,t=this.lookupRegionTemplates();h.each(t,function(t,n){e.render(n,t)})},wait:function(e){e=h.isFunction(e)?e.call(this):e,this._waitList.append(e)},action:function(){this.render()},_stopController:function(t){var n=this;if(!this.isStopped){var r=function(){e.__super__._stopController.call(n,t)};this._computation?(this._computation.stop(),this._computation.onInvalidate(r)):r()}},_run:function(){var e=this;if(e.isRunning)throw new Error("You called _run without first calling stop");e.isRunning=!0,e.isStopped=!1;var t=function(t,n){return function(){var r=e.stop;e.stop=function(){return"undefined"!=typeof console?(console.warn("You called this.stop() inside a hook or your action function but you should use pause() now instead which is the first parameter to the hook function."),void 0):void 0};try{return t.call(n||this)}finally{e.stop=r}}};e._computation=p.autorun(t(function(){e._renderedRegions=[],e._waitList.clear(),e.layout(e.lookupLayoutTemplate()),p.autorun(t(function(){e.router._hasJustReloaded||e.runHooks("onRun"),e.router._hasJustReloaded=!1})),p.autorun(t(function(){var t=e.lookupWaitOn(),n=h.flatten(h.map(t,function(t){return h.isFunction(t)?t.call(e):t}));r("waitOn"),e._waitList.append(n)})),p.autorun(t(function(){e.ready()?(e.router.setData(e.data()),e.runHooks("onData")):e.router.setData(null)}));var n=h.isFunction(e.action)?e.action:e[e.action];o.assert(n,"You don't have an action named \""+e.action+'" defined on your RouteController'),p.autorun(t(function(){r("Call action"),e.runHooks("onBeforeAction",[],function(t){t||e.isStopped||(n.call(e),e.isStopped||e.runHooks("onAfterAction",[function(){this.router&&this.router.clearUnusedRegions(this._renderedRegions)}]))})}))}))}})}.call(this),function(){n.helpers={};var e=function(e){return e===window?{}:e},t=function(t,n){h.isObject(t)&&(n=t,t=n.route);var r=n.hash||{},o=r.params||h.omit(r,"hash","query"),i=r.hash,a=r.query;return h.isEmpty(r)&&(o=e(this)),{routeName:t,params:o,query:a,hash:i}};h.extend(n.helpers,{pathFor:function(e,r){var o=t.call(this,e,r);return n.path(o.routeName,o.params,{query:o.query,hash:o.hash})},urlFor:function(e,r){var o=t.call(this,e,r);return n.url(o.routeName,o.params,{query:o.query,hash:o.hash})}}),h.each(n.helpers,function(e,t){v.registerHelper(t,e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron-router"]={RouteController:e,Route:t,Router:n,IronLocation:r,Utils:o,IronRouter:i,WaitList:a}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.less={}}(),function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){if(window.localStorage){var n,r="_localstorage_test_"+t.id();try{window.localStorage.setItem(r,r),n=window.localStorage.getItem(r),window.localStorage.removeItem(r)}catch(o){}r===n&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}})}e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}(),function(){var e,t,n,r,o,i,a,s,c,u,l,f=Package.meteor.Meteor,d=Package.underscore._,p=Package.deps.Deps,h=Package.random.Random,g=Package.livedata.DDP;(function(){e={},e._options={};var o=90,i=3600;t=6e5,n=1e4,e.config=function(t){if(f.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||f._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),d.has(t,"oauthSecretKey")){if(f.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),t=d.omit(t,"oauthSecretKey")}var n=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];d.each(d.keys(t),function(e){if(!d.contains(n,e))throw new Error("Accounts.config: Invalid key: "+e)}),d.each(n,function(n){if(n in t){if(n in e._options)throw new Error("Can't set `"+n+"` more than once");e._options[n]=t[n]}}),f.isServer&&maybeStopExpireTokensInterval()},f.isClient&&(e.connection=f.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(e.connection=g.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),f.users=new f.Collection("users",{_preventAutopublish:!0,connection:f.isClient?e.connection:f.connection}),f.startup(function(){var t=Package["service-configuration"].ServiceConfiguration;e.loginServiceConfiguration=t.configurations,e.ConfigError=t.ConfigError}),e.LoginCancelledError=function(e){this.message=e},e.LoginCancelledError.numericError=145546287,e.LoginCancelledError.prototype=new Error,e.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",r=function(){return 24*(e._options.loginExpirationInDays||o)*60*60*1e3},e._tokenExpiration=function(e){return new Date(new Date(e).getTime()+r())},e._tokenExpiresSoon=function(e){var t=.1*r(),n=1e3*i;return t>n&&(t=n),new Date>new Date(e)-t}}).call(this),function(){o=!0;var t;t=window.location.hash.match(/^\#\/reset-password\/(.*)$/),t&&(o=!1,e._resetPasswordToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/verify-email\/(.*)$/),t&&(o=!1,e._verifyEmailToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/enroll-account\/(.*)$/),t&&(o=!1,e._enrollAccountToken=t[1],window.location.hash="")}.call(this),function(){f.userId=function(){return e.connection.userId()};var t=!1,n=new p.Dependency;e._setLoggingIn=function(e){t!==e&&(t=e,n.changed())},f.loggingIn=function(){return n.depend(),t},f.user=function(){var e=f.userId();return e?f.users.findOne(e):null},e.callLoginMethod=function(t){t=d.extend({methodName:"login",methodArguments:[],_suppressLoggingIn:!1},t),d.each(["validateResult","userCallback"],function(e){t[e]||(t[e]=function(){})});var n=d.once(t.userCallback),r=!1,o=function(t,o){e.connection.onReconnect=!t&&o&&o.token?function(){r=!0;var t=u();t&&(o={token:t,tokenExpires:l()}),o.tokenExpires||(o.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(o.tokenExpires)?i():e.callLoginMethod({methodArguments:[{resume:o.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=u();e&&t&&t===o.token&&i(),n(e)}})}:null},s=function(o,i){if(!r){if(e._setLoggingIn(!1),o||!i)return o=o||new Error("No result from call to "+t.methodName),n(o),void 0;try{t.validateResult(i)}catch(s){return n(s),void 0}a(i.id,i.token,i.tokenExpires),n()}};t._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(t.methodName,t.methodArguments,{wait:!0,onResultReceived:o},s)},i=function(){c(),e.connection.setUserId(null),e.connection.onReconnect=null},a=function(t,n,r){s(t,n,r),e.connection.setUserId(t)},f.logout=function(t){e.connection.apply("logout",[],{wait:!0},function(e){e?t&&t(e):(i(),t&&t())})},f.logoutOtherClients=function(t){e.connection.apply("getNewToken",[],{wait:!0},function(e,t){e||s(f.userId(),t.token,t.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){t&&t(e)})};var r=e.connection.subscribe("meteor.loginServiceConfiguration");e.loginServicesConfigured=function(){return r.ready()},Package.ui&&(Package.ui.UI.registerHelper("currentUser",function(){return f.user()}),Package.ui.UI.registerHelper("loggingIn",function(){return f.loggingIn()}))}.call(this),function(){var t;f.loginWithToken=function(t,n){e.callLoginMethod({methodArguments:[{resume:t}],userCallback:n})},e._enableAutoLogin=function(){o=!0,v()};var n="Meteor.loginToken",r="Meteor.loginTokenExpires",a="Meteor.userId";e._isolateLoginTokenForTest=function(){n+=h.id(),a+=h.id()},s=function(o,i,s){f._localStorage.setItem(a,o),f._localStorage.setItem(n,i),s||(s=e._tokenExpiration(new Date)),f._localStorage.setItem(r,s),t=i},c=function(){f._localStorage.removeItem(a),f._localStorage.removeItem(n),f._localStorage.removeItem(r),t=null},u=e._storedLoginToken=function(){return f._localStorage.getItem(n)},l=function(){return f._localStorage.getItem(r)};var d=function(){return f._localStorage.getItem(a)},p=function(){var t=f._localStorage.getItem(r);t&&e._tokenExpiresSoon(new Date(t))&&c()};if(o){p();var g=u();if(g){var m=d();m&&e.connection.setUserId(m),f.loginWithToken(g,function(e){e&&(f._debug("Error logging in with token: "+e),i())})}}t=g;var v=function(){if(o){var e=u();t!=e&&(e?f.loginWithToken(e,function(e){e&&i()}):f.logout()),t=e}};setInterval(v,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package["accounts-base"].Accounts;(function(){"undefined"==typeof e&&(e={}),e.configurations=new t.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:t.isClient?n.connection:t.connection}),e.ConfigError=function(e){this.message=t.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},e.ConfigError.prototype=new Error,e.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.ui.UI);Package.ui.Handlebars,Package.htmljs.HTML}(function(){e={},e.__define__=function(n,r){if(e.hasOwnProperty(n))throw new Error("There are multiple templates named '"+n+"'. Each template needs a unique name.");e[n]=t.Component.extend({kind:"Template_"+n,render:r,__helperHost:!0})}}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.underscore._,Package["reactive-dict"].ReactiveDict);Package.ejson.EJSON}(function(){var n={};if(Package.reload){var r=Package.reload.Reload._migrationData("session");r&&r.keys&&(n=r.keys)}e=new t(n),Package.reload&&Package.reload.Reload._onMigrate("session",function(){return[!0,{keys:e.keys}]})}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:e}}(),function(){var e,t,n,r=(Package.meteor.Meteor,Package.random.Random),o=(Package.check.check,Package.check.Match,Package.underscore._);(function(){t=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;c=a*c+((16383&l)<<14)+n[r]+o,o=(c>>28)+(l>>14)+s*u,n[r++]=268435455&c}return o}function r(e){return Zt.charAt(e)}function o(e,t){var n=en[e.charCodeAt(t)];return null==n?-1:n}function i(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function a(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function s(e){var n=t();return n.fromInt(e),n}function c(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return this.fromRadix(t,n),void 0;r=2}this.t=0,this.s=0;for(var i=t.length,a=!1,s=0;--i>=0;){var c=8==r?255&t[i]:o(t,i);0>c?"-"==t.charAt(i)&&(a=!0):(a=!1,0==s?this[this.t++]=c:s+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-s)-1)<<s,this[this.t++]=c>>this.DB-s):this[this.t-1]|=c<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&e.ZERO.subTo(this,this)}function u(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function l(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,o=(1<<t)-1,i=!1,a="",s=this.t,c=this.DB-s*this.DB%t;if(s-->0)for(c<this.DB&&(n=this[s]>>c)>0&&(i=!0,a=r(n));s>=0;)t>c?(n=(this[s]&(1<<c)-1)<<t-c,n|=this[--s]>>(c+=this.DB-t)):(n=this[s]>>(c-=t)&o,0>=c&&(c+=this.DB,--s)),n>0&&(i=!0),i&&(a+=r(n));return i?a:"0"}function f(){var n=t();return e.ZERO.subTo(this,n),n}function d(){return this.s<0?this.negate():this}function p(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function g(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)}function m(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function v(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function b(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function y(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return t.t=0,void 0;var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}function _(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);o>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function w(t,n){var r=this.abs(),o=t.abs(),i=r.t;for(n.t=i+o.t;--i>=0;)n[i]=0;for(i=0;i<o.t;++i)n[i+r.t]=r.am(0,o[i],n,i,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function k(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function S(n,r,o){var i=n.abs();if(!(i.t<=0)){var a=this.abs();if(a.t<i.t)return null!=r&&r.fromInt(0),null!=o&&this.copyTo(o),void 0;null==o&&(o=t());var s=t(),c=this.s,u=n.s,l=this.DB-h(i[i.t-1]);l>0?(i.lShiftTo(l,s),a.lShiftTo(l,o)):(i.copyTo(s),a.copyTo(o));var f=s.t,d=s[f-1];if(0!=d){var p=d*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),g=this.FV/p,m=(1<<this.F1)/p,v=1<<this.F2,b=o.t,y=b-f,_=null==r?t():r;for(s.dlShiftTo(y,_),o.compareTo(_)>=0&&(o[o.t++]=1,o.subTo(_,o)),e.ONE.dlShiftTo(f,_),_.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--y>=0;){var w=o[--b]==d?this.DM:Math.floor(o[b]*g+(o[b-1]+v)*m);if((o[b]+=s.am(0,w,o,y,0,f))<w)for(s.dlShiftTo(y,_),o.subTo(_,o);o[b]<--w;)o.subTo(_,o)}null!=r&&(o.drShiftTo(f,r),c!=u&&e.ZERO.subTo(r,r)),o.t=f,o.clamp(),l>0&&o.rShiftTo(l,o),0>c&&e.ZERO.subTo(o,o)}}}function T(n){var r=t();return this.abs().divRemTo(n,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&n.subTo(r,r),r}function C(e){this.m=e}function x(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function E(e){return e}function I(e){e.divRemTo(this.m,null,e)}function P(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function A(e,t){e.squareTo(t),this.reduce(t)}function M(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function D(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function L(n){var r=t();return n.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),n.s<0&&r.compareTo(e.ZERO)>0&&this.m.subTo(r,r),r}function O(e){var n=t();return e.copyTo(n),this.reduce(n),n}function N(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function R(e,t){e.squareTo(t),this.reduce(t)}function $(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function j(){return 0==(this.t>0?1&this[0]:this.s)}function H(n,r){if(n>4294967295||1>n)return e.ONE;var o=t(),i=t(),a=r.convert(this),s=h(n)-1;for(a.copyTo(o);--s>=0;)if(r.sqrTo(o,i),(n&1<<s)>0)r.mulTo(i,a,o);else{var c=o;o=i,i=c}return r.revert(o)}function B(e,t){var n;return n=256>e||t.isEven()?new C(t):new D(t),this.exp(e,n)}function F(){var e=t();return this.copyTo(e),e}function U(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function q(){return 0==this.t?this.s:this[0]<<24>>24}function z(){return 0==this.t?this.s:this[0]<<16>>16}function V(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function W(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Y(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var n=this.chunkSize(e),r=Math.pow(e,n),o=s(r),i=t(),a=t(),c="";for(this.divRemTo(o,i,a);i.signum()>0;)c=(r+a.intValue()).toString(e).substr(1)+c,i.divRemTo(o,i,a);return a.intValue().toString(e)+c}function G(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),a=!1,s=0,c=0,u=0;u<t.length;++u){var l=o(t,u);0>l?"-"==t.charAt(u)&&0==this.signum()&&(a=!0):(c=n*c+l,++s>=r&&(this.dMultiply(i),this.dAddOffset(c,0),s=0,c=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(c,0)),a&&e.ZERO.subTo(this,this)}function J(t,n,r){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),rt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=new Array,i=7&t;o.length=(t>>3)+1,n.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}}function X(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-->0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);e>=0;)8>r?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,0>=r&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t}function Q(e){return 0==this.compareTo(e)}function K(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function et(e,t,n){var r,o,i=Math.min(e.t,this.t);for(r=0;i>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=i;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=i;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function tt(e,t){return e&t}function nt(e){var n=t();return this.bitwiseTo(e,tt,n),n}function rt(e,t){return e|t}function ot(e){var n=t();return this.bitwiseTo(e,rt,n),n}function it(e,t){return e^t}function at(e){var n=t();return this.bitwiseTo(e,it,n),n}function st(e,t){return e&~t}function ct(e){var n=t();return this.bitwiseTo(e,st,n),n}function ut(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function lt(e){var n=t();return 0>e?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function ft(e){var n=t();return 0>e?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function dt(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function pt(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+dt(this[e]);return this.s<0?this.t*this.DB:-1}function ht(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function gt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=ht(this[n]^t);return e}function mt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function vt(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r}function bt(e){return this.changeBit(e,rt)}function yt(e){return this.changeBit(e,st)}function _t(e){return this.changeBit(e,it)}function wt(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);o>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function kt(e){var n=t();return this.addTo(e,n),n}function St(e){var n=t();return this.subTo(e,n),n}function Tt(e){var n=t();return this.multiplyTo(e,n),n}function Ct(e){var n=t();return this.divRemTo(e,n,null),n}function xt(e){var n=t();return this.divRemTo(e,null,n),n}function Et(e){var n=t(),r=t();return this.divRemTo(e,n,r),new Array(n,r)}function It(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Pt(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function At(){}function Mt(e){return e}function Dt(e,t,n){e.multiplyTo(t,n)}function Lt(e,t){e.squareTo(t)}function Ot(e){return this.exp(e,new At)}function Nt(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var o;for(o=n.t-this.t;o>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(o=Math.min(e.t,t);o>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Rt(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function $t(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function jt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Ht(e){return e}function Bt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ft(e,t){e.squareTo(t),this.reduce(t)}function Ut(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function qt(e,n){var r,o,i=e.bitLength(),a=s(1);if(0>=i)return a;r=18>i?1:48>i?3:144>i?4:768>i?5:6,o=8>i?new C(n):n.isEven()?new $t(n):new D(n);var c=new Array,u=3,l=r-1,f=(1<<r)-1;if(c[1]=o.convert(this),r>1){var d=t();for(o.sqrTo(c[1],d);f>=u;)c[u]=t(),o.mulTo(d,c[u-2],c[u]),u+=2}var p,g,m=e.t-1,v=!0,b=t();for(i=h(e[m])-1;m>=0;){for(i>=l?p=e[m]>>i-l&f:(p=(e[m]&(1<<i+1)-1)<<l-i,m>0&&(p|=e[m-1]>>this.DB+i-l)),u=r;0==(1&p);)p>>=1,--u;if((i-=u)<0&&(i+=this.DB,--m),v)c[p].copyTo(a),v=!1;else{for(;u>1;)o.sqrTo(a,b),o.sqrTo(b,a),u-=2;u>0?o.sqrTo(a,b):(g=a,a=b,b=g),o.mulTo(b,c[p],a)}for(;m>=0&&0==(e[m]&1<<i);)o.sqrTo(a,b),g=a,a=b,b=g,--i<0&&(i=this.DB-1,--m)}return o.revert(a)}function zt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),i=n.getLowestSetBit();if(0>i)return t;for(i>o&&(i=o),i>0&&(t.rShiftTo(i,t),n.rShiftTo(i,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return i>0&&n.lShiftTo(i,n),n}function Vt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function Wt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),o=this.clone(),i=s(1),a=s(0),c=s(0),u=s(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;o.isEven();)o.rShiftTo(1,o),n?(c.isEven()&&u.isEven()||(c.addTo(this,c),u.subTo(t,u)),c.rShiftTo(1,c)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(o)>=0?(r.subTo(o,r),n&&i.subTo(c,i),a.subTo(u,a)):(o.subTo(r,o),n&&c.subTo(i,c),u.subTo(a,u))}return 0!=o.compareTo(e.ONE)?e.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function Yt(e){var t,n=this.abs();if(1==n.t&&n[0]<=tn[tn.length-1]){for(t=0;t<tn.length;++t)if(n[0]==tn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<tn.length;){for(var r=tn[t],o=t+1;o<tn.length&&nn>r;)r*=tn[o++];for(r=n.modInt(r);o>t;)if(r%tn[t++]==0)return!1}return n.millerRabin(e)}function Gt(n){var r=this.subtract(e.ONE),o=r.getLowestSetBit();if(0>=o)return!1;var i=r.shiftRight(o);n=n+1>>1,n>tn.length&&(n=tn.length);for(var a=t(),s=0;n>s;++s){a.fromInt(tn[s]);var c=a.modPow(i,this);if(0!=c.compareTo(e.ONE)&&0!=c.compareTo(r)){for(var u=1;u++<o&&0!=c.compareTo(r);)if(c=c.modPowInt(2,this),0==c.compareTo(e.ONE))return!1;if(0!=c.compareTo(r))return!1}}return!0}var Jt;e.prototype.am=n,Jt=28,e.prototype.DB=Jt,e.prototype.DM=(1<<Jt)-1,e.prototype.DV=1<<Jt;var Xt=52;e.prototype.FV=Math.pow(2,Xt),e.prototype.F1=Xt-Jt,e.prototype.F2=2*Jt-Xt;var Qt,Kt,Zt="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Qt="0".charCodeAt(0),Kt=0;9>=Kt;++Kt)en[Qt++]=Kt;for(Qt="a".charCodeAt(0),Kt=10;36>Kt;++Kt)en[Qt++]=Kt;for(Qt="A".charCodeAt(0),Kt=10;36>Kt;++Kt)en[Qt++]=Kt;C.prototype.convert=x,C.prototype.revert=E,C.prototype.reduce=I,C.prototype.mulTo=P,C.prototype.sqrTo=A,D.prototype.convert=L,D.prototype.revert=O,D.prototype.reduce=N,D.prototype.mulTo=$,D.prototype.sqrTo=R,e.prototype.copyTo=i,e.prototype.fromInt=a,e.prototype.fromString=c,e.prototype.clamp=u,e.prototype.dlShiftTo=m,e.prototype.drShiftTo=v,e.prototype.lShiftTo=b,e.prototype.rShiftTo=y,e.prototype.subTo=_,e.prototype.multiplyTo=w,e.prototype.squareTo=k,e.prototype.divRemTo=S,e.prototype.invDigit=M,e.prototype.isEven=j,e.prototype.exp=H,e.prototype.toString=l,e.prototype.negate=f,e.prototype.abs=d,e.prototype.compareTo=p,e.prototype.bitLength=g,e.prototype.mod=T,e.prototype.modPowInt=B,e.ZERO=s(0),e.ONE=s(1),At.prototype.convert=Mt,At.prototype.revert=Mt,At.prototype.mulTo=Dt,At.prototype.sqrTo=Lt,$t.prototype.convert=jt,$t.prototype.revert=Ht,$t.prototype.reduce=Bt,$t.prototype.mulTo=Ut,$t.prototype.sqrTo=Ft;var tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nn=(1<<26)/tn[tn.length-1];return e.prototype.chunkSize=V,e.prototype.toRadix=Y,e.prototype.fromRadix=G,e.prototype.fromNumber=J,e.prototype.bitwiseTo=et,e.prototype.changeBit=vt,e.prototype.addTo=wt,e.prototype.dMultiply=It,e.prototype.dAddOffset=Pt,e.prototype.multiplyLowerTo=Nt,e.prototype.multiplyUpperTo=Rt,e.prototype.modInt=Vt,e.prototype.millerRabin=Gt,e.prototype.clone=F,e.prototype.intValue=U,e.prototype.byteValue=q,e.prototype.shortValue=z,e.prototype.signum=W,e.prototype.toByteArray=X,e.prototype.equals=Q,e.prototype.min=K,e.prototype.max=Z,e.prototype.and=nt,e.prototype.or=ot,e.prototype.xor=at,e.prototype.andNot=ct,e.prototype.not=ut,e.prototype.shiftLeft=lt,e.prototype.shiftRight=ft,e.prototype.getLowestSetBit=pt,e.prototype.bitCount=gt,e.prototype.testBit=mt,e.prototype.setBit=bt,e.prototype.clearBit=yt,e.prototype.flipBit=_t,e.prototype.add=kt,e.prototype.subtract=St,e.prototype.multiply=Tt,e.prototype.divide=Ct,e.prototype.remainder=xt,e.prototype.divideAndRemainder=Et,e.prototype.modPow=qt,e.prototype.modInverse=Wt,e.prototype.pow=Ot,e.prototype.gcd=zt,e.prototype.isProbablePrime=Yt,e}()}).call(this),function(){n=function(){function e(e){function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function o(e,t,n){return e&t^~e&n}function i(e,t,n){return e&t^e&n^t&n}function a(e){return n(e,2)^n(e,13)^n(e,22)}function s(e){return n(e,6)^n(e,11)^n(e,25)}function c(e){return n(e,7)^n(e,18)^r(e,3)}function u(e){return n(e,17)^n(e,19)^r(e,10)}function l(e,n){var r,l,f,d,p,h,g,m,v,b,y,_,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),S=new Array(64);e[n>>5]|=128<<24-n%32,e[(n+64>>9<<4)+15]=n;for(var v=0;v<e.length;v+=16){r=k[0],l=k[1],f=k[2],d=k[3],p=k[4],h=k[5],g=k[6],m=k[7];for(var b=0;64>b;b++)S[b]=16>b?e[b+v]:t(t(t(u(S[b-2]),S[b-7]),c(S[b-15])),S[b-16]),y=t(t(t(t(m,s(p)),o(p,h,g)),w[b]),S[b]),_=t(a(r),i(r,l,f)),m=g,g=h,h=p,p=t(d,y),d=f,f=l,l=r,r=t(y,_);k[0]=t(r,k[0]),k[1]=t(l,k[1]),k[2]=t(f,k[2]),k[3]=t(d,k[3]),k[4]=t(p,k[4]),k[5]=t(h,k[5]),k[6]=t(g,k[6]),k[7]=t(m,k[7])}return k}function f(e){for(var t=Array(),n=(1<<h)-1,r=0;r<e.length*h;r+=h)t[r>>5]|=(e.charCodeAt(r/h)&n)<<24-r%32;return t}function d(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function p(e){for(var t=g?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}var h=8,g=0;return e=d(e),p(l(f(e),e.length*h))}return e}()}.call(this),function(){e={},e.generateVerifier=function(e,n){var o=a(n),i=n&&n.identity||r.secret(),s=n&&n.salt||r.secret(),c=o.hash(s+o.hash(i+":"+e)),u=new t(c,16),l=o.g.modPow(u,o.N);return{identity:i,salt:s,verifier:l.toString(16)}},e.matchVerifier={identity:String,salt:String,verifier:String},e.Client=function(e,n){var r=this;r.params=a(n),r.password=e;var o,i,c=r.params.N,u=r.params.g;if(n&&n.a){if("string"==typeof n.a)o=new t(n.a,16);else{if(!(n.a instanceof t))throw new Error("Invalid parameter: a");o=n.a}if(i=u.modPow(o,c),0===i.mod(c))throw new Error("Invalid parameter: a: A mod N == 0.")
}else for(;!i||0===i.mod(c);)o=s(),i=u.modPow(o,c);r.a=o,r.A=i,r.Astr=i.toString(16)},e.Client.prototype.startExchange=function(){var e=this;return{A:e.Astr}},e.Client.prototype.respondToChallenge=function(e){var n=this,r=n.params.N,o=n.params.g,i=n.params.k,a=n.params.hash;if(n.identity=e.identity,n.salt=e.salt,n.Bstr=e.B,n.B=new t(n.Bstr,16),0===n.B.mod(r))throw new Error("Server sent invalid key: B mod N == 0.");var s=new t(a(n.Astr+n.Bstr),16),c=new t(a(n.salt+a(n.identity+":"+n.password)),16),u=i.multiply(o.modPow(c,r)),l=n.a.add(s.multiply(c)),f=n.B.subtract(u).modPow(l,r),d=a(n.Astr+n.Bstr+f.toString(16)),p=a(n.Astr+d+f.toString(16));return n.S=f,n.HAMK=p,{M:d}},e.Client.prototype.verifyConfirmation=function(e){var t=this;return t.HAMK&&e.HAMK===t.HAMK},e.Server=function(e,n){var r=this;r.params=a(n),r.verifier=e;var o,i,c=r.params.N,u=r.params.g,l=r.params.k,f=new t(r.verifier.verifier,16);if(n&&n.b){if("string"==typeof n.b)o=new t(n.b,16);else{if(!(n.b instanceof t))throw new Error("Invalid parameter: b");o=n.b}if(i=l.multiply(f).add(u.modPow(o,c)).mod(c),0===i.mod(c))throw new Error("Invalid parameter: b: B mod N == 0.")}else for(;!i||0===i.mod(c);)o=s(),i=l.multiply(f).add(u.modPow(o,c)).mod(c);r.b=o,r.B=i,r.Bstr=i.toString(16)},e.Server.prototype.issueChallenge=function(e){var n=this;if(n.Astr=e.A,n.A=new t(n.Astr,16),0===n.A.mod(n.params.N))throw new Error("Client sent invalid key: A mod N == 0.");var r=n.params.N,o=n.params.hash,i=new t(o(n.Astr+n.Bstr),16),a=new t(n.verifier.verifier,16),s=n.A.multiply(a.modPow(i,r));return n.S=s.modPow(n.b,r),n.M=o(n.Astr+n.Bstr+n.S.toString(16)),n.HAMK=o(n.Astr+n.M+n.S.toString(16)),{identity:n.verifier.identity,salt:n.verifier.salt,B:n.Bstr}},e.Server.prototype.verifyResponse=function(e){var t=this;return e.M!==t.M?null:{HAMK:t.HAMK}};var i={hash:function(e){return n(e).toLowerCase()},N:new t("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new t("2")};i.k=new t(i.hash(i.N.toString(16)+i.g.toString(16)),16);var a=function(e){if(!e)return i;var n=o.extend({},i);return o.each(["N","g","k"],function(r){if(e[r])if("string"==typeof e[r])n[r]=new t(e[r],16);else{if(!(e[r]instanceof t))throw new Error("Invalid parameter: "+r);n[r]=e[r]}}),e.hash&&(n.hash=function(t){return e.hash(t).toLowerCase()}),!e.k&&(e.N||e.g||e.hash)&&(n.k=n.hash(n.N.toString(16)+n.g.toString(16))),n},s=function(){return new t(r.hexString(36),16)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=Package.srp.SRP,r=Package.underscore._;Package.livedata.DDP}(function(){e.loginWithPassword=function(e,r,o){var i=new n.Client(r),a=i.startExchange();"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),a.user=e,t._setLoggingIn(!0),t.connection.apply("beginPasswordExchange",[a],function(e,n){if(e||!n)return t._setLoggingIn(!1),e=e||new Error("No result from call to beginPasswordExchange"),o&&o(e),void 0;var r=i.respondToChallenge(n);t.callLoginMethod({methodArguments:[{srp:r}],validateResult:function(e){if(!i.verifyConfirmation({HAMK:e.HAMK}))throw new Error("Server is cheating!")},userCallback:o})})},t.createUser=function(e,o){if(e=r.clone(e),!e.password)throw new Error("Must set options.password");var i=n.generateVerifier(e.password);delete e.password,e.srp=i,t.callLoginMethod({methodName:"createUser",methodArguments:[e],userCallback:o})},t.changePassword=function(r,o,i){if(!e.user())return i&&i(new Error("Must be logged in to change password.")),void 0;var a=n.generateVerifier(o);if(r){var s=new n.Client(r),c=s.startExchange();c.user={id:e.user()._id},t.connection.apply("beginPasswordExchange",[c],function(e,n){if(e||!n)return i&&i(e||new Error("No result from call to beginPasswordExchange")),void 0;var r=s.respondToChallenge(n);r.srp=a,t.connection.apply("changePassword",[r],function(e,t){e||!t?i&&i(e||new Error("No result from changePassword.")):s.verifyConfirmation(t)?i&&i():i&&i(new Error("Old password verification failed."))})})}else t.connection.apply("changePassword",[{srp:a}],function(e,t){e||!t?i&&i(e||new Error("No result from changePassword.")):i&&i()})},t.forgotPassword=function(e,n){if(!e.email)throw new Error("Must pass options.email");t.connection.call("forgotPassword",e,n)},t.resetPassword=function(e,r,o){if(!e)throw new Error("Need to pass token");if(!r)throw new Error("Need to pass newPassword");var i=n.generateVerifier(r);t.callLoginMethod({methodName:"resetPassword",methodArguments:[e,i],userCallback:o})},t.verifyEmail=function(e,n){if(!e)throw new Error("Need to pass token");t.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:n})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}(),function(){var e,t,n,r,o,i,a,s,c=Package.meteor.Meteor,u=Package.deps.Deps,l=Package["service-configuration"].ServiceConfiguration,f=Package["accounts-base"].Accounts,d=Package.underscore._,p=Package.templating.Template,h=Package.session.Session,g=Package.ui.UI,m=(Package.ui.Handlebars,Package.htmljs.HTML);(function(){f.ui={},f.ui._options={requestPermissions:{},requestOfflineToken:{}},f.ui.config=function(e){var t=["passwordSignupFields","requestPermissions","requestOfflineToken"];if(d.each(d.keys(e),function(e){if(!d.contains(t,e))throw new Error("Accounts.ui.config: Invalid key: "+e)}),e.passwordSignupFields){if(!d.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],e.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+e.passwordSignupFields);if(f.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");f.ui._options.passwordSignupFields=e.passwordSignupFields}e.requestPermissions&&d.each(e.requestPermissions,function(e,t){if(f.ui._options.requestPermissions[t])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+t);if(!(e instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");f.ui._options.requestPermissions[t]=e}),e.requestOfflineToken&&d.each(e.requestOfflineToken,function(e,t){if("google"!==t)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(f.ui._options.requestOfflineToken[t])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+t);f.ui._options.requestOfflineToken[t]=e})},e=function(){return f.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){p.__define__("loginButtons",function(){var e=this;return m.DIV({id:"login-buttons","class":["login-buttons-dropdown-align-",function(){return Spacebars.mustache(e.lookup("align"))}]},"\n    ",g.If(function(){return Spacebars.call(e.lookup("currentUser"))},g.block(function(){var e=this;return["\n      ",g.If(function(){return Spacebars.call(e.lookup("loggingIn"))},g.block(function(){var e=this;return["\n        \n        ",g.If(function(){return Spacebars.call(e.lookup("dropdown"))},g.block(function(){var e=this;return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]}),g.block(function(){var e=this;return["\n          ",m.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n          "),"\n        "]})),"\n      "]}),g.block(function(){var e=this;return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedIn")),"\n      "]})),"\n    "]}),g.block(function(){var e=this;return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOut")),"\n    "]})),"\n  ")}),p.__define__("_loginButtonsLoggedIn",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("dropdown"))},g.block(function(){var e=this;return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n  "]}),g.block(function(){var e=this;return["\n    ",m.DIV({"class":"login-buttons-with-only-one-button"},"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n    "),"\n  "]}))}),p.__define__("_loginButtonsLoggedOut",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("services"))},g.block(function(){var e=this;return[" \n    ",g.If(function(){return Spacebars.call(e.lookup("configurationLoaded"))},g.block(function(){var e=this;return["\n      ",g.If(function(){return Spacebars.call(e.lookup("dropdown"))},g.block(function(){var e=this;return[" \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n      "]}),g.block(function(){var e=this;return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("singleService"))},g.block(function(){var e=this;return[" \n          ",m.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",g.If(function(){return Spacebars.call(e.lookup("loggingIn"))},g.block(function(){var e=this;return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n            "]}),g.block(function(){var e=this;return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n            "]})),"\n          "),"\n        "]})),"\n      "]})),"\n    "]})),"\n  "]}),g.block(function(){return["\n    ",m.DIV({"class":"no-services"},"No login services configured"),"\n  "]}))}),p.__define__("_loginButtonsMessages",function(){var e=this;return[g.If(function(){return Spacebars.call(e.lookup("errorMessage"))},g.block(function(){var e=this;return["\n    ",m.DIV({"class":"message error-message"},function(){return Spacebars.mustache(e.lookup("errorMessage"))}),"\n  "]})),"\n  ",g.If(function(){return Spacebars.call(e.lookup("infoMessage"))},g.block(function(){var e=this;return["\n    ",m.DIV({"class":"message info-message"},function(){return Spacebars.mustache(e.lookup("infoMessage"))}),"\n  "]}))]}),p.__define__("_loginButtonsLoggingIn",function(){var e=this;return[Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInPadding")),m.Raw('\n  <div class="loading">&nbsp;</div>\n  '),Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInPadding"))]}),p.__define__("_loginButtonsLoggingInPadding",function(){var e=this;return g.Unless(function(){return Spacebars.call(e.lookup("dropdown"))},g.block(function(){return["\n    \n    ",m.DIV({"class":"login-buttons-padding"},"\n      ",m.DIV({"class":"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},m.CharRef({html:"&nbsp;",str:""})),"\n    "),"\n  "]}),g.block(function(){return["\n    \n    ",m.DIV({"class":"login-buttons-padding"}),"\n  "]}))})}.call(this),function(){p.__define__("_loginButtonsLoggedOutSingleLoginButton",function(){var e=this;return m.DIV({"class":"login-text-and-button"},"\n    ",m.DIV({"class":["login-button single-login-button ",g.Unless(function(){return Spacebars.call(e.lookup("configured"))},g.block(function(){return"configure-button"}))],id:["login-buttons-",function(){return Spacebars.mustache(e.lookup("name"))}]},"\n      ",m.DIV({"class":"login-image",id:["login-buttons-image-",function(){return Spacebars.mustache(e.lookup("name"))}]}),"\n      ",g.If(function(){return Spacebars.call(e.lookup("configured"))},g.block(function(){var e=this;return["\n        ",m.SPAN({"class":["text-besides-image sign-in-text-",function(){return Spacebars.mustache(e.lookup("name"))}]},"Sign in with ",function(){return Spacebars.mustache(e.lookup("capitalizedName"))}),"\n      "]}),g.block(function(){var e=this;return["\n        ",m.SPAN({"class":["text-besides-image configure-text-",function(){return Spacebars.mustache(e.lookup("name"))}]},"Configure ",function(){return Spacebars.mustache(e.lookup("capitalizedName"))}," Login"),"\n      "]})),"\n    "),"\n  ")}),p.__define__("_loginButtonsLoggingInSingleLoginButton",function(){var e=this;return m.DIV({"class":"login-text-and-button"},"\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n  ")}),p.__define__("_loginButtonsLoggedInSingleLogoutButton",function(){var e=this;return m.DIV({"class":"login-text-and-button"},"\n    ",m.DIV({"class":"login-display-name"},"\n      ",function(){return Spacebars.mustache(e.lookup("displayName"))},"\n    "),m.Raw('\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  '))})}.call(this),function(){p.__define__("_loginButtonsLoggedInDropdown",function(){var e=this;return m.DIV({"class":"login-link-and-dropdown-list"},"\n    ",m.A({"class":"login-link-text",id:"login-name-link"},"\n      ",function(){return Spacebars.mustache(e.lookup("displayName"))}," \n    "),"\n\n    ",g.If(function(){return Spacebars.call(e.lookup("dropdownVisible"))},g.block(function(){var e=this;return["\n      ",m.DIV({id:"login-dropdown-list","class":"accounts-dialog"},"\n        ",m.A({"class":"login-close-text"},"Close"),"\n        ",m.DIV({"class":"login-close-text-clear"}),"\n\n        ",g.If(function(){return Spacebars.call(e.lookup("inMessageOnlyFlow"))},g.block(function(){var e=this;return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n        "]}),g.block(function(){var e=this;return["\n          ",g.If(function(){return Spacebars.call(e.lookup("inChangePasswordFlow"))},g.block(function(){var e=this;return["\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsChangePassword")),"\n          "]}),g.block(function(){var e=this;return["\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n          "]})),"\n        "]})),"\n      "),"\n    "]})),"\n  ")}),p.__define__("_loginButtonsLoggedInDropdownActions",function(){var e=this;return[g.If(function(){return Spacebars.call(e.lookup("allowChangingPassword"))},g.block(function(){return["\n    ",m.DIV({"class":"login-button",id:"login-buttons-open-change-password"},"\n      Change password\n    "),"\n  "]})),m.Raw('\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  '),Spacebars.include(e.lookupTemplate("_loginButtonsMessages"))]}),p.__define__("_loginButtonsLoggedOutDropdown",function(){var e=this;return m.DIV({"class":["login-link-and-dropdown-list ",function(){return Spacebars.mustache(e.lookup("additionalClasses"))}]},"\n    ",g.If(function(){return Spacebars.call(e.lookup("dropdownVisible"))},g.block(function(){var e=this;return["\n      \n      ",m.A({"class":"login-link-text",id:"login-sign-in-link"},"Sign in "),"\n      ",m.DIV({id:"login-dropdown-list","class":"accounts-dialog"},"\n        ",m.A({"class":"login-close-text"},"Close"),"\n        ",g.If(function(){return Spacebars.call(e.lookup("loggingIn"))},g.block(function(){var e=this;return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]})),"\n        ",m.DIV({"class":"login-close-text-clear"}),"\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n      "),"\n    "]}),g.block(function(){var e=this;return["\n      ",g.If(function(){return Spacebars.call(e.lookup("loggingIn"))},g.block(function(){var e=this;return["\n        \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n      "]}),g.block(function(){return["\n        ",m.A({"class":"login-link-text",id:"login-sign-in-link"},"Sign in "),"\n      "]})),"\n    "]})),"\n  ")}),p.__define__("_loginButtonsLoggedOutAllServices",function(){var e=this;return[g.Each(function(){return Spacebars.call(e.lookup("services"))},g.block(function(){var e=this;return["\n    ",g.If(function(){return Spacebars.call(e.lookup("isPasswordService"))},g.block(function(){var e=this;return["\n      ",g.If(function(){return Spacebars.call(e.lookup("hasOtherServices"))},g.block(function(){var e=this;return[" \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n      "]})),"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n    "]}),g.block(function(){var e=this;return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n    "]})),"\n  "]})),"\n\n  ",g.Unless(function(){return Spacebars.call(e.lookup("hasPasswordService"))},g.block(function(){var e=this;return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n  "]}))]}),p.__define__("_loginButtonsLoggedOutPasswordServiceSeparator",function(){return m.Raw('<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>')}),p.__define__("_loginButtonsLoggedOutPasswordService",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("inForgotPasswordFlow"))},g.block(function(){var e=this;return["\n    ",Spacebars.include(e.lookupTemplate("_forgotPasswordForm")),"\n  "]}),g.block(function(){var e=this;return["\n    ",m.DIV({"class":"login-form login-password-form"},"\n      ",g.Each(function(){return Spacebars.call(e.lookup("fields"))},g.block(function(){var e=this;return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsFormField")),"\n      "]})),"\n\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n\n      ",m.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-password"},"\n        ",g.If(function(){return Spacebars.call(e.lookup("inSignupFlow"))},g.block(function(){return"\n          Create account\n        "}),g.block(function(){return"\n          Sign in\n        "})),"\n      "),"\n\n      ",g.If(function(){return Spacebars.call(e.lookup("inLoginFlow"))},g.block(function(){var e=this;return["\n        ",g.If(function(){return Spacebars.call(e.lookup("showCreateAccountLink"))},g.block(function(){return["\n          ",m.DIV({"class":"additional-link-container"},"\n            ",m.A({id:"signup-link","class":"additional-link"},"Create account"),"\n          "),"\n        "]})),"\n\n        ",g.If(function(){return Spacebars.call(e.lookup("showForgotPasswordLink"))},g.block(function(){return["\n          ",m.DIV({"class":"additional-link-container"},"\n            ",m.A({id:"forgot-password-link","class":"additional-link"},"Forgot password"),"\n          "),"\n        "]})),"\n      "]})),"\n\n      ",g.If(function(){return Spacebars.call(e.lookup("inSignupFlow"))},g.block(function(){var e=this;return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsBackToLoginLink")),"\n      "]})),"\n    "),"\n  "]}))}),p.__define__("_forgotPasswordForm",function(){var e=this;return m.DIV({"class":"login-form"},m.Raw('\n    <div id="forgot-password-email-label-and-input"> \n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email">\n    </div>\n\n    '),Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),m.Raw('\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    '),Spacebars.include(e.lookupTemplate("_loginButtonsBackToLoginLink")),"\n  ")}),p.__define__("_loginButtonsBackToLoginLink",function(){return m.Raw('<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>')}),p.__define__("_loginButtonsFormField",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},g.block(function(){var e=this;return["\n    ",m.DIV({id:["login-",function(){return Spacebars.mustache(e.lookup("fieldName"))},"-label-and-input"]},"\n      ",m.LABEL({id:["login-",function(){return Spacebars.mustache(e.lookup("fieldName"))},"-label"],"for":["login-",function(){return Spacebars.mustache(e.lookup("fieldName"))}]},"\n        ",function(){return Spacebars.mustache(e.lookup("fieldLabel"))},"\n      "),"\n      ",m.INPUT({id:["login-",function(){return Spacebars.mustache(e.lookup("fieldName"))}],type:function(){return Spacebars.mustache(e.lookup("inputType"))}}),"\n    "),"\n  "]}))}),p.__define__("_loginButtonsChangePassword",function(){var e=this;return[g.Each(function(){return Spacebars.call(e.lookup("fields"))},g.block(function(){var e=this;return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsFormField")),"\n  "]})),"\n\n  ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),m.Raw('\n\n  <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n    Change password\n  </div>')]})}.call(this),function(){g.body.contentParts.push(g.Component.extend({render:function(){var e=this;return[Spacebars.include(e.lookupTemplate("_resetPasswordDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_enrollAccountDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_justVerifiedEmailDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_configureLoginServiceDialog")),m.Raw("\n\n  <!-- if we're not showing a dropdown, we need some other place to show messages -->\n  "),Spacebars.include(e.lookupTemplate("_loginButtonsMessagesDialog"))]}})),c.startup(function(){g.body.INSTANTIATED||(g.body.INSTANTIATED=!0,g.DomRange.insert(g.render(g.body).dom,document.body))}),p.__define__("_resetPasswordDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("inResetPasswordFlow"))},g.block(function(){var e=this;return["\n    ",m.DIV({"class":"hide-background"}),"\n\n    ",m.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",m.LABEL({id:"reset-password-new-password-label","for":"reset-password-new-password"},"\n        New password\n      "),"\n\n      ",m.DIV({"class":"reset-password-new-password-wrapper"},"\n        ",m.INPUT({id:"reset-password-new-password",type:"password"}),"\n      "),"\n\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n\n      ",m.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-reset-password-button"},"\n        Set password\n      "),"\n\n      ",m.A({"class":"accounts-close",id:"login-buttons-cancel-reset-password"},m.CharRef({html:"&times;",str:""})),"\n    "),"\n  "]}))}),p.__define__("_enrollAccountDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("inEnrollAccountFlow"))},g.block(function(){var e=this;return["\n    ",m.DIV({"class":"hide-background"}),"\n\n    ",m.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",m.LABEL({id:"enroll-account-password-label","for":"enroll-account-password"},"\n        Choose a password\n      "),"\n\n      ",m.DIV({"class":"enroll-account-password-wrapper"},"\n        ",m.INPUT({id:"enroll-account-password",type:"password"}),"\n      "),"\n\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n\n      ",m.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-enroll-account-button"},"\n        Create account\n      "),"\n\n      ",m.A({"class":"accounts-close",id:"login-buttons-cancel-enroll-account"},m.CharRef({html:"&times;",str:""})),"\n    "),"\n  "]}))}),p.__define__("_justVerifiedEmailDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},g.block(function(){return["\n    ",m.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      Email verified\n      ",m.DIV({"class":"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]}))}),p.__define__("_configureLoginServiceDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},g.block(function(){var e=this;return["\n    ",m.DIV({id:"configure-login-service-dialog","class":"accounts-dialog accounts-centered-dialog"},"\n      ",Spacebars.include(e.lookupTemplate("configurationSteps")),"\n\n      ",m.P("\n        Now, copy over some details.\n      "),"\n      ",m.P("\n        ",m.TABLE("\n          ",m.COLGROUP("\n            ",m.COL({span:"1","class":"configuration_labels"}),"\n            ",m.COL({span:"1","class":"configuration_inputs"}),"\n          "),"\n          ",g.Each(function(){return Spacebars.call(e.lookup("configurationFields"))},g.block(function(){var e=this;return["\n            ",m.TR("\n              ",m.TD("\n                ",m.LABEL({"for":["configure-login-service-dialog-",function(){return Spacebars.mustache(e.lookup("property"))}]},function(){return Spacebars.mustache(e.lookup("label"))}),"\n              "),"\n              ",m.TD("\n                ",m.INPUT({id:["configure-login-service-dialog-",function(){return Spacebars.mustache(e.lookup("property"))}],type:"text"}),"\n              "),"\n            "),"\n          "]})),"\n        "),"\n      "),"\n      ",m.DIV({"class":"new-section"},"\n        ",m.DIV({"class":"login-button configure-login-service-dismiss-button"},"\n          I'll do this later\n        "),"\n        ",m.A({"class":"accounts-close configure-login-service-dismiss-button"},m.CharRef({html:"&times;",str:""})),"\n\n        ",m.DIV({"class":["login-button login-button-configure ",g.If(function(){return Spacebars.call(e.lookup("saveDisabled"))},g.block(function(){return"login-button-disabled"}))],id:"configure-login-service-dialog-save-configuration"},"\n          Save Configuration\n        "),"\n      "),"\n    "),"\n  "]}))}),p.__define__("_loginButtonsMessagesDialog",function(){var e=this;return g.If(function(){return Spacebars.call(e.lookup("visible"))},g.block(function(){var e=this;return["\n    ",m.DIV({"class":"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n      ",m.DIV({"class":"login-button",id:"messages-dialog-dismiss-button"},"Dismiss"),"\n    "),"\n  "]}))})}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled"],t=function(t){if(!d.contains(e,t))throw new Error("Invalid key in loginButtonsSession: "+t)},n="Meteor.loginButtons.";f._loginButtonsSession={set:function(e,n){if(t(e),d.contains(["errorMessage","infoMessage"],e))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(e,n)},_set:function(e,t){h.set(n+e,t)},get:function(e){return t(e),h.get(n+e)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(e){this._set("errorMessage",null),this._set("infoMessage",e),this.ensureMessageVisible()},errorMessage:function(e){this._set("errorMessage",e),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0)}}}.call(this),function(){var u=f._loginButtonsSession;p.loginButtons.events({"click #login-buttons-logout":function(){c.logout(function(){u.closeDropdown()})}}),g.registerHelper("loginButtons",function(){throw new Error("Use {{> loginButtons}} instead of {{loginButtons}}")}),t=function(){var e=c.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},n=function(){var e=Package["accounts-oauth"]?f.oauth.serviceNames():[];return e.sort(),r()&&e.push("password"),d.map(e,function(e){return{name:e}})},r=function(){return!!Package["accounts-password"]},o=function(){return r()||n().length>1},i=function(e){return e.length>=3?!0:(u.errorMessage("Username must be at least 3 characters long"),!1)},a=function(t){return"USERNAME_AND_OPTIONAL_EMAIL"===e()&&""===t?!0:-1!==t.indexOf("@")?!0:(u.errorMessage("Invalid email"),!1)},s=function(e){return e.length>=6?!0:(u.errorMessage("Password must be at least 6 characters long"),!1)},p._loginButtonsLoggedOut.dropdown=o,p._loginButtonsLoggedOut.services=n,p._loginButtonsLoggedOut.singleService=function(){var e=n();if(1!==e.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return e[0]},p._loginButtonsLoggedOut.configurationLoaded=function(){return f.loginServicesConfigured()},p._loginButtonsLoggedIn.dropdown=o,p._loginButtonsLoggedInSingleLogoutButton.displayName=t,p._loginButtonsMessages.errorMessage=function(){return u.get("errorMessage")},p._loginButtonsMessages.infoMessage=function(){return u.get("infoMessage")},p._loginButtonsLoggingInPadding.dropdown=o}.call(this),function(){var e=f._loginButtonsSession;p._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var n=this.name;e.resetMessages();var r=function(t){t?t instanceof f.LoginCancelledError||(t instanceof l.ConfigError?e.configureService(n):e.errorMessage(t.reason||"Unknown error")):e.closeDropdown()},o=c["loginWith"+("meteor-developer"===n?"MeteorDeveloperAccount":t(n))],i={};f.ui._options.requestPermissions[n]&&(i.requestPermissions=f.ui._options.requestPermissions[n]),f.ui._options.requestOfflineToken[n]&&(i.requestOfflineToken=f.ui._options.requestOfflineToken[n]),o(i,r)}}),p._loginButtonsLoggedOutSingleLoginButton.configured=function(){return!!l.configurations.findOne({service:this.name})},p._loginButtonsLoggedOutSingleLoginButton.capitalizedName=function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":t(this.name)};var t=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){var o=f._loginButtonsSession;p.loginButtons.events({"click #login-name-link, click #login-sign-in-link":function(){o.set("dropdownVisible",!0),u.flush(),w()},"click .login-close-text":function(){o.closeDropdown()}}),p._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(){o.resetMessages(),o.set("inChangePasswordFlow",!0)}}),p._loginButtonsLoggedInDropdown.displayName=t,p._loginButtonsLoggedInDropdown.inChangePasswordFlow=function(){return o.get("inChangePasswordFlow")},p._loginButtonsLoggedInDropdown.inMessageOnlyFlow=function(){return o.get("inMessageOnlyFlow")},p._loginButtonsLoggedInDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},p._loginButtonsLoggedInDropdownActions.allowChangingPassword=function(){var e=c.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address},p._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){g()},"keypress #forgot-password-email":function(e){13===e.keyCode&&b()},"click #login-buttons-forgot-password":function(){b()},"click #signup-link":function(){o.resetMessages();var e=h("login-username"),t=h("login-email"),n=h("login-username-or-email"),r=l("login-password");o.set("inSignupFlow",!0),o.set("inForgotPasswordFlow",!1),u.flush(),null!==e?document.getElementById("login-username").value=e:null!==t?document.getElementById("login-email").value=t:null!==n&&(-1===n.indexOf("@")?document.getElementById("login-username").value=n:document.getElementById("login-email").value=n),null!==r&&(document.getElementById("login-password").value=r);
var i=document.getElementById("login-dropdown-list");i.style.display="none",i.offsetHeight,i.style.display="block"},"click #forgot-password-link":function(){o.resetMessages();var e=h("login-email"),t=h("login-username-or-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!0),u.flush(),null!==e?document.getElementById("forgot-password-email").value=e:null!==t&&-1!==t.indexOf("@")&&(document.getElementById("forgot-password-email").value=t)},"click #back-to-login-link":function(){o.resetMessages();var e=h("login-username"),t=h("login-email")||h("forgot-password-email"),n=l("login-password");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!1),u.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=e),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||e),null!==n&&(document.getElementById("login-password").value=n)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&g()}}),p._loginButtonsLoggedOutDropdown.additionalClasses=function(){return r()?o.get("inSignupFlow")?"login-form-create-account":o.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},p._loginButtonsLoggedOutDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},p._loginButtonsLoggedOutDropdown.hasPasswordService=r,p._loginButtonsLoggedOutAllServices.services=n,p._loginButtonsLoggedOutAllServices.isPasswordService=function(){return"password"===this.name},p._loginButtonsLoggedOutAllServices.hasOtherServices=function(){return n().length>1},p._loginButtonsLoggedOutAllServices.hasPasswordService=r,p._loginButtonsLoggedOutPasswordService.fields=function(){var t=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return d.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],e())}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===e()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],n=[{fieldName:"username",fieldLabel:"Username",visible:function(){return d.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return d.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return d.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}];return o.get("inSignupFlow")?n:t},p._loginButtonsLoggedOutPasswordService.inForgotPasswordFlow=function(){return o.get("inForgotPasswordFlow")},p._loginButtonsLoggedOutPasswordService.inLoginFlow=function(){return!o.get("inSignupFlow")&&!o.get("inForgotPasswordFlow")},p._loginButtonsLoggedOutPasswordService.inSignupFlow=function(){return o.get("inSignupFlow")},p._loginButtonsLoggedOutPasswordService.showCreateAccountLink=function(){return!f._options.forbidClientAccountCreation},p._loginButtonsLoggedOutPasswordService.showForgotPasswordLink=function(){return d.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],e())},p._loginButtonsFormField.inputType=function(){return this.inputType||"text"},p._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&y()},"click #login-buttons-do-change-password":function(){y()}}),p._loginButtonsChangePassword.fields=function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return d.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}]};var l=function(e){var t=document.getElementById(e);return t?t.value:null},h=function(e){var t=document.getElementById(e);return t?t.value.replace(/^\s*|\s*$/g,""):null},g=function(){o.get("inSignupFlow")?v():m()},m=function(){o.resetMessages();var e,t=h("login-username"),n=h("login-email"),r=h("login-username-or-email"),s=l("login-password");if(null!==t){if(!i(t))return;e={username:t}}else if(null!==n){if(!a(n))return;e={email:n}}else{if(null===r)throw new Error("Unexpected -- no element to use as a login user selector");if(!i(r))return;e=r}c.loginWithPassword(e,s,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()})},v=function(){o.resetMessages();var e={},t=h("login-username");if(null!==t){if(!i(t))return;e.username=t}var n=h("login-email");if(null!==n){if(!a(n))return;e.email=n}var r=l("login-password");s(r)&&(e.password=r,_()&&f.createUser(e,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()}))},b=function(){o.resetMessages();var e=h("forgot-password-email");-1!==e.indexOf("@")?f.forgotPassword({email:e},function(e){e?o.errorMessage(e.reason||"Unknown error"):o.infoMessage("Email sent")}):o.errorMessage("Invalid email")},y=function(){o.resetMessages();var e=l("login-old-password"),t=l("login-password");s(t)&&_()&&f.changePassword(e,t,function(e){e?o.errorMessage(e.reason||"Unknown error"):(o.set("inChangePasswordFlow",!1),o.set("inMessageOnlyFlow",!0),o.infoMessage("Password changed"))})},_=function(){var e=l("login-password-again");if(null!==e){var t=l("login-password");if(t!==e)return o.errorMessage("Passwords don't match"),!1}return!0},w=function(){for(var e=document.getElementById("login-dropdown-list").parentNode;"BODY"!==e.nodeName;e=e.parentNode)0===e.style.zIndex&&(e.style.zIndex=1)}}.call(this),function(){var e=f._loginButtonsSession;f._resetPasswordToken&&e.set("resetPasswordToken",f._resetPasswordToken),f._enrollAccountToken&&e.set("enrollAccountToken",f._enrollAccountToken),c.startup(function(){f._verifyEmailToken&&f.verifyEmail(f._verifyEmailToken,function(t){f._enableAutoLogin(),t||e.set("justVerifiedEmail",!0)})}),p._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){t()},"keypress #reset-password-new-password":function(e){13===e.keyCode&&t()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),f._enableAutoLogin()}});var t=function(){e.resetMessages();var t=document.getElementById("reset-password-new-password").value;s(t)&&f.resetPassword(e.get("resetPasswordToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("resetPasswordToken",null),f._enableAutoLogin())})};p._resetPasswordDialog.inResetPasswordFlow=function(){return e.get("resetPasswordToken")},p._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){n()},"keypress #enroll-account-password":function(e){13===e.keyCode&&n()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),f._enableAutoLogin()}});var n=function(){e.resetMessages();var t=document.getElementById("enroll-account-password").value;s(t)&&f.resetPassword(e.get("enrollAccountToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("enrollAccountToken",null),f._enableAutoLogin())})};p._enrollAccountDialog.inEnrollAccountFlow=function(){return e.get("enrollAccountToken")},p._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),p._justVerifiedEmailDialog.visible=function(){return e.get("justVerifiedEmail")},p._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),p._loginButtonsMessagesDialog.visible=function(){var t=e.get("infoMessage")||e.get("errorMessage");return!o()&&t},p._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var t=e.get("configureLoginServiceDialogServiceName"),n={service:t};d.each(a(),function(e){n[e.property]=document.getElementById("configure-login-service-dialog-"+e.property).value.replace(/^\s*|\s*$/g,"")}),f.connection.call("configureLoginService",n,function(n){n?c._debug("Error configuring login service "+t,n):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(e){0===e.target.id.indexOf("configure-login-service-dialog")&&r()}});var r=function(){var t=d.any(a(),function(e){return""===document.getElementById("configure-login-service-dialog-"+e.property).value});e.set("configureLoginServiceDialogSaveDisabled",t)},i=function(){var t=e.get("configureLoginServiceDialogServiceName");return p["configureLoginServiceDialogFor"+("meteor-developer"===t?"MeteorDeveloper":u(t))]},a=function(){var e=i();return e.fields()};p._configureLoginServiceDialog.configurationFields=function(){return a()},p._configureLoginServiceDialog.visible=function(){return e.get("configureLoginServiceDialogVisible")},p._configureLoginServiceDialog.configurationSteps=function(){return i()},p._configureLoginServiceDialog.saveDisabled=function(){return e.get("configureLoginServiceDialogSaveDisabled")};var u=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-ui-unstyled"]={}}(),function(){Package.meteor.Meteor,Package["accounts-base"].Accounts;"undefined"==typeof Package&&(Package={}),Package["accounts-ui"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.handlebars={}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.deps.Deps;(function(){t="object"==typeof t?t:{};var o;n.isClient&&(Package.ui&&(o=Package.ui.Handlebars),o.registerHelper("t9n",function(t){return e.get(t)})),e=function(){function e(){}return e.maps={},e.defaultLanguage="en",e.language="",e.dep=new r.Dependency,e.missingPrefix=">",e.missingPostfix="<",e.map=function(e,t){return this.maps[e]||(this.maps[e]={}),this.registerMap(e,"",!1,t),this.dep.changed()},e.get=function(e){var t,n;return this.dep.depend(),"string"!=typeof e?"":(null!=(t=this.maps[this.language])?t[e]:void 0)||(null!=(n=this.maps[this.defaultLanguage])?n[e]:void 0)||this.missingPrefix+e+this.missingPostfix},e.registerMap=function(e,t,n,r){var o,i,a;if("string"==typeof r)return this.maps[e][t]=r;if("object"==typeof r){n&&(t+="."),a=[];for(o in r)i=r[o],a.push(this.registerMap(e,t+o,!0,i));return a}},e}(),this.T9n=e,this.t9n=function(t){return e.get(t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-t9n"]={T9n:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=(Package.deps.Deps,Package["service-configuration"].ServiceConfiguration),o=Package["accounts-base"].Accounts,i=Package.underscore._,a=Package.templating.Template,s=Package.session.Session,c=(Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),u=(Package["iron-router"].IronLocation,Package["accounts-t9n"].T9n),l=Package.ui.UI,f=Package.ui.Handlebars,d=Package.htmljs.HTML;(function(){t="object"==typeof t?t:{};e={settings:{wrapLinks:!0,homeRoute:"/home",dashboardRoute:"/dashboard",passwordSignupFields:"EMAIL_ONLY",emailToLower:!0,usernameToLower:!1,entrySignUp:"/sign-up"},isStringEmail:function(e){var t;return t=/^([\w.-]+)@([\w.-]+)\.([a-zA-Z.]{2,6})$/i,e.match(t)?!0:!1},config:function(e){var t;return this.settings=i.extend(this.settings,e),u.defaultLanguage="en",e.language&&(u.language=e.language),e.signUpTemplate?(t=c.routes.entrySignUp,t.options.template=e.signUpTemplate):void 0},signInRequired:function(e,t){return null==t&&(t=!0),n.loggingIn()||n.user()&&t?void 0:(s.set("fromWhere",e.path),c.go("/sign-in"),s.set("entryError",t9n("error.signInRequired")),e.pause())}},this.AccountsEntry=e,this.T9NHelper=function(){function e(){}return e.translate=function(e){return u.get(e,"error.accounts")},e.accountsError=function(e){return s.set("entryError",this.translate(e.reason))},e}()}).call(this),function(){t="object"==typeof t?t:{};"undefined"!=typeof f&&f.registerHelper("signedInAs",function(){return n.user().username?n.user().username:n.user().profile&&n.user().profile.name?n.user().profile.name:n.user().emails&&n.user().emails[0]?n.user().emails[0].address:"Signed In"}),f.registerHelper("accountButtons",function(){return a.entryAccountButtons}),f.registerHelper("capitalize",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),f.registerHelper("signupClass",function(){return o.oauth&&o.oauth.serviceNames().length>0?"collapse":void 0}),f.registerHelper("otherLoginServices",function(){return o.oauth&&o.oauth.serviceNames().length>0}),f.registerHelper("loginServices",function(){return o.oauth.serviceNames()}),f.registerHelper("showSignupCode",function(){return e.settings.showSignupCode===!0}),f.registerHelper("passwordLoginService",function(){return!!Package["accounts-password"]})}.call(this),function(){a.__define__("entrySignIn",function(){var e=this;return d.DIV({"class":"container"},"\n    ",d.DIV({"class":"row"},"\n      ",l.If(function(){return Spacebars.call(e.lookup("logo"))},l.block(function(){var e=this;return["\n        ",d.DIV({"class":"entry-logo"},"\n            ",d.A({href:"/"},d.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]})),"\n      ",d.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",l.If(function(){return Spacebars.call(e.lookup("otherLoginServices"))},l.block(function(){var e=this;return["\n        ",d.DIV({"class":"entry-social"},"\n          ",l.Each(function(){return Spacebars.call(e.lookup("loginServices"))},l.block(function(){var e=this;return["\n            ",Spacebars.include(e.lookupTemplate("entrySocial")),"\n          "]})),"\n          ",l.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},l.block(function(){var e=this;return["\n          ",d.DIV({"class":"email-option"},"\n            ",d.STRONG({"class":"line-thru or-sign-in"},function(){return Spacebars.mustache(e.lookup("t9n"),"OR")}),"\n          "),"\n          "]})),"\n        "),"\n        "]})),"\n        ",Spacebars.include(e.lookupTemplate("entryError")),"\n        ",l.Unless(function(){return Spacebars.call(e.lookup("otherLoginServices"))},l.block(function(){var e=this;return["\n          ",d.DIV({"class":"email-option"},"\n            ",d.H3(function(){return Spacebars.mustache(e.lookup("t9n"),"signIn")}),"\n          "),"\n        "]})),"\n        ",l.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},l.block(function(){var e=this;return["\n          ",d.FORM({"class":"entry-form",id:"signIn"},"\n            ",d.DIV({"class":"form-group"},"\n              ",d.INPUT({autofocus:"",name:"email",type:function(){return Spacebars.mustache(e.lookup("emailInputType"))},"class":"form-control",value:function(){return Spacebars.mustache(e.lookup("email"))},placeholder:function(){return Spacebars.mustache(e.lookup("emailPlaceholder"))}}),"\n            "),"\n            ",d.DIV({"class":"form-group"},"\n              ",d.INPUT({name:"password",type:"password","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("password"))},placeholder:function(){return Spacebars.mustache(e.lookup("t9n"),"password")}}),"\n            "),"\n            ",l.Unless(function(){return Spacebars.call(e.lookup("isUsernameOnly"))},l.block(function(){var e=this;return["\n              ",d.P(d.A({href:"/forgot-password"},function(){return Spacebars.mustache(e.lookup("t9n"),"forgotPassword")})),"\n              ",d.BUTTON({type:"submit","class":"submit btn btn-block btn-default"},function(){return Spacebars.mustache(e.lookup("t9n"),"signIn")}),"\n            "]})),"\n          "),"\n        "]})),"\n        ",d.P({"class":"entry-signup-cta"},function(){return Spacebars.mustache(e.lookup("t9n"),"dontHaveAnAccount")}," ",d.A({href:"/sign-up"},function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")})),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};e.entrySignInHelpers={emailInputType:function(){return"EMAIL_ONLY"===e.settings.passwordSignupFields?"email":"string"},emailPlaceholder:function(){var t;return t=e.settings.passwordSignupFields,i.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],t)?t9n("usernameOrEmail"):"USERNAME_ONLY"===t?t9n("username"):t9n("email")},logo:function(){return e.settings.logo},isUsernameOnly:function(){return e.settings.passwordSignupFields===t9n("username")}},e.entrySignInEvents={"submit #signIn":function(t){var r;return t.preventDefault(),r=$('input[name="email"]').val(),(e.isStringEmail(r)&&e.settings.emailToLower||!e.isStringEmail(r)&&e.settings.usernameToLower)&&(r=r.toLowerCase()),s.set("email",r),s.set("password",$('input[name="password"]').val()),n.loginWithPassword(s.get("email"),s.get("password"),function(t){return s.set("password",void 0),t?T9NHelper.accountsError(t):s.get("fromWhere")?(c.go(s.get("fromWhere")),s.set("fromWhere",void 0)):c.go(e.settings.dashboardRoute)})}},a.entrySignIn.helpers(e.entrySignInHelpers),a.entrySignIn.events(e.entrySignInEvents)}.call(this),function(){a.__define__("entrySignUp",function(){var e=this;return d.DIV({"class":"container"},"\n    ",d.DIV({"class":"row"},"\n      ",l.If(function(){return Spacebars.call(e.lookup("logo"))},l.block(function(){var e=this;return["\n        ",d.DIV({"class":"entry-logo"},"\n            ",d.A({href:"/"},d.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]})),"\n      ",d.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",d.H3(function(){return Spacebars.mustache(e.lookup("t9n"),"createAccount")}),"\n        ",l.If(function(){return Spacebars.call(e.lookup("otherLoginServices"))},l.block(function(){var e=this;return["\n          ",d.P({"class":"entry-signin-cta"},function(){return Spacebars.mustache(e.lookup("t9n"),"ifYouAlreadyHaveAnAccount")}," ",d.A({href:"/sign-in"},function(){return Spacebars.mustache(e.lookup("t9n"),"signin")}),"."),"\n          ",d.DIV({"class":"entry-social"},"\n            ",l.Each(function(){return Spacebars.call(e.lookup("loginServices"))},l.block(function(){var e=this;return["\n              ",Spacebars.include(e.lookupTemplate("entrySocial")),"\n            "]})),"\n            ",l.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},l.block(function(){var e=this;return["\n              ",d.DIV({"class":"email-option"},"\n                ",d.STRONG({"class":"line-thru"},"OR"),"\n                ",d.A({"data-toggle":"collapse",href:"#signUp"},"\n                  ",function(){return Spacebars.mustache(e.lookup("t9n"),"signUpWithYourEmailAddress")},"\n                "),"\n              "),"\n            "]})),"\n          "),"\n        "]}),l.block(function(){var e=this;return["\n            ",d.P({"class":"entry-signin-cta"},function(){return Spacebars.mustache(e.lookup("t9n"),"ifYouAlreadyHaveAnAccount")}," ",d.A({href:"/sign-in"},function(){return Spacebars.mustache(e.lookup("t9n"),"signin")}),"."),"\n        "]})),"\n        ",Spacebars.include(e.lookupTemplate("entryError")),"\n        ",l.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},l.block(function(){var e=this;return["\n          ",d.FORM({"class":["entry-form ",function(){return Spacebars.mustache(e.lookup("signupClass"))}],id:"signUp"},"\n            ",l.If(function(){return Spacebars.call(e.lookup("showUsername"))},l.block(function(){var e=this;return["\n              ",d.DIV({"class":"form-group"},"\n                ",d.LABEL(function(){return Spacebars.mustache(e.lookup("t9n"),"username")}),"\n                ",d.INPUT({autofocus:"",name:"username",type:"string","class":"form-control",value:""}),"\n              "),"\n            "]})),"\n\n            ",l.If(function(){return Spacebars.call(e.lookup("showEmail"))},l.block(function(){var e=this;return["\n              ",d.DIV({"class":"form-group"},"\n                ",d.LABEL(function(){return Spacebars.mustache(e.lookup("t9n"),"emailAddress")}),"\n                ",l.If(function(){return Spacebars.call(e.lookup("showUsername"))},l.block(function(){var e=this;return["\n                  ",d.INPUT({type:"email","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("emailAddress"))}}),"\n                "]}),l.block(function(){var e=this;return["\n                  ",d.INPUT({autofocus:"",type:"email","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("emailAddress"))}}),"\n                "]})),"\n              "),"\n            "]})),"\n\n            ",d.DIV({"class":"form-group"},"\n              ",d.LABEL(function(){return Spacebars.mustache(e.lookup("t9n"),"password")}),"\n              ",d.INPUT({type:"password","class":"form-control",value:""}),"\n            "),"\n\n            ",l.If(function(){return Spacebars.call(e.lookup("showSignupCode"))},l.block(function(){var e=this;return["\n              ",d.DIV({"class":"form-group"},"\n                ",d.LABEL(function(){return Spacebars.mustache(e.lookup("t9n"),"signupCode")}),"\n                ",d.INPUT({name:"signupCode",type:"string","class":"form-control",value:""}),"\n              "),"\n            "]})),"\n\n            ",d.BUTTON({type:"submit","class":"submit btn btn-block btn-default"},function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")}),"\n          "),"\n        "]})),"\n        ",l.If(function(){return Spacebars.call(e.lookup("both"))},l.block(function(){var e=this;return["\n          ",d.P({"class":"entry-agreement"},function(){return Spacebars.mustache(e.lookup("t9n"),"clickAgree")},"\n            ",d.A({href:function(){return Spacebars.mustache(e.lookup("privacyUrl"))}},function(){return Spacebars.mustache(e.lookup("t9n"),"privacyPolicy")})," ",function(){return Spacebars.mustache(e.lookup("t9n"),"and")},"\n            ",d.A({href:function(){return Spacebars.mustache(e.lookup("termsUrl"))}},function(){return Spacebars.mustache(e.lookup("t9n"),"terms")}),".\n          "),"\n        "]}),l.block(function(){var e=this;return["\n          ",l.Unless(function(){return Spacebars.call(e.lookup("neither"))},l.block(function(){var e=this;return["\n            ",d.P({"class":"entry-agreement"},function(){return Spacebars.mustache(e.lookup("t9n"),"clickAgree")},"\n              ",l.If(function(){return Spacebars.call(e.lookup("privacyUrl"))},l.block(function(){var e=this;return[d.A({href:function(){return Spacebars.mustache(e.lookup("privacyUrl"))}},function(){return Spacebars.mustache(e.lookup("t9n"),"privacyPolicy")}),"."]})),"\n              ",l.If(function(){return Spacebars.call(e.lookup("termsUrl"))},l.block(function(){var e=this;return[d.A({href:function(){return Spacebars.mustache(e.lookup("termsUrl"))}},function(){return Spacebars.mustache(e.lookup("t9n"),"terms")}),"."]})),"\n            "),"\n          "]})),"\n        "]})),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};e.entrySignUpHelpers={showEmail:function(){var t;return t=e.settings.passwordSignupFields,i.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],t)},showUsername:function(){var t;return t=e.settings.passwordSignupFields,i.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],t)},showSignupCode:function(){return e.settings.showSignupCode},logo:function(){return e.settings.logo},privacyUrl:function(){return e.settings.privacyUrl},termsUrl:function(){return e.settings.termsUrl},both:function(){return e.settings.privacyUrl&&e.settings.termsUrl},neither:function(){return!e.settings.privacyUrl&&!e.settings.termsUrl},emailIsOptional:function(){var t;return t=e.settings.passwordSignupFields,i.contains(["USERNAME_AND_OPTIONAL_EMAIL"],t)},emailAddress:function(){return s.get("email")}},e.entrySignUpEvents={"submit #signUp":function(t,r){var a,u,l,f,d,p,h,g,m;return t.preventDefault(),g=r.find('input[name="username"]')?r.find('input[name="username"]').value.toLowerCase():void 0,g&&e.settings.usernameToLower&&(g=g.toLowerCase()),p=r.find('input[name="signupCode"]')?r.find('input[name="signupCode"]').value:void 0,h=function(e){return e.replace(/^\s*|\s*$/g,"")},a=r.find('input[type="email"]')?h(r.find('input[type="email"]').value):void 0,e.settings.emailToLower&&a&&(a=a.toLowerCase()),f=r.find('input[type="password"]').value,l=e.settings.passwordSignupFields,(d=function(e){var t,n;return t=[],n=!1,e.length<7&&t.push(t9n("error.minChar")),e.search(/[a-z]/i)<0&&t.push(t9n("error.pwOneLetter")),e.search(/[0-9]/)<0&&t.push(t9n("error.pwOneDigit")),t.length>0?(n="",t.forEach(function(e){return n=n.concat(""+e+"\r\n")}),s.set("entryError",n),!0):!1}(f))?void 0:(u=i.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],l),m=i.contains(["USERNAME_AND_EMAIL","USERNAME_ONLY"],l),m&&0===g.length?(s.set("entryError",t9n("error.usernameRequired")),void 0):g&&e.isStringEmail(g)?(s.set("entryError",t9n("error.usernameIsEmail")),void 0):u&&0===a.length?(s.set("entryError",t9n("error.emailRequired")),void 0):e.settings.showSignupCode&&0===p.length?(s.set("entryError",t9n("error.signupCodeRequired")),void 0):n.call("entryValidateSignupCode",p,function(t,r){var u;return r?(u={username:g,email:a,password:f,profile:e.settings.defaultProfile||{}},o.createUser(u,function(t){var r,o;return t?(T9NHelper.accountsError(t),void 0):(r=i.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e.settings.passwordSignupFields),o=r?a:g,n.loginWithPassword(o,f,function(t){return t?T9NHelper.accountsError(t):s.get("fromWhere")?(c.go(s.get("fromWhere")),s.set("fromWhere",void 0)):c.go(e.settings.dashboardRoute)}))})):(console.log(t),s.set("entryError",t9n("error.signupCodeIncorrect")),void 0)}))}},a.entrySignUp.helpers(e.entrySignUpHelpers),a.entrySignUp.events(e.entrySignUpEvents)}.call(this),function(){a.__define__("entryForgotPassword",function(){var e=this;return d.DIV({"class":"container"},"\n    ",d.DIV({"class":"row"},"\n      ",l.If(function(){return Spacebars.call(e.lookup("logo"))},l.block(function(){var e=this;return["\n        ",d.DIV({"class":"entry-logo"},"\n            ",d.A({href:"/"},d.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]})),"\n      ",d.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",l.If(function(){return Spacebars.call(e.lookup("error"))},l.block(function(){var e=this;return["\n          ",d.DIV({"class":"alert alert-danger"},function(){return Spacebars.mustache(e.lookup("error"))}),"\n        "]})),"\n        ",d.H3(function(){return Spacebars.mustache(e.lookup("t9n"),"forgotPassword")}),"\n        ",d.FORM({id:"forgotPassword"},"\n          ",d.DIV({"class":"form-group"},"\n            ",d.INPUT({type:"email",name:"forgottenEmail","class":"form-control",placeholder:function(){return Spacebars.mustache(e.lookup("t9n"),"emailAddress")},value:""}),"\n          "),"\n          ",d.BUTTON({type:"submit","class":"btn btn-default"},function(){return Spacebars.mustache(e.lookup("t9n"),"emailResetLink")}),"\n        "),"\n        ",l.If(function(){return Spacebars.call(e.lookup("showSignupCode"))},l.block(function(){var e=this;return["\n          ",d.P({"class":"entry-signup-cta"},function(){return Spacebars.mustache(e.lookup("t9n"),"dontHaveAnAccount")}," ",d.A({href:"/sign-up"},function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")})),"\n        "]})),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};a.entryForgotPassword.helpers({error:function(){return s.get("entryError")},logo:function(){return e.settings.logo}}),a.entryForgotPassword.events({"submit #forgotPassword":function(t){return t.preventDefault(),s.set("email",$('input[type="email"]').val()),0===s.get("email").length?(s.set("entryError","Email is required"),void 0):o.forgotPassword({email:s.get("email")},function(t){return t?s.set("entryError",t.reason):c.go(e.settings.homeRoute)})}})}.call(this),function(){a.__define__("entryResetPassword",function(){var e=this;return d.DIV({"class":"container"},"\n    ",d.DIV({"class":"row"},"\n      ",l.If(function(){return Spacebars.call(e.lookup("logo"))},l.block(function(){var e=this;return["\n        ",d.DIV({"class":"entry-logo"},"\n            ",d.A({href:"/"},d.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]})),"\n      ",d.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",l.If(function(){return Spacebars.call(e.lookup("error"))},l.block(function(){var e=this;return["\n          ",d.DIV({"class":"alert alert-danger"},function(){return Spacebars.mustache(e.lookup("error"))}),"\n        "]})),"\n        ",d.H3(function(){return Spacebars.mustache(e.lookup("t9n"),"resetYourPassword")}),"\n        ",d.FORM({id:"resetPassword"},d.Raw('\n          <div class="form-group">\n            <input type="password" name="new-password" class="form-control" value="">\n          </div>\n          '),d.BUTTON({type:"submit","class":"btn btn-default"},function(){return Spacebars.mustache(e.lookup("t9n"),"updateYourPassword")}),"\n        "),"\n        ",l.If(function(){return Spacebars.call(e.lookup("showSignupCode"))},l.block(function(){var e=this;return["\n          ",d.P({"class":"entry-signup-cta"},function(){return Spacebars.mustache(e.lookup("t9n"),"dontHaveAnAccount")}," ",d.A({href:"/sign-up"},function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")})),"\n        "]})),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};a.entryResetPassword.helpers({error:function(){return s.get("entryError")},logo:function(){return e.settings.logo}}),a.entryResetPassword.events({"submit #resetPassword":function(t){var n,r;return t.preventDefault(),n=$('input[type="password"]').val(),(r=function(e){var t,n;return t=[],n=!1,e.length<7&&t.push(t9n("error.minChar")),e.search(/[a-z]/i)<0&&t.push(t9n("error.pwOneLetter")),e.search(/[0-9]/)<0&&t.push(t9n("error.pwOneDigit")),t.length>0?(n="",t.forEach(function(e){return n=n.concat(""+e+"\r\n")}),s.set("entryError",n),!0):!1}(n))?void 0:o.resetPassword(s.get("resetToken"),n,function(t){return t?s.set("entryError",t.reason||"Unknown error"):(s.set("resetToken",null),c.go(e.settings.dashboardRoute))})}})}.call(this),function(){a.__define__("entrySocial",function(){var e=this;return d.BUTTON({"class":"btn",id:["entry-",function(){return Spacebars.mustache(e.lookup("."))}],name:function(){return Spacebars.mustache(e.lookup("."))}},"\n    ",l.If(function(){return Spacebars.call(e.lookup("unconfigured"))},l.block(function(){var e=this;return["\n      ",l.If(function(){return Spacebars.call(e.lookup("google"))},l.block(function(){var e=this;return["\n        ",d.I({"class":["fa fa-",function(){return Spacebars.mustache(e.lookup("."))},"-plus"]})," ",function(){return Spacebars.mustache(e.lookup("t9n"),"configure")}," ",function(){return Spacebars.mustache(e.lookup("capitalize"),e.lookup("."))},"\n      "]}),l.block(function(){var e=this;return["\n        ",d.I({"class":["fa fa-",function(){return Spacebars.mustache(e.lookup("."))}]})," ",function(){return Spacebars.mustache(e.lookup("t9n"),"configure")}," ",function(){return Spacebars.mustache(e.lookup("capitalize"),e.lookup("."))},"\n      "]})),"\n    "]}),l.block(function(){var e=this;return["\n      ",l.If(function(){return Spacebars.call(e.lookup("google"))
},l.block(function(){var e=this;return["\n        ",d.I({"class":["fa fa-",function(){return Spacebars.mustache(e.lookup("."))},"-plus"]})," ",function(){return Spacebars.mustache(e.lookup("t9n"),"sign")}," ",function(){return Spacebars.mustache(e.lookup("buttonText"))}," ",function(){return Spacebars.mustache(e.lookup("t9n"),"with")}," ",function(){return Spacebars.mustache(e.lookup("capitalize"),e.lookup("."))},"\n      "]}),l.block(function(){var e=this;return["\n        ",d.I({"class":["fa fa-",function(){return Spacebars.mustache(e.lookup("."))}]})," ",function(){return Spacebars.mustache(e.lookup("t9n"),"sign")}," ",function(){return Spacebars.mustache(e.lookup("buttonText"))}," ",function(){return Spacebars.mustache(e.lookup("t9n"),"with")}," ",function(){return Spacebars.mustache(e.lookup("capitalize"),e.lookup("."))},"\n      "]})),"\n    "]})),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};var i;a.entrySocial.helpers({buttonText:function(){return s.get("buttonText")},unconfigured:function(){return 0===o.loginServiceConfiguration.find({service:this.toString()}).fetch().length},google:function(){return"g"===this[0]&&"o"===this[1]?!0:void 0}}),a.entrySocial.events({"click .btn":function(t){var a,u,l,f;return t.preventDefault(),f=$(t.target).attr("id").split("-")[1],a=function(t){return t?t instanceof o.LoginCancelledError?void 0:t instanceof r.ConfigError?o._loginButtonsSession.configureService(f):o._loginButtonsSession.errorMessage(t.reason||t9n("error.unknown")):s.get("fromWhere")?(c.go(s.get("fromWhere")),s.set("fromWhere",void 0)):c.go(e.settings.dashboardRoute)},u=n["loginWith"+i(f)],l={},o.ui._options.requestPermissions[f]&&(l.requestPermissions=o.ui._options.requestPermissions[f]),o.ui._options.requestOfflineToken[f]&&(l.requestOfflineToken=o.ui._options.requestOfflineToken[f]),u(l,a)}}),i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){a.__define__("entryError",function(){var e=this;return l.If(function(){return Spacebars.call(e.lookup("error"))},l.block(function(){var e=this;return["\n  ",d.DIV({"class":"alert alert-danger"},function(){return Spacebars.mustache(e.lookup("error"))}),"\n  "]}))})}.call(this),function(){t="object"==typeof t?t:{};a.entryError.helpers({error:function(){return s.get("entryError")}})}.call(this),function(){a.__define__("entryAccountButtons",function(){var e=this;return l.If(function(){return Spacebars.call(e.lookup("currentUser"))},l.block(function(){var e=this;return["\n\n    ",l.If(function(){return Spacebars.call(e.lookup("profileUrl"))},l.block(function(){var e=this;return["\n      ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),l.block(function(){var e=this;return["\n        ",d.A({"class":"profileLink",href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignedInAs")))},function(){return Spacebars.mustache(e.lookup("signedInAs"))}),"\n      "]})),"\n    "]}),l.block(function(){var e=this;return["\n      ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),l.block(function(){var e=this;return["\n        ",d.P({"class":"navbar-text"},function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignedInAs")))},function(){return Spacebars.mustache(e.lookup("signedInAs"))}),"\n      "]})),"\n    "]})),"\n\n    ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),l.block(function(){var e=this;return["\n      ",d.A({href:"/sign-out"},function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignOut")))},function(){return Spacebars.mustache(e.lookup("t9n"),"signOut")}),"\n    "]})),"\n  "]}),l.block(function(){var e=this;return["\n\n    ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),l.block(function(){var e=this;return["\n      ",d.A({href:"/sign-in"},function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignIn")))},function(){return Spacebars.mustache(e.lookup("t9n"),"signIn")}),"\n    "]})),"\n\n    ",l.Unless(function(){return Spacebars.call(e.lookup("wrapLinks"))},l.block(function(){return["\n      ",d.SPAN("or"),"\n    "]})),"\n\n    ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),l.block(function(){var e=this;return["\n      ",d.A({href:function(){return Spacebars.mustache(e.lookup("entrySignUp"))}},function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignUp")))},function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")}),"\n    "]})),"\n  "]}))})}.call(this),function(){t="object"==typeof t?t:{};a.entryAccountButtons.helpers({profileUrl:function(){return e.settings.profileRoute?e.settings.profileRoute:!1},wrapLinksLi:function(){return e.settings.wrapLinks?a.wrapLinks:a.noWrapLinks},wrapLinks:function(){return e.settings.wrapLinks},beforeSignIn:function(){return e.settings.beforeSignIn},beforeSignUp:function(){return e.settings.beforeSignUp},beforeSignOut:function(){return e.settings.beforeSignOut},beforeSignedInAs:function(){return e.settings.beforeSignedInAs},entrySignUp:function(){return e.settings.entrySignUp}})}.call(this),function(){a.__define__("wrapLinks",function(){var e=this;return d.LI("\n  ",l.InTemplateScope(e,Spacebars.include(function(){return e.__content})),"\n")}),a.__define__("noWrapLinks",function(){var e=this;return l.InTemplateScope(e,Spacebars.include(function(){return e.__content}))})}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Sign In",signin:"sign in",signOut:"Sign Out",signUp:"Sign Up",OR:"OR",forgotPassword:"Forgot your password?",emailAddress:"Email Address",emailResetLink:"Email Reset Link",dontHaveAnAccount:"Don't have an account?",resetYourPassword:"Reset your password",updateYourPassword:"Update your password",password:"Password",usernameOrEmail:"Username or email",email:"Email",ifYouAlreadyHaveAnAccount:"If you already have an account",signUpWithYourEmailAddress:"Sign up with your email address",username:"Username",optional:"Optional",signupCode:"Signup Code",clickAgree:"By clicking Sign up, you agree to our",privacyPolicy:"Privacy Policy",terms:"Terms of Use",sign:"Sign",configure:"Configure","with":"with",createAccount:"Create an Account",and:"and","Match failed":"Match failed","User not found":"User not found",error:{minChar:"7 character minimum password.",pwOneLetter:"Password requires 1 letter.",pwOneDigit:"Password must have at least one digit.",usernameRequired:"Username is required.",emailRequired:"Email is required.",signupCodeRequired:"Signup code is required.",signupCodeIncorrect:"Signup code is incorrect.",signInRequired:"You must be signed in to do that.",usernameIsEmail:"Username cannot be an email address."}},u.map("en",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Se Connecter",signin:"se connecter",signOut:"Se Deconnecter",signUp:"S'enregistrer",OR:"OU",forgotPassword:"Vous avez oubli votre mot de passe ?",emailAddress:"Adresse Email",emailResetLink:"Adresse pour reinitialiser votre mot de passe",dontHaveAnAccount:"Vous n'avez pas de compte ?",resetYourPassword:"Reinitialiser votre mot de passe",updateYourPassword:"Mettre  jour le mot de passe",password:"Mot de passe",usernameOrEmail:"Nom d'utilisateur ou email",email:"Email",ifYouAlreadyHaveAnAccount:"Si vous avez dj un compte",signUpWithYourEmailAddress:"S'enregistrer avec votre adresse email",username:"Nom d'utilisateur",optional:"Optionnel",signupCode:"Code d'inscription",clickAgree:"En cliquant sur S'enregistrer, vous acceptez notre",privacyPolicy:"Politique de confidentialit",terms:"Conditions d'utilisation",sign:"S'enregistrer",configure:"Configurer","with":"avec",createAccount:"Crer un compte",and:"et",error:{minChar:"Votre mot de passe doit contenir au minimum 7 caractres.",pwOneLetter:"Votre mot de passe doit contenir au moins une lettre.",pwOneDigit:"Votre mot de passe doit contenir au moins un chiffre.",usernameRequired:"Un nom d'utilisateur est requis.",emailRequired:"Un email est requis.",signupCodeRequired:"Un code d'inscription est requis.",signupCodeIncorrect:"Le code d'enregistrement est incorrect.",signInRequired:"Vous devez tre connect pour continuer.",usernameIsEmail:"Le nom d'utilisateur ne peut tre le mme que l'adresse email."}},u.map("fr",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Anmelden",signin:"anmelden",signOut:"Abmelden",signUp:"Registrieren",OR:"ODER",forgotPassword:"Passwort vergessen?",emailAddress:"E-Mail Adresse",emailResetLink:"Senden",dontHaveAnAccount:"Noch kein Konto?",resetYourPassword:"Passwort zurcksetzen",updateYourPassword:"Passwort aktualisieren",password:"Passwort",usernameOrEmail:"Benutzername oder E-Mail",email:"E-Mail",ifYouAlreadyHaveAnAccount:"Falls Sie ein Konto haben, bitte hier",signUpWithYourEmailAddress:"Mit E-Mail registrieren",username:"Benutzername",optional:"Optional",signupCode:"Registrierungscode",clickAgree:"Durch die Registrierung akzeptieren Sie unsere",privacyPolicy:"Datenschutzerklrung",terms:"Geschftsbedingungen",sign:"Anmelden",configure:"Konfigurieren","with":"mit",createAccount:"Konto erzeugen",and:"und",error:{minChar:"Passwort muss mindesten 7 Zeichen lang sein.",pwOneLetter:"Passwort muss mindestens einen Buchstaben enthalten.",pwOneDigit:"Passwort muss mindestens eine Ziffer enthalten.",usernameRequired:"Benutzername bentigt.",emailRequired:"E-Mail bentigt.",signupCodeRequired:"Registrierungscode bentigt.",signupCodeIncorrect:"Registrierungscode ungltig.",signInRequired:"Sie mssen sich anmelden.",usernameIsEmail:"Benutzername kann nicht eine E-Mail."}},u.map("de",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Accedi",signin:"accedi",signOut:"Esci",signUp:"Registrati",OR:"OPPURE",forgotPassword:"Hai dimenticato la password?",emailAddress:"Indirizzo Email",emailResetLink:"Invia Link di Reset",dontHaveAnAccount:"Non hai un account?",resetYourPassword:"Reimposta la password",updateYourPassword:"Aggiorna la password",password:"Password",usernameOrEmail:"Nome utente o email",email:"Email",ifYouAlreadyHaveAnAccount:"Se hai gi un account",signUpWithYourEmailAddress:"Registrati con il tuo indirizzo email",username:"Username",optional:"Opzionale",signupCode:"Codice di Registrazione",clickAgree:"Cliccando Registrati, accetti la nostra",privacyPolicy:"Privacy Policy",terms:"Termini di Servizio",sign:"Accedi",configure:"Configura","with":"con",createAccount:"Crea un Account",and:"e","Match failed":"Riscontro fallito","User not found":"Utente non trovato",error:{minChar:"Password di almeno 7 caratteri.",pwOneLetter:"La Password deve contenere 1 lettera.",pwOneDigit:"La Password deve contenere almeno un numero.",usernameRequired:"Il Nome utente  obbligatorio.",emailRequired:"L'Email  obbligatoria.",signupCodeRequired:"Il Codice di Registrazione  obbligatorio.",signupCodeIncorrect:"Codice di Registrazione errato.",signInRequired:"Per fare questo devi accedere.",usernameIsEmail:"Il Nome Utente non pu essere un indirizzo email."}},u.map("it",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Zaloguj si",signin:"zaloguj si",signOut:"Wyloguj si",signUp:"Zarejestruj si",OR:"LUB",forgotPassword:"Zapomniae hasa?",emailAddress:"Adres email",emailResetLink:"Wylij email z linkiem do zmiany hasa",dontHaveAnAccount:"Nie masz konta?",resetYourPassword:"Ustaw nowe haso",updateYourPassword:"Zaktualizuj swoje haso",password:"Haso",usernameOrEmail:"Nazwa uytkownika lub email",email:"Email",ifYouAlreadyHaveAnAccount:"Jeeli ju masz konto",signUpWithYourEmailAddress:"Zarejestruj si uywajc adresu email",username:"Nazwa uytkownika",optional:"Nieobowizkowe",signupCode:"Kod rejestracji",clickAgree:"Klikajc na Zarejestruj si zgadzasz si z nasz",privacyPolicy:"polityk prywatnoci",terms:"warunkami korzystania z serwisu",sign:"Podpisz",configure:"Konfiguruj","with":"z",createAccount:"Utwrz konto",and:"i",error:{minChar:"7 znakw to minimalna dugo hasa.",pwOneLetter:"Haso musi zawiera 1 liter.",pwOneDigit:"Haso musi zawiera przynajmniej jedn cyfr.",usernameRequired:"Wymagana jest nazwa uytkownika.",emailRequired:"Wymagany jest adres email.",signupCodeRequired:"Wymagany jest kod rejestracji.",signupCodeIncorrect:"Kod rejestracji jest nieprawidowy.",signInRequired:"Musisz by zalogowany, aby to zrobi.",usernameIsEmail:"Nazwa uytkownika nie moe by adres e-mail."}},u.map("pl",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Entrar",signOut:"Salir",signUp:"Suscribir",OR:"O",forgotPassword:"Contrasea olvidada?",emailAddress:"Direccin de Email",emailResetLink:"Reiniciar Email",dontHaveAnAccount:"No tens una cuenta?",resetYourPassword:"Resetear tu contrasea",updateYourPassword:"Actualizar tu contrasea",password:"Contrasea",usernameOrEmail:"Usuario o email",email:"Email",ifYouAlreadyHaveAnAccount:"Si ya tens una cuenta",signUpWithYourEmailAddress:"Suscribir con tu email",username:"Usuario",optional:"Opcional",signupCode:"Codigo para suscribir",clickAgree:"Si haces clic en Sucribir estas de acuerdo con la",privacyPolicy:"Pliza de Privacidad",terms:"Terminos de Uso",sign:"Ingresar",configure:"Disposicin","with":"con",createAccount:"Crear cuenta",and:"y",error:{minChar:"7 carcteres mnimo.",pwOneLetter:"mnimo una letra.",pwOneDigit:"mnimo un dgito.",usernameRequired:"Usuario es necesario.",emailRequired:"Email es necesario.",signupCodeRequired:"Cdigo para suscribir es necesario.",signupCodeIncorrect:"Cdigo para suscribir no coincide.",signInRequired:"Debes iniciar sesin para hacer eso.",usernameIsEmail:"Usuario no puede ser Email."}},u.map("es",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Logga in",signin:"logga in",signOut:"Logga ut",signUp:"Skapa konto",OR:"ELLER",forgotPassword:"Glmt din e-postadress?",emailAddress:"E-postadress",emailResetLink:"E-post terstllningslnk",dontHaveAnAccount:"Har du inget konto?",resetYourPassword:"terstll ditt lsenord",updateYourPassword:"Uppdatera ditt lsenord",password:"Lsenord",usernameOrEmail:"Anvndarnamn eller e-postadress",email:"E-postadress",ifYouAlreadyHaveAnAccount:"Om du redan har ett konto",signUpWithYourEmailAddress:"Skapa ett konto med din e-postadress",username:"Anvndarnamn",optional:"Valfri",signupCode:"Registreringskod",clickAgree:"Nr du vljer att skapa ett konto s godknner du ocks vr",privacyPolicy:"integritetspolicy",terms:"anvndarvilkor",sign:"Logga",configure:"Konfigurera","with":"med",createAccount:"Skapa ett konto",and:"och","Match failed":"Matchning misslyckades","User not found":"Anvndaren hittades inte",error:{minChar:"Det krvs minst 7 tecken i ditt lsenord.",pwOneLetter:"Lsenordet mste ha minst 1 bokstav.",pwOneDigit:"Lsenordet mste ha minst 1 siffra.",usernameRequired:"Det krvs ett anvndarnamn.",emailRequired:"Det krvs ett lsenord.",signupCodeRequired:"Det krvs en registreringskod.",signupCodeIncorrect:"Registreringskoden r felaktig.",signInRequired:"Inloggning krvs hr.",usernameIsEmail:"Anvndarnamnet kan inte vara en e-postadress."}},u.map("sv",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Entrar",signin:"Entrar",signOut:"Sair",signUp:"Registrar",OR:"OU",forgotPassword:"Esqueceu sua senha?",emailAddress:"Endereo de e-mail",emailResetLink:"Gerar nova senha",dontHaveAnAccount:"No tem conta?",resetYourPassword:"Gerar nova senha",updateYourPassword:"Atualizar senha",password:"Senha",usernameOrEmail:"Usuario ou e-mail",email:"E-mail",ifYouAlreadyHaveAnAccount:"Se voc j tem uma conta",signUpWithYourEmailAddress:"Entre usando seu endereo de e-mail",username:"Nome de usurio",optional:"Opcional",signupCode:"Cdigo de acesso",clickAgree:"Ao clicar em Entrar, voc aceita nosso",privacyPolicy:"Poltica de Privacidade",terms:"Termos de Uso",sign:"Entrar",configure:"Configurar","with":"com",createAccount:"Criar Conta",and:"e","Match failed":"Usurio ou senha no encontrado","User not found":"Usurio no encontrado",error:{minChar:"Senha requer um mnimo de 7 caracteres.",pwOneLetter:"Senha deve conter pelo menos uma letra.",pwOneDigit:"Senha deve conter pelo menos um digito.",usernameRequired:"Nome de usurio  obrigatrio.",emailRequired:"E-mail  obrigatrio.",signupCodeRequired:" necessrio um cdigo de acesso.",signupCodeIncorrect:"Cdigo de acesso incorreto.",signInRequired:"Voc precisa estar logado para fazer isso.",usernameIsEmail:"Nome de usurio no pode ser um endereo de e-mail."}},u.map("pt",e)}.call(this),function(){t="object"==typeof t?t:{};c.map(function(){return this.route("entrySignIn",{path:"/sign-in",onBeforeAction:function(){return s.set("entryError",void 0),s.set("buttonText","in")},onRun:function(){var t,n;return e.settings.signInTemplate?(this.template=e.settings.signInTemplate,t=a.entrySignIn.rendered,n=a[this.template].rendered,a[this.template].rendered=n?function(){return t.call(this),n.call(this)}:t,a[this.template].events(e.entrySignInEvents),a[this.template].helpers(e.entrySignInHelpers)):void 0}}),this.route("entrySignUp",{path:"/sign-up",onBeforeAction:function(){return s.set("entryError",void 0),s.set("buttonText","up")},onRun:function(){var t,n;return e.settings.signUpTemplate?(this.template=e.settings.signUpTemplate,t=a.entrySignUp.rendered,n=a[this.template].rendered,a[this.template].rendered=n?function(){return t.call(this),n.call(this)}:t,a[this.template].events(e.entrySignUpEvents),a[this.template].helpers(e.entrySignUpHelpers)):void 0}}),this.route("entryForgotPassword",{path:"/forgot-password",onBeforeAction:function(){return s.set("entryError",void 0)}}),this.route("entrySignOut",{path:"/sign-out",onBeforeAction:function(t){return s.set("entryError",void 0),e.settings.homeRoute&&n.logout(function(){return c.go(e.settings.homeRoute)}),t()}}),this.route("entryResetPassword",{path:"reset-password/:resetToken",onBeforeAction:function(){return s.set("entryError",void 0),s.set("resetToken",this.params.resetToken)}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-entry"]={AccountsEntry:e}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.email={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.reststop2={}}(),function(){var e,t,n=Package.underscore._;(function(){t={}}).call(this),function(){!function(e,n){"use strict";function r(e,t){var n,r,o=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n]){if(r.test&&r.test(e))return!0;if(r.toLowerCase()===o)return!0}}var o=n.prototype.trim,i=n.prototype.trimRight,a=n.prototype.trimLeft,s=function(e){return 1*e||0},c=function(e,t){if(1>t)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},u=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+g.escapeRegExp(e)+"]"},f={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},d={};for(var p in f)d[f[p]]=p;d["'"]="#39";var h=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var t=c,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,o){var i,a,s,c,u,l,f,d=1,p=r.length,g="",m=[];for(a=0;p>a;a++)if(g=e(r[a]),"string"===g)m.push(r[a]);else if("array"===g){if(c=r[a],c[2])for(i=o[d],s=0;s<c[2].length;s++){if(!i.hasOwnProperty(c[2][s]))throw new Error(h('[_.sprintf] property "%s" does not exist',c[2][s]));i=i[c[2][s]]}else i=c[1]?o[c[1]]:o[d++];if(/[^s]/.test(c[8])&&"number"!=e(i))throw new Error(h("[_.sprintf] expecting number but found %s",e(i)));switch(c[8]){case"b":i=i.toString(2);break;case"c":i=n.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=c[7]?i.toExponential(c[7]):i.toExponential();break;case"f":i=c[7]?parseFloat(i).toFixed(c[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=n(i))&&c[7]?i.substring(0,c[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(c[8])&&c[3]&&i>=0?"+"+i:i,l=c[4]?"0"==c[4]?"0":c[4].charAt(1):" ",f=c[6]-n(i).length,u=c[6]?t(l,f):"",m.push(c[5]?i+u:u+i)}return m.join("")},r.cache={},r.parse=function(e){for(var t=e,n=[],r=[],o=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){o|=1;var i=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[_.sprintf] huh?");for(i.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))i.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw new Error("[_.sprintf] huh?");i.push(s[1])}n[2]=i}else o|=2;if(3===o)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},r}(),g={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":n(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":n(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,t){return null==e?[]:(e=n(e),t=~~t,t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])},clean:function(e){return g.strip(e).replace(/\s+/g," ")},count:function(e,t){if(null==e||null==t)return 0;e=n(e),t=n(t);for(var r=0,o=0,i=t.length;;){if(o=e.indexOf(t,o),-1===o)break;r++,o+=i}return r},chars:function(e){return null==e?[]:n(e).split("")},swapCase:function(e){return null==e?"":n(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":n(e).replace(/[&<>"']/g,function(e){return"&"+d[e]+";"})},unescapeHTML:function(e){return null==e?"":n(e).replace(/\&([^;]+);/g,function(e,t){var r;return t in f?f[t]:(r=t.match(/^#x([\da-fA-F]+)$/))?n.fromCharCode(parseInt(r[1],16)):(r=t.match(/^#(\d+)$/))?n.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return null==e?"":n(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var o=g.chars(e);return o.splice(~~t,~~n,r),o.join("")},insert:function(e,t,n){return g.splice(e,t,0,n)},include:function(e,t){return""===t?!0:null==e?!1:-1!==n(e).indexOf(t)},join:function(){var e=u.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:n(e).split("\n")},reverse:function(e){return g.chars(e).reverse().join("")},startsWith:function(e,t){return""===t?!0:null==e||null==t?!1:(e=n(e),t=n(t),e.length>=t.length&&e.slice(0,t.length)===t)},endsWith:function(e,t){return""===t?!0:null==e||null==t?!1:(e=n(e),t=n(t),e.length>=t.length&&e.slice(e.length-t.length)===t)},succ:function(e){return null==e?"":(e=n(e),e.slice(0,-1)+n.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":(e=n(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return g.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return g.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return g.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return g.titleize(n(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return g.capitalize(g.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,t){return null==e?"":!t&&o?o.call(e):(t=l(t),n(e).replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))},ltrim:function(e,t){return null==e?"":!t&&a?a.call(e):(t=l(t),n(e).replace(new RegExp("^"+t+"+"),""))},rtrim:function(e,t){return null==e?"":!t&&i?i.call(e):(t=l(t),n(e).replace(new RegExp(t+"+$"),""))},truncate:function(e,t,r){return null==e?"":(e=n(e),r=r||"...",t=~~t,e.length>t?e.slice(0,t)+r:e)},prune:function(e,t,r){if(null==e)return"";if(e=n(e),t=~~t,r=null!=r?n(r):"...",e.length<=t)return e;var o=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},i=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,o);return i=i.slice(i.length-2).match(/\w\w/)?i.replace(/\s*\S+$/,""):g.rtrim(i.slice(0,i.length-1)),(i+r).length>e.length?e:e.slice(0,i.length)+r},words:function(e,t){return g.isBlank(e)?[]:g.trim(e,t).split(t||/\s+/)},pad:function(e,t,r,o){e=null==e?"":n(e),t=~~t;var i=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",o){case"right":return i=t-e.length,e+c(r,i);case"both":return i=t-e.length,c(r,Math.ceil(i/2))+e+c(r,Math.floor(i/2));default:return i=t-e.length,c(r,i)+e}},lpad:function(e,t,n){return g.pad(e,t,n)},rpad:function(e,t,n){return g.pad(e,t,n,"right")},lrpad:function(e,t,n){return g.pad(e,t,n,"both")},sprintf:h,vsprintf:function(e,t){return t.unshift(e),h.apply(null,t)},toNumber:function(e,t){return e?(e=g.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?s(s(e).toFixed(~~t)):0/0):0},numberFormat:function(e,t,n,r){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),r="string"==typeof r?r:",";var o=e.split("."),i=o[0],a=o[1]?(n||".")+o[1]:"";return i.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+a},strRight:function(e,t){if(null==e)return"";e=n(e),t=null!=t?n(t):t;var r=t?e.indexOf(t):-1;return~r?e.slice(r+t.length,e.length):e},strRightBack:function(e,t){if(null==e)return"";e=n(e),t=null!=t?n(t):t;var r=t?e.lastIndexOf(t):-1;return~r?e.slice(r+t.length,e.length):e},strLeft:function(e,t){if(null==e)return"";e=n(e),t=null!=t?n(t):t;var r=t?e.indexOf(t):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(null==e)return"";e+="",t=null!=t?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var o=e.slice(),i=o.pop();return e.length>2&&r&&(n=g.rtrim(t)+n),o.length?o.join(t)+n+i:i},toSentenceSerial:function(){var e=u.call(arguments);return e[3]=!0,g.toSentence.apply(g,e)},slugify:function(e){if(null==e)return"";var t="",r="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",o=new RegExp(l(t),"g");return e=n(e).toLowerCase().replace(o,function(e){var n=t.indexOf(e);return r.charAt(n)||"-"}),g.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return g.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,t,r){if(null==e)return"";if(t=~~t,null==r)return c(n(e),t);for(var o=[];t>0;o[--t]=e);return o.join(r)},naturalCmp:function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=/(\.\d+)|(\d+)|(\D+)/g,o=n(e).toLowerCase().match(r),i=n(t).toLowerCase().match(r),a=Math.min(o.length,i.length),s=0;a>s;s++){var c=o[s],u=i[s];if(c!==u){var l=parseInt(c,10);if(!isNaN(l)){var f=parseInt(u,10);if(!isNaN(f)&&l-f)return l-f}return u>c?-1:1}}return o.length===i.length?o.length-i.length:t>e?-1:1},levenshtein:function(e,t){if(null==e&&null==t)return 0;if(null==e)return n(t).length;if(null==t)return n(e).length;e=n(e),t=n(t);for(var r,o,i=[],a=0;a<=t.length;a++)for(var s=0;s<=e.length;s++)o=a&&s?e.charAt(s-1)===t.charAt(a-1)?r:Math.min(i[s],i[s-1],r)+1:a+s,r=i[s],i[s]=o;return i.pop()},toBoolean:function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=g.trim(e),r(e,t||["true","1"])?!0:r(e,n||["false","0"])?!1:void 0)}};g.strip=g.trim,g.lstrip=g.ltrim,g.rstrip=g.rtrim,g.center=g.lrpad,g.rjust=g.lpad,g.ljust=g.rpad,g.contains=g.include,g.q=g.quote,g.toBool=g.toBoolean,"undefined"!=typeof t&&("undefined"!=typeof module&&module.exports&&(module.exports=g),t._s=g),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return g}),e._=e._||{},e._.string=e._.str=g}(this,String)}.call(this),function(){e=t._s,n.str=e,n.mixin(n.str.exports()),n.str.include("Underscore.string","string")}.call(this),"undefined"==typeof Package&&(Package={}),Package["underscore-string-latest"]={_s:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._;Package["underscore-string-latest"]._s}(function(){e="object"==typeof e?e:{};var r;r=this,this.Minimongoid=function(){function e(e,o){var i,a,s,c,u,l,f,d,p,h,g,m,v,b,y,_,w,k,S,T,C,x,E,I,P,A,M,D,L,O;for(null==e&&(e={}),null==o&&(o=null),e._id&&(this.id=this.constructor._object_id?e._id._str:e._id,this._id=this.id),P=this.constructor.has_and_belongs_to_many,b=0,k=P.length;k>b;b++)u=P[b],f=""+n.singularize(u.name)+"_ids",this[f]||(this[f]=[]);for(A=this.constructor.embeds_many,y=0,S=A.length;S>y;y++)s=A[y],this[I=s.name]||(this[I]=[]);this.constructor.embedded_in&&o&&(this[this.constructor.embedded_in]=o);for(d in e)v=e[d],d.match(/^_id/)||(d.match(/_id$/)&&v instanceof t.Collection.ObjectID?this[d]=v._str:(s=n.findWhere(this.constructor.embeds_many,{name:d}))?(a=s.class_name||n.classify(n.singularize(d)),this[d]=r[a].modelize(v,this)):this[d]=v);M=this.constructor.defaults;for(e in M)m=M[e],"undefined"==typeof this[e]&&(this[e]=m);for(g=this,D=this.constructor.belongs_to,_=0,T=D.length;T>_;_++)i=D[_],p=i.name,f=i.identifier||""+p+"_id",a=i.class_name||n.titleize(p),this[p]=function(e,t,n){return function(e){return null==e&&(e={}),r[n]&&g[t]?r[n].find(g[t],e):!1}}(p,f,a);for(L=this.constructor.has_many,w=0,C=L.length;C>w;w++)l=L[w],p=l.name,h={},(c=l.foreign_key)||(c=""+n.singularize(this.constructor.to_s().toLowerCase())+"_id"),h[c]=this.constructor._object_id?new t.Collection.ObjectID(this.id):this.id,a=l.class_name||n.titleize(n.singularize(p)),this[p]=function(e,t,o){return function(e,i){return null==e&&(e={}),null==i&&(i={}),e=n.extend(e,t),r[o]?r[o].where(e,i):void 0}}(p,h,a);for(O=this.constructor.has_and_belongs_to_many,E=0,x=O.length;x>E;E++)u=O[E],p=u.name,f=""+n.singularize(p)+"_ids",a=u.class_name||n.titleize(n.singularize(p)),this[p]=function(e,t,o){return function(e,i){return null==e&&(e={}),null==i&&(i={}),h={_id:{$in:g[t]}},e=n.extend(e,h),r[o]&&g[t]&&g[t].length?r[o].where(e,i):[]}}(p,f,a)}return e.prototype.id=void 0,e.prototype.errors=!1,e.prototype.r=function(e){return this.related(e)},e.prototype.related=function(e,o){var i,a,s,c,u,l,f,d,p,h,g,m,v,b,y;for(null==o&&(o={}),v=this.constructor.belongs_to,f=0,h=v.length;h>f;f++)if(i=v[f],e===i.name)return u=""+i.name+"_id",i.class_name||(i.class_name=n.titleize(i.name)),this[u]?r[i.class_name].find(this[u],o):!1;for(b=this.constructor.has_many,d=0,g=b.length;g>d;d++)if(c=b[d],e===c.name)return l={},(a=c.foreign_key)||(a=""+n.singularize(this.constructor.to_s().toLowerCase())+"_id"),l[a]=this.constructor._object_id?new t.Collection.ObjectID(this.id):this.id,c.class_name||(c.class_name=n.titleize(n.singularize(c.name))),r[c.class_name].where(l,o);for(y=this.constructor.has_and_belongs_to_many,p=0,m=y.length;m>p;p++)if(s=y[p],e===s.name)return u=""+n.singularize(s.name)+"_ids",s.class_name||(s.class_name=n.titleize(n.singularize(s.name))),this[u]&&this[u].length?r[s.class_name].where({_id:{$in:this[u]}},o):[];return console.warn("Method "+e+" does not exist for "+this.constructor.to_s()+".")},e.prototype.error=function(e,t){var n;return this.errors||(this.errors=[]),n={},n[e]=t,this.errors.push(n)},e.prototype.isValid=function(e){return null==e&&(e={}),this.validate(),!this.errors},e.prototype.validate=function(){return!0},e.prototype.save=function(e){var t,n;null==e&&(e={}),this.errors=!1;for(t in e)n=e[t],this[t]=n;return this.isValid()?(null!=this.id?this.constructor._collection.update(this.id,{$set:e}):this.id=this._id=this.constructor._collection.insert(e),this.constructor.after_save&&this.constructor.after_save(this),this):this},e.prototype.update=function(e){return this.save(e)},e.prototype.push=function(e){return this.constructor._collection.update(this.id,{$addToSet:e})},e.prototype.pull=function(e){return this.constructor._collection.update(this.id,{$pull:e})},e.prototype.del=function(e){var t;return t={},t[e]="",this.constructor._collection.update(this.id,{$unset:t})},e.prototype.destroy=function(){return null!=this.id?(this.constructor._collection.remove(this.id),this.id=this._id=null):void 0
},e.prototype.reload=function(){return null!=this.id?this.constructor.find(this.id):void 0},e._object_id=!1,e._collection=void 0,e._type=void 0,e._debug=!1,e.defaults=[],e.belongs_to=[],e.has_many=[],e.has_and_belongs_to_many=[],e.embedded_in=null,e.embeds_many=[],e.init=function(e,t){return null==t&&(t=null),new this(e,t)},e.to_s=function(){return this._collection?this._collection._name:"embedded"},e.create=function(e){var t;return e.createdAt||(e.createdAt=new Date),this.before_create&&(e=this.before_create(e)),t=this.init(e),t=t.save(e),t&&this.after_create?this.after_create(t):t},e.where=function(e,t){var r;return null==e&&(e={}),null==t&&(t={}),this._debug&&(console.info(" --- WHERE ---"),console.info("  "+n.singularize(n.classify(this.to_s()))+".where("+JSON.stringify(e)+(n.isEmpty(t)?"":","+JSON.stringify(t))+")")),r=this.modelize(this.find(e,t)),this._debug&&r&&console.info("  > found "+r.length),r},e.first=function(e,t){var r;return null==e&&(e={}),null==t&&(t={}),this._debug&&(console.info(" --- FIRST ---"),console.info("  "+n.singularize(n.classify(this.to_s()))+".first("+JSON.stringify(e)+(n.isEmpty(t)?"":","+JSON.stringify(t))+")")),(r=this._collection.findOne(e,t))?this.init(r):void 0},e.last=function(e,t){var n;return null==e&&(e={}),null==t&&(t={}),t.sort={createdAt:-1},(n=this._collection.findOne(e,t))?this.init(n):void 0},e.all=function(e){return this.where({},e)},e.find=function(e,r){return null==e&&(e={}),null==r&&(r={}),"object"!=typeof e?(this._object_id&&(e=new t.Collection.ObjectID(e)),this.first({_id:e},r)):e instanceof t.Collection.ObjectID?this.first({_id:e},r):(this._object_id&&(e&&e._id&&("string"==typeof e._id?e._id=new t.Collection.ObjectID(e._id):e._id.$in&&(e._id.$in=n.map_object_id(e._id.$in))),e&&e._ids&&(e._ids=n.map(e._ids,function(e){return new t.Collection.ObjectID(e)}))),this._collection.find(e,r))},e.count=function(e,t){return null==e&&(e={}),null==t&&(t={}),this.find(e,t).count()},e.destroyAll=function(e){return null==e&&(e={}),this._collection.remove(e)},e.modelize=function(e,t){var n;return null==t&&(t=null),n=this,e.map(function(e){return n.init(e,t)})},e}(),n.singularize=function(e){return e=e.replace(/s$/,"")}}).call(this),"undefined"==typeof Package&&(Package={}),Package.minimongoid={}}(),function(){var e,t,n,r,o,i,a=Package.meteor.Meteor,s=Package.underscore._;(function(){t=function(e,t){var n=500,r=function(e,t){return e.length>t?e.slice(0,t)+"...":e},o="failed ["+e+"]";return t&&(o+=" "+r(t.replace(/\n/g," "),n)),new Error(o)},n=function(e){var t=[];return s.each(e,function(e,n){t.length&&t.push("&"),t.push(r(n),"=",r(e))}),t.join("").replace(/%20/g,"+")},r=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},o=function(e,t,r,o){var i=e,a=t?t.slice(1):null;if("string"==typeof r&&(a=String(r)),o){a=a||"";var s=n(o);a&&s&&(a+="&"),a+=s}var c=i;return null!==a&&(c+="?"+a),c},i=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(s.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null},e={},e.get=function(){return e.call.apply(this,["GET"].concat(s.toArray(arguments)))},e.post=function(){return e.call.apply(this,["POST"].concat(s.toArray(arguments)))},e.put=function(){return e.call.apply(this,["PUT"].concat(s.toArray(arguments)))},e.del=function(){return e.call.apply(this,["DELETE"].concat(s.toArray(arguments)))}}).call(this),function(){e.call=function(e,r,c,u){if(u||"function"!=typeof c||(u=c,c=null),c=c||{},"function"!=typeof u)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var l={},f=c.content;c.data&&(f=JSON.stringify(c.data),l["Content-Type"]="application/json");var d,p;f||"GET"===e||"HEAD"===e?d=c.params:p=c.params;var h=/^(.*?)(\?.*)?$/.exec(r);if(r=o(h[1],h[2],c.query,d),c.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var g,m;if(c.auth){var v=c.auth.indexOf(":");if(0>v)throw new Error('auth option should be of the form "username:password"');g=c.auth.substring(0,v),m=c.auth.substring(v+1)}p&&(f=n(p)),s.extend(l,c.headers||{}),u=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(u),u=s.once(u);try{var b;if("undefined"!=typeof XMLHttpRequest)b=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");b=new ActiveXObject("Microsoft.XMLHttp")}b.open(e,r,!0,g,m);for(var y in l)b.setRequestHeader(y,l[y]);var _,w=!1;c.timeout&&(_=a.setTimeout(function(){w=!0,b.abort()},c.timeout)),b.onreadystatechange=function(){if(4===b.readyState)if(_&&a.clearTimeout(_),w)u(new Error("timeout"));else if(b.status){var e={};e.statusCode=b.status,e.content=b.responseText,e.headers={};var n=b.getAllResponseHeaders();""===n&&b.getResponseHeader("content-type")&&(n="content-type: "+b.getResponseHeader("content-type"));var r=n.split(/\r?\n/);s.each(r,function(t){var n=/^(.*?):(?:\s+)(.*)$/.exec(t);n&&3===n.length&&(e.headers[n[1].toLowerCase()]=n[2])}),i(e);var o=null;e.statusCode>=400&&(o=t(e.statusCode,e.content)),u(o,e)}else u(new Error("network"))},b.send(f)}catch(k){u(k)}}}.call(this),function(){a.http=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:e}}(),function(){Package.meteor.Meteor;(function(){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=l.normal,this.options.gfm&&(this.rules=this.options.tables?l.tables:l.gfm)}function t(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=f.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?f.breaks:f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function n(r,o){return r?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,o),n):new RegExp(e,t)}}function s(){}function c(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function u(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=c({},u.defaults,n||{});var a,s,l=n.highlight,f=0;try{a=e.lex(t,n)}catch(d){return i(d)}s=a.length;var p=function(){var e,t;try{e=r.parse(a,n)}catch(o){t=o}return n.highlight=l,t?i(t):i(null,e)};if(!l||l.length<3)return p();if(delete n.highlight,!s)return p();for(;f<a.length;f++)!function(e){return"code"!==e.type?--s||p():l(e.text,e.lang,function(t,n){return null==n||n===e.text?--s||p():(e.text=n,e.escaped=!0,--s||p(),void 0)})}(a[f])}else try{return n&&(n=c({},u.defaults,n)),r.parse(e.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+o(d.message+"",!0)+"</pre>";throw d}}var l={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};l.bullet=/(?:[*+-]|\d+\.)/,l.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,l.item=a(l.item,"gm")(/bull/g,l.bullet)(),l.list=a(l.list)(/bull/g,l.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+l.def.source+")")(),l.blockquote=a(l.blockquote)("def",l.def)(),l._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",l.html=a(l.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,l._tag)(),l.paragraph=a(l.paragraph)("hr",l.hr)("heading",l.heading)("lheading",l.lheading)("blockquote",l.blockquote)("tag","<"+l._tag)("def",l.def)(),l.normal=c({},l),l.gfm=c({},l.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),l.gfm.paragraph=a(l.paragraph)("(?!","(?!"+l.gfm.fences.source.replace("\\1","\\2")+"|"+l.list.source.replace("\\1","\\3")+"|")(),l.tables=c({},l.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=l,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,o,i,a,s,c,u,f,d,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),c={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},f=0;f<c.align.length;f++)c.align[f]=/^ *-+: *$/.test(c.align[f])?"right":/^ *:-+: *$/.test(c.align[f])?"center":/^ *:-+ *$/.test(c.align[f])?"left":null;for(f=0;f<c.cells.length;f++)c.cells[f]=c.cells[f].split(/ *\| */);this.tokens.push(c)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),a=i[2],this.tokens.push({type:"list_start",ordered:a.length>1}),i=i[0].match(this.rules.item),r=!1,d=i.length,f=0;d>f;f++)c=i[f],u=c.length,c=c.replace(/^ *([*+-]|\d+\.) +/,""),~c.indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&f!==d-1&&(s=l.bullet.exec(i[f+1])[0],a===s||a.length>1&&s.length>1||(e=i.slice(f+1).join("\n")+e,f=d-1)),o=r||/\n\n(?!\s*$)/.test(c),f!==d-1&&(r="\n"===c.charAt(c.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(c,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),c={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},f=0;f<c.align.length;f++)c.align[f]=/^ *-+: *$/.test(c.align[f])?"right":/^ *:-+: *$/.test(c.align[f])?"center":/^ *:-+ *$/.test(c.align[f])?"left":null;for(f=0;f<c.cells.length;f++)c.cells[f]=c.cells[f].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,f._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,f.link=a(f.link)("inside",f._inside)("href",f._href)(),f.reflink=a(f.reflink)("inside",f._inside)(),f.normal=c({},f),f.pedantic=c({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=c({},f.normal,{escape:a(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=c({},f.gfm,{br:a(f.br)("{2,}","*")(),text:a(f.gfm.text)("{2,}","*")()}),t.rules=f,t.output=function(e,n,r){var o=new t(n,r);return o.output(e)},t.prototype.output=function(e){for(var t,n,r,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=o(i[1]),r=n),a+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?o(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(o(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=o(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=o(i[1]),r=n,a+=this.renderer.link(r,null,n);return a},t.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},t.prototype.mangle=function(e){for(var t,n="",r=e.length,o=0;r>o;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===r.indexOf("javascript:"))return""}var a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.parse=function(e,t,n){var o=new r(t,n);return o.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o,i="",a="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",o=0;o<t.length;o++)n+=this.renderer.tablecell(this.inline.output(t[o]),{header:!1,align:this.token.align[o]});a+=this.renderer.tablerow(n)}return this.renderer.table(i,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var c=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(c);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,u.options=u.setOptions=function(e){return c(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},u.Parser=r,u.parser=r.parse,u.Renderer=n,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=t,u.inlineLexer=t.output,u.parse=u,"object"==typeof exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this),function(){if(Package.ui){var e=Package.ui.UI,t=Package.htmljs.HTML;Package.ui.UI.registerHelper("markdown",e.block(function(){var n=this;return function(){var r=e.toRawText(n.__content,n);return t.Raw(marked(r))}}))}}.call(this),"undefined"==typeof Package&&(Package={}),Package.marked={}}(),function(){{var e;Package.meteor.Meteor}(function(){(function(e){function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){function n(){ct.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var r=!0;return c(function(){return r&&(n(),r=!1),t.apply(this,arguments)},t)}function r(e,t){return function(n){return f(e.call(this,n),t)}}function o(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function a(e){T(e),c(this,e)}function s(e){var t=v(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*u+6e4*c+36e5*s,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._bubble()}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&kt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function l(e){return 0>e?Math.ceil(e):Math.floor(e)}function f(e,t,n){for(var r=""+Math.abs(e),o=e>=0;r.length<t;)r="0"+r;return(o?n?"+":"":"-")+r}function d(e,t,n,r){var o=t._milliseconds,i=t._days,a=t._months;r=null==r?!0:r,o&&e._d.setTime(+e._d+o*n),i&&rt(e,"Date",nt(e,"Date")+i*n),a&&tt(e,nt(e,"Month")+a*n),r&&ct.updateOffset(e,i||a)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;o>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&a++;return a+i}function m(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Qt[e]||Kt[t]||t}return e}function v(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=m(n),t&&(r[t]=e[n]));return r}function b(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}ct[t]=function(o,i){var a,s,c=ct.fn._lang[t],u=[];if("number"==typeof o&&(i=o,o=e),s=function(e){var t=ct().utc().set(r,e);return c.call(ct.fn._lang,t,o||"")},null!=i)return s(i);for(a=0;n>a;a++)u.push(s(a));return u}}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function _(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function w(e,t,n){return K(ct([e,11,31+t-n]),t,n).week}function k(e){return S(e)?366:365}function S(e){return e%4===0&&e%100!==0||e%400===0}function T(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[gt]<0||e._a[gt]>11?gt:e._a[mt]<1||e._a[mt]>_(e._a[ht],e._a[gt])?mt:e._a[vt]<0||e._a[vt]>23?vt:e._a[bt]<0||e._a[bt]>59?bt:e._a[yt]<0||e._a[yt]>59?yt:e._a[_t]<0||e._a[_t]>999?_t:-1,e._pf._overflowDayOfYear&&(ht>t||t>mt)&&(t=mt),e._pf.overflow=t)}function C(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function x(e){return e?e.toLowerCase().replace("_","-"):e}function E(e,t){return t._isUTC?ct(e).zone(t._offset||0):ct(e).local()}function I(e,t){return t.abbr=e,wt[e]||(wt[e]=new i),wt[e].set(t),wt[e]}function P(e){delete wt[e]}function A(e){var t,n,r,o,i=0,a=function(e){if(!wt[e]&&St)try{require("./lang/"+e)}catch(t){}return wt[e]};if(!e)return ct.fn._lang;if(!p(e)){if(n=a(e))return n;e=[e]}for(;i<e.length;){for(o=x(e[i]).split("-"),t=o.length,r=x(e[i+1]),r=r?r.split("-"):null;t>0;){if(n=a(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&g(o,r,!0)>=t-1)break;t--}i++}return ct.fn._lang}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function D(e){var t,n,r=e.match(Et);for(t=0,n=r.length;n>t;t++)r[t]=nn[r[t]]?nn[r[t]]:M(r[t]);return function(o){var i="";for(t=0;n>t;t++)i+=r[t]instanceof Function?r[t].call(o,e):r[t];return i}}function L(e,t){return e.isValid()?(t=O(t,e.lang()),Zt[t]||(Zt[t]=D(t)),Zt[t](e)):e.lang().invalidDate()}function O(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(It.lastIndex=0;r>=0&&It.test(e);)e=e.replace(It,n),It.lastIndex=0,r-=1;return e}function N(e,t){var n,r=t._strict;switch(e){case"Q":return Ht;case"DDDD":return Ft;case"YYYY":case"GGGG":case"gggg":return r?Ut:Mt;case"Y":case"G":case"g":return zt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?qt:Dt;case"S":if(r)return Ht;case"SS":if(r)return Bt;case"SSS":if(r)return Ft;case"DDD":return At;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ot;case"a":case"A":return A(t._l)._meridiemParse;case"X":return $t;case"Z":case"ZZ":return Nt;case"T":return Rt;case"SSSS":return Lt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Bt:Pt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pt;case"Do":return jt;default:return n=new RegExp(q(U(e.replace("\\","")),"i"))}}function R(e){e=e||"";var t=e.match(Nt)||[],n=t[t.length-1]||[],r=(n+"").match(Jt)||["-",0,0],o=+(60*r[1])+y(r[2]);return"+"===r[0]?-o:o}function $(e,t,n){var r,o=n._a;switch(e){case"Q":null!=t&&(o[gt]=3*(y(t)-1));break;case"M":case"MM":null!=t&&(o[gt]=y(t)-1);break;case"MMM":case"MMMM":r=A(n._l).monthsParse(t),null!=r?o[gt]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[mt]=y(t));break;case"Do":null!=t&&(o[mt]=y(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=y(t));break;case"YY":o[ht]=ct.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[ht]=y(t);break;case"a":case"A":n._isPm=A(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[vt]=y(t);break;case"m":case"mm":o[bt]=y(t);break;case"s":case"ss":o[yt]=y(t);break;case"S":case"SS":case"SSS":case"SSSS":o[_t]=y(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=R(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function j(e){var t,n,r,o,i,a,s,c,u,l,f=[];if(!e._d){for(r=B(e),e._w&&null==e._a[mt]&&null==e._a[gt]&&(i=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[ht]?ct().weekYear():e._a[ht]},a=e._w,null!=a.GG||null!=a.W||null!=a.E?s=Z(i(a.GG),a.W||1,a.E,4,1):(c=A(e._l),u=null!=a.d?J(a.d,c):null!=a.e?parseInt(a.e,10)+c._week.dow:0,l=parseInt(a.w,10)||1,null!=a.d&&u<c._week.dow&&l++,s=Z(i(a.gg),l,u,c._week.doy,c._week.dow)),e._a[ht]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(o=null==e._a[ht]?r[ht]:e._a[ht],e._dayOfYear>k(o)&&(e._pf._overflowDayOfYear=!0),n=G(o,0,e._dayOfYear),e._a[gt]=n.getUTCMonth(),e._a[mt]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=f[t]=r[t];for(;7>t;t++)e._a[t]=f[t]=null==e._a[t]?2===t?1:0:e._a[t];f[vt]+=y((e._tzm||0)/60),f[bt]+=y((e._tzm||0)%60),e._d=(e._useUTC?G:Y).apply(null,f)}}function H(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],j(e))}function B(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function F(e){e._a=[],e._pf.empty=!0;var t,n,r,o,i,a=A(e._l),s=""+e._i,c=s.length,u=0;for(r=O(e._f,a).match(Et)||[],t=0;t<r.length;t++)o=r[t],n=(s.match(N(o,e))||[])[0],n&&(i=s.substr(0,s.indexOf(n)),i.length>0&&e._pf.unusedInput.push(i),s=s.slice(s.indexOf(n)+n.length),u+=n.length),nn[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),$(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=c-u,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[vt]<12&&(e._a[vt]+=12),e._isPm===!1&&12===e._a[vt]&&(e._a[vt]=0),j(e),T(e)}function U(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o})}function q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e){var n,r,o,i,a;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(i=0;i<e._f.length;i++)a=0,n=c({},e),n._pf=t(),n._f=e._f[i],F(n),C(n)&&(a+=n._pf.charsLeftOver,a+=10*n._pf.unusedTokens.length,n._pf.score=a,(null==o||o>a)&&(o=a,r=n));c(e,r||n)}function V(e){var t,n,r=e._i,o=Vt.exec(r);if(o){for(e._pf.iso=!0,t=0,n=Yt.length;n>t;t++)if(Yt[t][1].exec(r)){e._f=Yt[t][0]+(o[6]||" ");break}for(t=0,n=Gt.length;n>t;t++)if(Gt[t][1].exec(r)){e._f+=Gt[t][0];break}r.match(Nt)&&(e._f+="Z"),F(e)}else ct.createFromInputFallback(e)}function W(t){var n=t._i,r=Tt.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?V(t):p(n)?(t._a=n.slice(0),j(t)):h(n)?t._d=new Date(+n):"object"==typeof n?H(t):"number"==typeof n?t._d=new Date(n):ct.createFromInputFallback(t)}function Y(e,t,n,r,o,i,a){var s=new Date(e,t,n,r,o,i,a);return 1970>e&&s.setFullYear(e),s}function G(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function J(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function X(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Q(e,t,n){var r=pt(Math.abs(e)/1e3),o=pt(r/60),i=pt(o/60),a=pt(i/24),s=pt(a/365),c=45>r&&["s",r]||1===o&&["m"]||45>o&&["mm",o]||1===i&&["h"]||22>i&&["hh",i]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",pt(a/30)]||1===s&&["y"]||["yy",s];return c[2]=t,c[3]=e>0,c[4]=n,X.apply({},c)}function K(e,t,n){var r,o=n-t,i=n-e.day();return i>o&&(i-=7),o-7>i&&(i+=7),r=ct(e).add("d",i),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function Z(e,t,n,r,o){var i,a,s=G(e,0,1).getUTCDay();return n=null!=n?n:o,i=o-s+(s>r?7:0)-(o>s?7:0),a=7*(t-1)+(n-o)+i+1,{year:a>0?e:e-1,dayOfYear:a>0?a:k(e-1)+a}}function et(t){var n=t._i,r=t._f;return null===n||r===e&&""===n?ct.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=A().preparse(n)),ct.isMoment(n)?(t=u(n),t._d=new Date(+n._d)):r?p(r)?z(t):F(t):W(t),new a(t))}function tt(e,t){var n;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),_(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function nt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function rt(e,t,n){return"Month"===t?tt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ot(e,t){return function(n){return null!=n?(rt(this,e,n),ct.updateOffset(this,t),this):nt(this,e)}}function it(e){ct.duration.fn[e]=function(){return this._data[e]}}function at(e,t){ct.duration.fn["as"+e]=function(){return+this/t}}function st(e){"undefined"==typeof ender&&(ut=dt.moment,dt.moment=e?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ct):ct)
}for(var ct,ut,lt,ft="2.6.0",dt="undefined"!=typeof global?global:this,pt=Math.round,ht=0,gt=1,mt=2,vt=3,bt=4,yt=5,_t=6,wt={},kt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},St="undefined"!=typeof module&&module.exports,Tt=/^\/?Date\((\-?\d+)/i,Ct=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Et=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,It=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Pt=/\d\d?/,At=/\d{1,3}/,Mt=/\d{1,4}/,Dt=/[+\-]?\d{1,6}/,Lt=/\d+/,Ot=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Nt=/Z|[\+\-]\d\d:?\d\d/gi,Rt=/T/i,$t=/[\+\-]?\d+(\.\d{1,3})?/,jt=/\d{1,2}/,Ht=/\d/,Bt=/\d\d/,Ft=/\d{3}/,Ut=/\d{4}/,qt=/[+-]?\d{6}/,zt=/[+-]?\d+/,Vt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wt="YYYY-MM-DDTHH:mm:ssZ",Yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Gt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Jt=/([\+\-]|\d\d)/gi,Xt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Kt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Zt={},en="DDD w W M D d".split(" "),tn="M D H h m s w W".split(" "),nn={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+f(Math.abs(e),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return y(this.milliseconds()/100)},SS:function(){return f(y(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+f(y(e/60),2)+":"+f(y(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+f(y(e/60),2)+f(y(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];en.length;)lt=en.pop(),nn[lt+"o"]=o(nn[lt],lt);for(;tn.length;)lt=tn.pop(),nn[lt+lt]=r(nn[lt],2);for(nn.DDDD=r(nn.DDD,3),c(i.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=ct.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ct([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return K(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ct=function(n,r,o,i){var a;return"boolean"==typeof o&&(i=o,o=e),a={},a._isAMomentObject=!0,a._i=n,a._f=r,a._l=o,a._strict=i,a._isUTC=!1,a._pf=t(),et(a)},ct.suppressDeprecationWarnings=!1,ct.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ct.utc=function(n,r,o,i){var a;return"boolean"==typeof o&&(i=o,o=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=o,a._i=n,a._f=r,a._strict=i,a._pf=t(),et(a).utc()},ct.unix=function(e){return ct(1e3*e)},ct.duration=function(e,t){var n,r,o,i=e,a=null;return ct.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(a=Ct.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:y(a[mt])*n,h:y(a[vt])*n,m:y(a[bt])*n,s:y(a[yt])*n,ms:y(a[_t])*n}):(a=xt.exec(e))&&(n="-"===a[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},i={y:o(a[2]),M:o(a[3]),d:o(a[4]),h:o(a[5]),m:o(a[6]),s:o(a[7]),w:o(a[8])}),r=new s(i),ct.isDuration(e)&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},ct.version=ft,ct.defaultFormat=Wt,ct.momentProperties=kt,ct.updateOffset=function(){},ct.lang=function(e,t){var n;return e?(t?I(x(e),t):null===t?(P(e),e="en"):wt[e]||A(e),n=ct.duration.fn._lang=ct.fn._lang=A(e),n._abbr):ct.fn._lang._abbr},ct.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),A(e)},ct.isMoment=function(e){return e instanceof a||null!=e&&e.hasOwnProperty("_isAMomentObject")},ct.isDuration=function(e){return e instanceof s},lt=rn.length-1;lt>=0;--lt)b(rn[lt]);ct.normalizeUnits=function(e){return m(e)},ct.invalid=function(e){var t=ct.utc(0/0);return null!=e?c(t._pf,e):t._pf.userInvalidated=!0,t},ct.parseZone=function(){return ct.apply(null,arguments).parseZone()},ct.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)},c(ct.fn=a.prototype,{clone:function(){return ct(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ct(this).utc();return 0<e.year()&&e.year()<=9999?L(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return C(this)},isDSTShifted:function(){return this._a?this.isValid()&&g(this._a,(this._isUTC?ct.utc(this._a):ct(this._a)).toArray())>0:!1},parsingFlags:function(){return c({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=L(this,e||ct.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?ct.duration(+t,e):ct.duration(e,t),d(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?ct.duration(+t,e):ct.duration(e,t),d(this,n,-1),this},diff:function(e,t,n){var r,o,i=E(e,this),a=6e4*(this.zone()-i.zone());return t=m(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+i.daysInMonth()),o=12*(this.year()-i.year())+(this.month()-i.month()),o+=(this-ct(this).startOf("month")-(i-ct(i).startOf("month")))/r,o-=6e4*(this.zone()-ct(this).startOf("month").zone()-(i.zone()-ct(i).startOf("month").zone()))/r,"year"===t&&(o/=12)):(r=this-i,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?o:l(o)},from:function(e,t){return ct.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ct(),e)},calendar:function(){var e=E(ct(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return S(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=J(e,this.lang()),this.add({d:e-t})):t},month:ot("Month",!0),startOf:function(e){switch(e=m(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=m(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ct(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ct(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+E(e,this).startOf(t)},min:function(e){return e=ct.apply(null,arguments),this>e?this:e},max:function(e){return e=ct.apply(null,arguments),e>this?this:e},zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=R(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?d(this,ct.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ct.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ct(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return _(this.year(),this.month())},dayOfYear:function(e){var t=pt((ct(this).startOf("day")-ct(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=K(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=K(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=K(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return w(this.year(),e.dow,e.doy)},get:function(e){return e=m(e),this[e]()},set:function(e,t){return e=m(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=A(t),this)}}),ct.fn.millisecond=ct.fn.milliseconds=ot("Milliseconds",!1),ct.fn.second=ct.fn.seconds=ot("Seconds",!1),ct.fn.minute=ct.fn.minutes=ot("Minutes",!1),ct.fn.hour=ct.fn.hours=ot("Hours",!0),ct.fn.date=ot("Date",!0),ct.fn.dates=n("dates accessor is deprecated. Use date instead.",ot("Date",!0)),ct.fn.year=ot("FullYear",!0),ct.fn.years=n("years accessor is deprecated. Use year instead.",ot("FullYear",!0)),ct.fn.days=ct.fn.day,ct.fn.months=ct.fn.month,ct.fn.weeks=ct.fn.week,ct.fn.isoWeeks=ct.fn.isoWeek,ct.fn.quarters=ct.fn.quarter,ct.fn.toJSON=ct.fn.toISOString,c(ct.duration.fn=s.prototype,{_bubble:function(){var e,t,n,r,o=this._milliseconds,i=this._days,a=this._months,s=this._data;s.milliseconds=o%1e3,e=l(o/1e3),s.seconds=e%60,t=l(e/60),s.minutes=t%60,n=l(t/60),s.hours=n%24,i+=l(n/24),s.days=i%30,a+=l(i/30),s.months=a%12,r=l(a/12),s.years=r},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},humanize:function(e){var t=+this,n=Q(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=ct.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ct.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=m(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=m(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ct.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),o=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||o||i?"T":"")+(r?r+"H":"")+(o?o+"M":"")+(i?i+"S":""):"P0D"}});for(lt in Xt)Xt.hasOwnProperty(lt)&&(at(lt,Xt[lt]),it(lt.toLowerCase()));at("Weeks",6048e5),ct.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ct.lang("en",{ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),St?module.exports=ct:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(dt.moment=ut),ct}),st(!0)):st()}).call(this)}).call(this),function(){"undefined"!=typeof Package&&(e=this.moment)}.call(this),"undefined"==typeof Package&&(Package={}),Package.moment={moment:e}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.canonical={}}(),function(){Package.meteor.Meteor,Package.templating.Template,Package.underscore._,Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML;"undefined"==typeof Package&&(Package={}),Package.spiderable={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.phantomjs={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.ui.UI,o=Package.ui.Handlebars,i=Package.deps.Deps;Package.htmljs.HTML}(function(){var a={},s="en",c="",u=new i.Dependency,l="",f=!1;e=function(e){return u.depend(),"string"!=typeof e?"":a[c]&&a[c][e]||a[s]&&a[s][e]||f&&n.template(l,{language:c,defaultLanguage:s,label:e})||""},t.isClient&&(r?r.registerHelper("i18n",function(t){return e(t)}):o&&o.registerHelper("i18n",function(t){return e(t)})),e.setLanguage=function(e){c=e,u.changed()},e.setDefaultLanguage=function(e){s=e,u.changed()},e.getLanguage=function(){return u.depend(),c},e.showMissing=function(e){e?(l="string"==typeof e?e:"[<%= label %>]",f=!0):(l="",f=!1)},e.map=function(e,t){a[e]||(a[e]={}),d(e,"",!1,t),u.changed()};var d=function(e,t,r,o){"string"==typeof o?a[e][t]=o:"object"==typeof o&&(r&&(t+="."),n.each(o,function(n,r){d(e,t+r,!0,n)}))}}).call(this),"undefined"==typeof Package&&(Package={}),Package["just-i18n"]={i18n:e}}(),function(){var e=Package.meteor.Meteor,t=Package.templating.Template,n=Package.jquery.$,r=(Package.jquery.jQuery,Package.underscore._),o=Package["just-i18n"].i18n,i=Package.ui.UI,a=(Package.ui.Handlebars,Package.htmljs.HTML);(function(){t.__define__("reactiveTable",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("generateSettings"))},i.block(function(){var e=this;return["\n    ",i.If(function(){return Spacebars.call(e.lookup("showFilter"))},i.block(function(){var e=this;return["\n      ",a.DIV({"class":"reactive-table-filter","reactive-table-group":function(){return Spacebars.mustache(e.lookup("group"))}},"\n        ",a.DIV({"class":"input-group col-sm-4 col-sm-offset-8"},"\n          ",a.SPAN({"class":"input-group-addon"},"\n            ",i.If(function(){return Spacebars.call(e.lookup("useFontAwesome"))},i.block(function(){return["\n              ",a.I({"class":"fa fa-filter"}),"\n            "]}),i.block(function(){var e=this;return["\n              ",function(){return Spacebars.mustache(e.lookup("i18n"),"reactiveTable.filter")},"\n            "]})),"\n          "),"\n          ",i.If(function(){return Spacebars.call(e.lookup("useFontAwesome"))},i.block(function(){var e=this;return["\n	        ",a.INPUT({"class":"form-control",type:"text",value:function(){return Spacebars.mustache(e.lookup("filter"))},placeholder:function(){return Spacebars.mustache(e.lookup("i18n"),"reactiveTable.filter")}}),"\n          "]}),i.block(function(){var e=this;return["\n	        ",a.INPUT({"class":"form-control",type:"text",value:function(){return Spacebars.mustache(e.lookup("filter"))}}),"\n          "]})),"\n        "),"\n      "),"\n    "]})),"\n    ",a.TABLE({"class":"table table-striped table-hover reactive-table","reactive-table-group":function(){return Spacebars.mustache(e.lookup("group"))}},"\n      ",a.THEAD("\n        ",a.TR("\n          ",i.Each(function(){return Spacebars.call(e.lookup("fields"))},i.block(function(){var e=this;return["\n            ",i.If(function(){return Spacebars.dataMustache(e.lookup("isSortKey"),e.lookup("."),Spacebars.dot(e.lookup(".."),"group"),Spacebars.dot(e.lookup(".."),"fields"))},i.block(function(){var e=this;return["\n              ",a.TH({"class":[function(){return Spacebars.mustache(e.lookup("getKey"))}," sortable"],index:function(){return Spacebars.mustache(e.lookup("getFieldIndex"),Spacebars.dot(e.lookup(".."),"fields"))}},"\n                ",function(){return Spacebars.mustache(e.lookup("getLabel"))},a.CharRef({html:"&nbsp;",str:""}),a.CharRef({html:"&nbsp;",str:""}),"\n                ",i.If(function(){return Spacebars.dataMustache(e.lookup("isAscending"),Spacebars.dot(e.lookup(".."),"group"))},i.block(function(){var e=this;return["\n                  ",i.If(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"useFontAwesome"))},i.block(function(){return["\n                    ",a.I({"class":"fa fa-sort-asc"}),"\n                  "]}),i.block(function(){return["\n                    ",a.CharRef({html:"&#x25BC;",str:""}),"\n                  "]})),"\n                "]}),i.block(function(){var e=this;return["\n                  ",i.If(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"useFontAwesome"))},i.block(function(){return["\n                    ",a.I({"class":"fa fa-sort-desc"}),"\n                  "]}),i.block(function(){return["\n                    ",a.CharRef({html:"&#x25B2;",str:""}),"\n                  "]})),"\n                "]})),"\n              "),"\n            "]}),i.block(function(){var e=this;return["\n              ",i.If(function(){return Spacebars.call(e.lookup("isSortable"))},i.block(function(){var e=this;return["\n                ",a.TH({"class":[function(){return Spacebars.mustache(e.lookup("getKey"))}," sortable"],index:function(){return Spacebars.mustache(e.lookup("getFieldIndex"),Spacebars.dot(e.lookup(".."),"fields"))}},function(){return Spacebars.mustache(e.lookup("getLabel"))}),"\n              "]}),i.block(function(){var e=this;return["\n                ",a.TH({"class":function(){return Spacebars.mustache(e.lookup("getKey"))},index:function(){return Spacebars.mustache(e.lookup("getFieldIndex"),Spacebars.dot(e.lookup(".."),"fields"))}},function(){return Spacebars.mustache(e.lookup("getLabel"))}),"\n              "]})),"\n            "]})),"\n          "]})),"\n        "),"\n      "),"\n      ",a.TBODY("\n        ",i.Each(function(){return Spacebars.call(e.lookup("sortedRows"))},i.block(function(){var e=this;return["\n          ",a.TR("\n            ",i.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"fields"))},i.block(function(){var e=this;return["\n              ",a.TD({"class":function(){return Spacebars.mustache(e.lookup("key"))}},i.If(function(){return Spacebars.call(e.lookup("tmpl"))},i.block(function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup(".."))},i.block(function(){var e=this;return Spacebars.include(function(){return Spacebars.dot(e.lookup(".."),"tmpl")})}))}),i.block(function(){var e=this;return function(){return Spacebars.mustache(e.lookup("getField"),e.lookup(".."))}}))),"\n            "]})),"\n          "),"\n        "]})),"\n      "),"\n    "),"\n    ",i.If(function(){return Spacebars.call(e.lookup("showNavigation"))},i.block(function(){var e=this;return["\n      ",a.DIV({"class":"reactive-table-navigation","reactive-table-group":function(){return Spacebars.mustache(e.lookup("group"))}},"\n        ",a.DIV({"class":"form-inline form-group rows-per-page"},"\n          ",a.LABEL(function(){return Spacebars.mustache(e.lookup("i18n"),"reactiveTable.show")},a.CharRef({html:"&nbsp;",str:""}),a.INPUT({"class":"form-control",type:"text",value:function(){return Spacebars.mustache(e.lookup("getRowsPerPage"))}}),a.CharRef({html:"&nbsp;",str:""}),function(){return Spacebars.mustache(e.lookup("i18n"),"reactiveTable.rowsPerPage")}),"\n        "),"\n        ",a.DIV({"class":"form-inline form-group page-number"},"\n          ",i.If(function(){return Spacebars.call(e.lookup("isntFirstPage"))},i.block(function(){return["\n            ",a.LABEL({"class":"previous-page"},a.CharRef({html:"&lt;",str:"<"})),a.CharRef({html:"&nbsp;",str:""}),a.CharRef({html:"&nbsp;",str:""}),"\n          "]})),"\n          ",a.LABEL(function(){return Spacebars.mustache(e.lookup("i18n"),"reactiveTable.page")},a.CharRef({html:"&nbsp;",str:""}),a.INPUT({"class":"form-control",type:"text",value:function(){return Spacebars.mustache(e.lookup("getCurrentPage"))}}),a.CharRef({html:"&nbsp;",str:""}),function(){return Spacebars.mustache(e.lookup("i18n"),"reactiveTable.of")}," ",function(){return Spacebars.mustache(e.lookup("getPageCount"))}),"\n          ",i.If(function(){return Spacebars.call(e.lookup("isntLastPage"))},i.block(function(){return["\n            ",a.LABEL({"class":"next-page"},a.CharRef({html:"&nbsp;",str:""}),a.CharRef({html:"&nbsp;",str:""}),a.CharRef({html:"&gt;",str:">"})),"\n          "]})),"\n        "),"\n      "),"\n    "]})),"\n  "]}))})}).call(this),function(){o.map("en",{reactiveTable:{filter:"Filter",show:"Show",rowsPerPage:"rows per page",page:"Page",of:"of"}}),o.map("fr",{reactiveTable:{filter:"Filtre",show:"Voir",rowsPerPage:"lignes par page",page:"page",of:"sur"}}),o.map("ru",{reactiveTable:{filter:"",show:"",rowsPerPage:"  ",page:"",of:""}}),o.map("es",{reactiveTable:{filter:"Filtro",show:"Mostrar",rowsPerPage:"filas por pgina",page:"Pgina",of:"de"}}),o.map("nl",{reactiveTable:{filter:"Filter",show:"Toon",rowsPerPage:"regels per pagina",page:"Pagina",of:"van"}}),o.map("pt-br",{reactiveTable:{filter:"Filtro",show:"Mostrar",rowsPerPage:"linhas por pgina",page:"Pgina",of:"de"}}),o.map("it",{reactiveTable:{filter:"Filtra",show:"Mostra",rowsPerPage:"righe per pagina",page:"Pagina",of:"di"}}),o.map("sv",{reactiveTable:{filter:"Filter",show:"Visa",rowsPerPage:"rader per sida",page:"Sida",of:"av"}}),o.map("ua",{reactiveTable:{filter:"",show:"",rowsPerPage:"  ",page:"",of:""}}),o.map("tr",{reactiveTable:{filter:"Filtrele",show:"Gster",rowsPerPage:"sayfa ba",page:"Sayfa",of:" / "}})}.call(this),function(){var o=function(e){return e+"-reactive-table-sort"},i=function(e){return e+"-reactive-table-sort-direction"},a=function(e){return e+"-reactive-table-rows-per-page"},s=function(e){return e+"-reactive-table-current-page"},c=function(e){return e+"-reactive-table-filter"},u=function(e){return e+"-reactive-table-show-navigation"},l=function(e,t){var n=t.split("."),o=e;return r.each(n,function(e){o=r.isObject(o)&&!r.isUndefined(o[e])?o[e]:null}),o},f=function(){var t=this.collection||this,n=this.settings||{},l=n.group||"reactive-table";if(!(t instanceof e.Collection))if(r.isArray(t)){var f=t;t=new e.Collection(null),r.each(f,function(e){t.insert(e)})}else if(r.isFunction(t.fetch)){var d=t;t=new e.Collection(null);var p=function(e){t.insert(e)},h=function(e,n){t.update(n._id,e)},g=function(e){t.remove(e._id)};d.observe({added:p,changed:h,removed:g})}else console.log("reactiveTable error: argument is not an instance of Meteor.Collection, a cursor, or an array"),t=new e.Collection(null);var m=n.fields||{};(r.keys(m).length<1||1===r.keys(m).length&&"hash"===r.keys(m)[0])&&(m=r.without(r.keys(t.findOne()||{}),"_id"));var v=function(e){return"string"==typeof e?{key:e,label:e}:e},b=function(e,t){return e.sort&&(n.sortKey=t,("desc"===e.sort||"descending"===e.sort||-1===e.sort)&&(n.sortDirectionKey=-1)),v(e)};m=r.map(m,b),Session.setDefault(o(l),n.sortKey||0),Session.setDefault(i(l),n.sortDirectionKey||1),Session.setDefault(a(l),n.rowsPerPage||10),Session.setDefault(s(l),0),Session.setDefault(u(l),n.showNavigation||"always"),Session.setDefault(c(l),null);var y="undefined"==typeof n.showFilter?!0:n.showFilter;return{group:l,collection:t,settings:n,fields:m,useFontAwesome:n.useFontAwesome,showFilter:y}},d=function(e){var t=/^[\'\"]/,n=/[\'\"]$/,o=[],i=e.split(" "),a=!1,s="";return r.each(i,function(e){a?n.test(e)?(o.push(s+" "+e.slice(0,e.length-1)),a=!1,s=""):s=s+" "+e:t.test(e)?n.test(e)?o.push(e.slice(1,e.length-1)):(a=!0,s=e.slice(1,e.length)):o.push(e)}),o},p=function(e,t){var n=Session.get(c(e)),o=[];if(n){var i=d(n);r.each(i,function(e){var n=[];if(r.each(t,function(t){var r=new RegExp(e,"i"),o={};o[t.key||t]=r,n.push(o)}),n.length){var i={$or:n};o.push(i)}})}return o.length?{$and:o}:{}};t.reactiveTable.getPageCount=function(){var e=Session.get(a(this.group)),t=p(this.group,this.fields),n=this.collection.find(t).count();return Math.ceil(n/e)},t.reactiveTable.helpers({generateSettings:f,getField:function(e){var t=this.fn||function(e){return e},n=this.key||this,r=l(e,n);return t(r,e)},getFieldIndex:function(e){return r.indexOf(e,this)},getKey:function(){return this.key||this},getLabel:function(){return this.label||this},isSortKey:function(e,t,n){return Session.equals(o(t),r.indexOf(n,e))},isSortable:function(){return!0},isAscending:function(e){var t=Session.get(i(e));return 1===t},sortedRows:function(){var e=Session.get(i(this.group)),t=Session.get(o(this.group)),n=this.fields[t]||{},c=Session.get(a(this.group)),u=Session.get(s(this.group)),l=u*c,f=p(this.group,this.fields);if(n.fn){var d=this.collection.find(f).fetch(),h=r.sortBy(d,function(e){return n.fn(e[n.key],e)});return-1===e&&(h=h.reverse()),h.slice(l,l+c)}var g=n.key||n,m={};return m[g]=e,this.collection.find(f,{sort:m,skip:l,limit:c})},filter:function(){return Session.get(c(this.group))||""},getRowsPerPage:function(){return Session.get(a(this.group))},getCurrentPage:function(){return 1+Session.get(s(this.group))},isntFirstPage:function(){return Session.get(s(this.group))>0},isntLastPage:function(){var e=1+Session.get(s(this.group)),t=Session.get(a(this.group)),n=p(this.group,this.fields),r=this.collection.find(n).count();return e<Math.ceil(r/t)},showNavigation:function(){return"always"===Session.get(u(this.group))?!0:"never"===Session.get(u(this.group))?!1:t.reactiveTable.getPageCount.call(this)>1}}),t.reactiveTable.events({"click .reactive-table .sortable":function(e){var t=n(e.target).is("i")?n(e.target).parent():n(e.target),r=parseInt(t.attr("index"),10),a=t.parents(".reactive-table").attr("reactive-table-group"),s=Session.get(o(a));if(s===r){var c=-1*Session.get(i(a));Session.set(i(a),c)}else Session.set(o(a),r)},"keyup .reactive-table-filter input":function(e){var t=n(e.target).val(),r=n(e.target).parents(".reactive-table-filter").attr("reactive-table-group");Session.set(c(r),t),Session.set(s(this.group),0)},"change .reactive-table-navigation .rows-per-page input":function(e){try{var t=parseInt(n(e.target).val(),10),r=n(e.target).parents(".reactive-table-navigation").attr("reactive-table-group");Session.set(a(r),t)}catch(o){console.log("rows per page must be an integer")}},"change .reactive-table-navigation .page-number input":function(e){try{var t=parseInt(n(e.target).val(),10)-1,r=n(e.target).parents(".reactive-table-navigation").attr("reactive-table-group");Session.set(s(r),t)}catch(o){console.log("current page must be an integer")}},"click .reactive-table-navigation .previous-page":function(e){var t=n(e.target).parents(".reactive-table-navigation").attr("reactive-table-group"),r=s(t),o=Session.get(r);Session.set(r,o-1)},"click .reactive-table-navigation .next-page":function(e){var t=n(e.target).parents(".reactive-table-navigation").attr("reactive-table-group"),r=s(t),o=Session.get(r);Session.set(r,o+1)}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-table"]={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._;Package["accounts-base"].Accounts}(function(){!function(){t.roles||(t.roles=new t.Collection("roles")),"undefined"==typeof e&&(e={});var r="Roles error: Can't mix grouped and non-grouped roles for same user";n.extend(e,{GLOBAL_GROUP:"__global_roles__",createRole:function(e){var n,r;
if(e&&"string"==typeof e&&0!==e.trim().length)try{return n=t.roles.insert({name:e.trim()})}catch(o){if("MongoError"!==o.name)throw o;if(r=o.err.match(/^E11000 duplicate key error index: ([^ ]+)/),!r)throw o;if(-1!==r[1].indexOf("$name"))throw new t.Error(403,"Role already exists.");throw o}},deleteRole:function(e){if(e){var n=t.users.findOne({roles:{$in:[e]}},{fields:{_id:1}});if(n)throw new t.Error(403,"Role in use");var r=t.roles.findOne({name:e});r&&t.roles.remove({_id:r._id})}},addUsersToRoles:function(t,n,r){e._updateUserRoles(t,n,r,e._update_$addToSet_fn)},setUserRoles:function(t,n,r){e._updateUserRoles(t,n,r,e._update_$set_fn)},removeUsersFromRoles:function(e,o,i){var a;if(!e)throw new Error("Missing 'users' param");if(!o)throw new Error("Missing 'roles' param");if(i){if("string"!=typeof i)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===i[0])throw new Error("Roles error: groups can not start with '$'");i=i.replace(".","_")}n.isArray(e)||(e=[e]),n.isArray(o)||(o=[o]),e=n.reduce(e,function(e,t){var n;return"string"==typeof t?e.push(t):"object"==typeof t&&(n=t._id,"string"==typeof n&&e.push(n)),e},[]),i?(a={$pullAll:{}},a.$pullAll["roles."+i]=o):a={$pullAll:{roles:o}};try{t.isClient?n.each(e,function(e){t.users.update({_id:e},a)}):t.users.update({_id:{$in:e}},a,{multi:!0})}catch(s){var c="Cannot apply $pull/$pullAll modifier to non-array";if("MongoError"===s.name&&s.err===c)throw new Error(r);throw s}},userIsInRole:function(r,o,i){var a,s,c,u,l=!1;if(n.isArray(o)||(o=[o]),!r)return!1;if(i){if("string"!=typeof i)return!1;if("$"===i[0])return!1;i=i.replace(".","_")}if("object"==typeof r){if(s=r.roles,n.isArray(s))return n.some(o,function(e){return n.contains(s,e)});if("object"==typeof s)return l=n.isArray(s[i])&&n.some(o,function(e){return n.contains(s[i],e)}),l||(l=n.isArray(s[e.GLOBAL_GROUP])&&n.some(o,function(t){return n.contains(s[e.GLOBAL_GROUP],t)})),l;a=r._id}else"string"==typeof r&&(a=r);return a?(c={_id:a,$or:[]},u={},u["roles."+e.GLOBAL_GROUP]={$in:o},c.$or.push(u),i?(u={},u["roles."+i]={$in:o},c.$or.push(u)):c.$or.push({roles:{$in:o}}),l=t.users.findOne(c,{fields:{_id:1}}),l?!0:!1):!1},getRolesForUser:function(r,o){if(!r)return[];if(o){if("string"!=typeof o)return[];if("$"===o[0])return[];o=o.replace(".","_")}if("string"==typeof r)r=t.users.findOne({_id:r},{fields:{roles:1}});else if("object"!=typeof r)return[];return r&&r.roles?o?n.union(r.roles[o]||[],r.roles[e.GLOBAL_GROUP]||[]):n.isArray(r.roles)?r.roles:r.roles[e.GLOBAL_GROUP]||[]:[]},getAllRoles:function(){return t.roles.find({},{sort:{name:1}})},getUsersInRole:function(r,o){var i,a,s=r;if(n.isArray(s)||(s=[s]),o){if("string"!=typeof o)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===o[0])throw new Error("Roles error: groups can not start with '$'");o=o.replace(".","_")}return i={$or:[]},a={},a["roles."+e.GLOBAL_GROUP]={$in:s},i.$or.push(a),o?(a={},a["roles."+o]={$in:s},i.$or.push(a)):i.$or.push({roles:{$in:s}}),t.users.find(i)},_update_$set_fn:function(e,t){var n={};return t?(n.$set={},n.$set["roles."+t]=e):n.$set={roles:e},n},_update_$addToSet_fn:function(e,t){var n={};return t?(n.$addToSet={},n.$addToSet["roles."+t]={$each:e}):n.$addToSet={roles:{$each:e}},n},_updateUserRoles:function(o,i,a,s){if(!o)throw new Error("Missing 'users' param");if(!i)throw new Error("Missing 'roles' param");if(a){if("string"!=typeof a)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===a[0])throw new Error("Roles error: groups can not start with '$'");a=a.replace(".","_")}var c,u;n.isArray(o)||(o=[o]),n.isArray(i)||(i=[i]),i=n.reduce(i,function(e,t){return t&&"string"==typeof t&&t.trim().length>0&&e.push(t.trim()),e},[]),c=n.reduce(t.roles.find({}).fetch(),function(e,t){return e[t.name]=!0,e},{}),n.each(i,function(t){c[t]||e.createRole(t)}),o=n.reduce(o,function(e,t){var n;return"string"==typeof t?e.push(t):"object"==typeof t&&(n=t._id,"string"==typeof n&&e.push(n)),e},[]),u=s(i,a);try{t.isClient?n.each(o,function(e){t.users.update({_id:e},u)}):t.users.update({_id:{$in:o}},u,{multi:!0})}catch(l){var f="Cannot apply $addToSet modifier to non-array",d="can't append to array using string field name";if("MongoError"===l.name&&(l.err===f||l.err.substring(0,45)===d))throw new Error(r);throw l}}})}()}).call(this),function(){!function(){e._uiHelpers={isInRole:function(r,o){var i,a=t.user(),s=(r||"").indexOf(",");return a?Match.test(r,String)?(i=-1!==s?n.reduce(r.split(","),function(e,t){return t&&t.trim()?(e.push(t.trim()),e):e},[]):[r],Match.test(o,String)?e.userIsInRole(a,i,o):e.userIsInRole(a,i)):!1:!1}},Package.ui?n.each(e._uiHelpers,function(e,t){Package.ui.UI.registerHelper(t,e)}):Package.handlebars?n.each(e._uiHelpers,function(e,t){Package.handlebars.Handlebars.registerHelper(t,e)}):console.log&&console.log("WARNING: Roles template helpers not registered. Handlebars or UI package not found")}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.roles={Roles:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.session.Session,o=Package.templating.Template,i=Package.ui.UI,a=(Package.ui.Handlebars,Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),s=(Package["iron-router"].IronLocation,Package["accounts-base"].Accounts,Package.moment.moment),c=(Package.roles.Roles,Package.htmljs.HTML);(function(){e="object"==typeof e?e:{};var t;t={settings:{blogIndexTemplate:"blogIndex",blogShowTemplate:"blogShow",blogAdminTemplate:"blogAdmin",blogAdminNewTemplate:"blogAdminNew",blogAdminEditTemplate:"blogAdminEdit",pageSize:20},config:function(e){return this.settings=_.extend(this.settings,e)}},this.Blog=t,n.startup(function(){var e,n,o;return $("<link>",{href:"//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css",rel:"stylesheet"}).appendTo("head"),window.twttr=function(e,t,n){var r,o,i;return i=void 0,o=void 0,r=e.getElementsByTagName(t)[0],e.getElementById(n)?void 0:(o=e.createElement(t),o.id=n,o.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(o,r),window.twttr||(i={_e:[],ready:function(e){return i._e.push(e)}}))}(document,"script","twitter-wjs"),n=void 0,e="facebook-jssdk",o=document.getElementsByTagName("script")[0],document.getElementById(e)?void 0:(n=document.createElement("script"),n.id=e,n.async=!0,n.src="//connect.facebook.net/en_US/all.js",o.parentNode.insertBefore(n,o),$("body").on("click",".load-more",function(e){return e.preventDefault(),r.get("postLimit")?r.set("postLimit",r.get("postLimit")+t.settings.pageSize):void 0}))}),i.registerHelper("blogFormatDate",function(e){return s(new Date(e)).format("MMM Do, YYYY")}),i.registerHelper("blogFormatTags",function(e){var t,n,r,o,i;if(null!=e){for(o=0,i=e.length;i>o;o++)r=e[o],t=a.path("blogTagged",{tag:r}),"undefined"!=typeof n&&null!==n?n+=', <a href="'+t+'">'+r+"</a>":n='<a href="'+t+'">'+r+"</a>";return new Spacebars.SafeString(n)}}),i.registerHelper("joinTags",function(e){return e?e.join(", "):void 0}),i.registerHelper("blogPager",function(){return Post.count()===r.get("postLimit")?new Spacebars.SafeString('<a class="load-more btn" href="#">Load More</a>'):void 0}),i.registerHelper("blogIndex",function(){return new Spacebars.SafeString(o.blogIndexLoop(this))}),i.registerHelper("blogShow",function(){return new Spacebars.SafeString(o.blogShowBody(this))})}).call(this),function(){function e(e,t){"use strict";return this.init(e,t)}t=e,function(t,n){"use strict";function r(e,t){var n;if(void 0===e)return t;for(n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)===!1&&(e[n]=t[n]);return e}function o(){var e,n,r,o=t.getSelection();if(o.getRangeAt&&o.rangeCount){for(r=[],e=0,n=o.rangeCount;n>e;e+=1)r.push(o.getRangeAt(e));return r}return null}function i(e){var n,r,o=t.getSelection();if(e)for(o.removeAllRanges(),n=0,r=e.length;r>n;n+=1)o.addRange(e[n])}function a(){var e=n.getSelection().anchorNode,t=e&&3===e.nodeType?e.parentNode:e;return t}function s(){var e,r,o,i,a="";if(void 0!==t.getSelection){if(r=t.getSelection(),r.rangeCount){for(i=n.createElement("div"),e=0,o=r.rangeCount;o>e;e+=1)i.appendChild(r.getRangeAt(e).cloneContents());a=i.innerHTML}}else void 0!==n.selection&&"Text"===n.selection.type&&(a=n.selection.createRange().htmlText);return a}e.prototype={defaults:{allowMultiParagraphSelection:!0,anchorInputPlaceholder:"Paste or type a link",buttons:["bold","italic","underline","anchor","header1","header2","quote"],buttonLabels:!1,delay:0,diffLeft:0,diffTop:-10,disableReturn:!1,disableDoubleReturn:!1,disableToolbar:!1,firstHeader:"h3",forcePlainText:!0,placeholder:"Type your text",secondHeader:"h4",targetBlank:!1,anchorPreviewHideDelay:500},isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),init:function(e,t){return this.elements="string"==typeof e?n.querySelectorAll(e):e,1===this.elements.nodeType&&(this.elements=[this.elements]),0!==this.elements.length?(this.parentElements=["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],this.id=n.querySelectorAll(".medium-editor-toolbar").length+1,this.options=r(t,this.defaults),this.setup()):void 0},setup:function(){this.isActive=!0,this.initElements().bindSelect().bindPaste().setPlaceholders().bindWindowActions()},initElements:function(){var e,t=!1;for(e=0;e<this.elements.length;e+=1)this.elements[e].setAttribute("contentEditable",!0),this.elements[e].getAttribute("data-placeholder")||this.elements[e].setAttribute("data-placeholder",this.options.placeholder),this.elements[e].setAttribute("data-medium-element",!0),this.bindParagraphCreation(e).bindReturn(e).bindTab(e).bindAnchorPreview(e),this.options.disableToolbar||this.elements[e].getAttribute("data-disable-toolbar")||(t=!0);return t&&this.initToolbar().bindButtons().bindAnchorForm(),this},serialize:function(){var e,t,n={};for(e=0;e<this.elements.length;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},bindParagraphCreation:function(e){var t=this;return this.elements[e].addEventListener("keyup",function(e){var r,o=a();o&&o.getAttribute("data-medium-element")&&0===o.children.length&&!t.options.disableReturn&&!o.getAttribute("data-disable-return")&&n.execCommand("formatBlock",!1,"p"),13===e.which&&(o=a(),r=o.tagName.toLowerCase(),t.options.disableReturn||this.getAttribute("data-disable-return")||"li"===r||t.isListItemChild(o)||(e.shiftKey||n.execCommand("formatBlock",!1,"p"),"a"===r&&n.execCommand("unlink",!1,null)))}),this},isListItemChild:function(e){for(var t=e.parentNode,n=t.tagName.toLowerCase();-1===this.parentElements.indexOf(n)&&"div"!==n;){if("li"===n)return!0;if(t=t.parentNode,!t||!t.tagName)return!1;n=t.tagName.toLowerCase()}return!1},bindReturn:function(e){var t=this;return this.elements[e].addEventListener("keypress",function(e){if(13===e.which)if(t.options.disableReturn||this.getAttribute("data-disable-return"))e.preventDefault();else if(t.options.disableDoubleReturn||this.getAttribute("data-disable-double-return")){var n=a();n&&"\n"===n.innerText&&e.preventDefault()}}),this},bindTab:function(e){return this.elements[e].addEventListener("keydown",function(e){if(9===e.which){var t=a().tagName.toLowerCase();"pre"===t&&(e.preventDefault(),n.execCommand("insertHtml",null,"    "))}}),this},buttonTemplate:function(e){var t=this.getButtonLabels(this.options.buttonLabels),n={bold:'<li><button class="medium-editor-action medium-editor-action-bold" data-action="bold" data-element="b">'+t.bold+"</button></li>",italic:'<li><button class="medium-editor-action medium-editor-action-italic" data-action="italic" data-element="i">'+t.italic+"</button></li>",underline:'<li><button class="medium-editor-action medium-editor-action-underline" data-action="underline" data-element="u">'+t.underline+"</button></li>",strikethrough:'<li><button class="medium-editor-action medium-editor-action-strikethrough" data-action="strikethrough" data-element="strike"><strike>A</strike></button></li>',superscript:'<li><button class="medium-editor-action medium-editor-action-superscript" data-action="superscript" data-element="sup">'+t.superscript+"</button></li>",subscript:'<li><button class="medium-editor-action medium-editor-action-subscript" data-action="subscript" data-element="sub">'+t.subscript+"</button></li>",anchor:'<li><button class="medium-editor-action medium-editor-action-anchor" data-action="anchor" data-element="a">'+t.anchor+"</button></li>",image:'<li><button class="medium-editor-action medium-editor-action-image" data-action="image" data-element="img">'+t.image+"</button></li>",header1:'<li><button class="medium-editor-action medium-editor-action-header1" data-action="append-'+this.options.firstHeader+'" data-element="'+this.options.firstHeader+'">'+t.header1+"</button></li>",header2:'<li><button class="medium-editor-action medium-editor-action-header2" data-action="append-'+this.options.secondHeader+'" data-element="'+this.options.secondHeader+'">'+t.header2+"</button></li>",quote:'<li><button class="medium-editor-action medium-editor-action-quote" data-action="append-blockquote" data-element="blockquote">'+t.quote+"</button></li>",orderedlist:'<li><button class="medium-editor-action medium-editor-action-orderedlist" data-action="insertorderedlist" data-element="ol">'+t.orderedlist+"</button></li>",unorderedlist:'<li><button class="medium-editor-action medium-editor-action-unorderedlist" data-action="insertunorderedlist" data-element="ul">'+t.unorderedlist+"</button></li>",pre:'<li><button class="medium-editor-action medium-editor-action-pre" data-action="append-pre" data-element="pre">'+t.pre+"</button></li>",indent:'<li><button class="medium-editor-action medium-editor-action-indent" data-action="indent" data-element="ul">'+t.indent+"</button></li>",outdent:'<li><button class="medium-editor-action medium-editor-action-outdent" data-action="outdent" data-element="ul">'+t.outdent+"</button></li>"};return n[e]||!1},getButtonLabels:function(e){var t,n,r={bold:"<b>B</b>",italic:"<b><i>I</i></b>",underline:"<b><u>U</u></b>",superscript:"<b>x<sup>1</sup></b>",subscript:"<b>x<sub>1</sub></b>",anchor:"<b>#</b>",image:"<b>image</b>",header1:"<b>H1</b>",header2:"<b>H2</b>",quote:"<b>&ldquo;</b>",orderedlist:"<b>1.</b>",unorderedlist:"<b>&bull;</b>",pre:"<b>0101</b>",indent:"<b>&rarr;</b>",outdent:"<b>&larr;</b>"};if("fontawesome"===e?t={bold:'<i class="fa fa-bold"></i>',italic:'<i class="fa fa-italic"></i>',underline:'<i class="fa fa-underline"></i>',superscript:'<i class="fa fa-superscript"></i>',subscript:'<i class="fa fa-subscript"></i>',anchor:'<i class="fa fa-link"></i>',image:'<i class="fa fa-picture-o"></i>',quote:'<i class="fa fa-quote-right"></i>',orderedlist:'<i class="fa fa-list-ol"></i>',unorderedlist:'<i class="fa fa-list-ul"></i>',pre:'<i class="fa fa-code fa-lg"></i>',indent:'<i class="fa fa-indent"></i>',outdent:'<i class="fa fa-outdent"></i>'}:"object"==typeof e&&(t=e),"object"==typeof t)for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},toolbarTemplate:function(){var e,t,n=this.options.buttons,r='<ul id="medium-editor-toolbar-actions" class="medium-editor-toolbar-actions clearfix">';for(e=0;e<n.length;e+=1)t=this.buttonTemplate(n[e]),t&&(r+=t);return r+='</ul><div class="medium-editor-toolbar-form-anchor" id="medium-editor-toolbar-form-anchor">    <input type="text" value="" placeholder="'+this.options.anchorInputPlaceholder+'">    <a href="#">&times;</a></div>'},initToolbar:function(){return this.toolbar?this:(this.toolbar=this.createToolbar(),this.keepToolbarAlive=!1,this.anchorForm=this.toolbar.querySelector(".medium-editor-toolbar-form-anchor"),this.anchorInput=this.anchorForm.querySelector("input"),this.toolbarActions=this.toolbar.querySelector(".medium-editor-toolbar-actions"),this.anchorPreview=this.createAnchorPreview(),this)},createToolbar:function(){var e=n.createElement("div");return e.id="medium-editor-toolbar-"+this.id,e.className="medium-editor-toolbar",e.innerHTML=this.toolbarTemplate(),n.body.appendChild(e),e},bindSelect:function(){var e,t=this,r="";for(this.checkSelectionWrapper=function(e){return e&&t.clickingIntoArchorForm(e)?!1:(clearTimeout(r),r=setTimeout(function(){t.checkSelection()},t.options.delay),void 0)},n.documentElement.addEventListener("mouseup",this.checkSelectionWrapper),e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("keyup",this.checkSelectionWrapper),this.elements[e].addEventListener("blur",this.checkSelectionWrapper);return this},checkSelection:function(){var e,n;return this.keepToolbarAlive===!0||this.options.disableToolbar||(e=t.getSelection(),""===e.toString().trim()||this.options.allowMultiParagraphSelection===!1&&this.hasMultiParagraphs()?this.hideToolbarActions():(n=this.getSelectionElement(),!n||n.getAttribute("data-disable-toolbar")?this.hideToolbarActions():this.checkSelectionElement(e,n))),this},clickingIntoArchorForm:function(e){var t=this;return e.type&&"blur"===e.type.toLowerCase()&&e.relatedTarget&&e.relatedTarget===t.anchorInput?!0:!1},hasMultiParagraphs:function(){var e=s().replace(/<[\S]+><\/[\S]+>/gim,""),t=e.match(/<(p|h[0-6]|blockquote)>([\s\S]*?)<\/(p|h[0-6]|blockquote)>/g);return t?t.length:0},checkSelectionElement:function(e,t){var n;for(this.selection=e,this.selectionRange=this.selection.getRangeAt(0),n=0;n<this.elements.length;n+=1)if(this.elements[n]===t)return this.setToolbarButtonStates().setToolbarPosition().showToolbarActions(),void 0;this.hideToolbarActions()},getSelectionElement:function(){var e,n=t.getSelection(),r=n.getRangeAt(0),o=r.commonAncestorContainer,i=o.parentNode,a=function(e){var t=e;try{for(;!t.getAttribute("data-medium-element");)t=t.parentNode}catch(n){return!1}return t};try{e=o.getAttribute("data-medium-element")?o:a(i)}catch(s){e=a(i)}return e},setToolbarPosition:function(){var e=50,n=t.getSelection(),r=n.getRangeAt(0),o=r.getBoundingClientRect(),i=this.options.diffLeft-this.toolbar.offsetWidth/2,a=(o.left+o.right)/2,s=this.toolbar.offsetWidth/2;return o.top<e?(this.toolbar.classList.add("medium-toolbar-arrow-over"),this.toolbar.classList.remove("medium-toolbar-arrow-under"),this.toolbar.style.top=e+o.bottom-this.options.diffTop+t.pageYOffset-this.toolbar.offsetHeight+"px"):(this.toolbar.classList.add("medium-toolbar-arrow-under"),this.toolbar.classList.remove("medium-toolbar-arrow-over"),this.toolbar.style.top=o.top+this.options.diffTop+t.pageYOffset-this.toolbar.offsetHeight+"px"),this.toolbar.style.left=s>a?i+s+"px":t.innerWidth-a<s?t.innerWidth+i-s+"px":i+a+"px",this.hideAnchorPreview(),this},setToolbarButtonStates:function(){var e,t=this.toolbarActions.querySelectorAll("button");for(e=0;e<t.length;e+=1)t[e].classList.remove("medium-editor-button-active");return this.checkActiveButtons(),this},checkActiveButtons:function(){var e=this.selection.anchorNode;for(e.tagName||(e=this.selection.anchorNode.parentNode);void 0!==e.tagName&&-1===this.parentElements.indexOf(e.tagName.toLowerCase);)this.activateButton(e.tagName.toLowerCase()),e=e.parentNode},activateButton:function(e){var t=this.toolbar.querySelector('[data-element="'+e+'"]');null!==t&&-1===t.className.indexOf("medium-editor-button-active")&&(t.className+=" medium-editor-button-active")},bindButtons:function(){var e,t=this.toolbar.querySelectorAll("button"),n=this,r=function(e){e.preventDefault(),e.stopPropagation(),void 0===n.selection&&n.checkSelection(),this.className.indexOf("medium-editor-button-active")>-1?this.classList.remove("medium-editor-button-active"):this.className+=" medium-editor-button-active",n.execAction(this.getAttribute("data-action"),e)};for(e=0;e<t.length;e+=1)t[e].addEventListener("click",r);return this.setFirstAndLastItems(t),this},setFirstAndLastItems:function(e){return e[0].className+=" medium-editor-button-first",e[e.length-1].className+=" medium-editor-button-last",this},execAction:function(e,r){e.indexOf("append-")>-1?(this.execFormatBlock(e.replace("append-","")),this.setToolbarPosition(),this.setToolbarButtonStates()):"anchor"===e?this.triggerAnchorAction(r):"image"===e?n.execCommand("insertImage",!1,t.getSelection()):(n.execCommand(e,!1,null),this.setToolbarPosition())},triggerAnchorAction:function(){return"a"===this.selection.anchorNode.parentNode.tagName.toLowerCase()?n.execCommand("unlink",!1,null):"block"===this.anchorForm.style.display?this.showToolbarActions():this.showAnchorForm(),this},execFormatBlock:function(e){var t=this.getSelectionData(this.selection.anchorNode);if("blockquote"===e&&t.el&&"blockquote"===t.el.parentNode.tagName.toLowerCase())return n.execCommand("outdent",!1,null);if(t.tagName===e&&(e="p"),this.isIE){if("blockquote"===e)return n.execCommand("indent",!1,e);e="<"+e+">"}return n.execCommand("formatBlock",!1,e)},getSelectionData:function(e){var t;for(e&&e.tagName&&(t=e.tagName.toLowerCase());e&&-1===this.parentElements.indexOf(t);)e=e.parentNode,e&&e.tagName&&(t=e.tagName.toLowerCase());return{el:e,tagName:t}},getFirstChild:function(e){for(var t=e.firstChild;null!==t&&1!==t.nodeType;)t=t.nextSibling;return t},hideToolbarActions:function(){this.keepToolbarAlive=!1,this.toolbar.classList.remove("medium-editor-toolbar-active")},showToolbarActions:function(){var e,t=this;this.anchorForm.style.display="none",this.toolbarActions.style.display="block",this.keepToolbarAlive=!1,clearTimeout(e),e=setTimeout(function(){t.toolbar.classList.contains("medium-editor-toolbar-active")||t.toolbar.classList.add("medium-editor-toolbar-active")},100)},showAnchorForm:function(e){this.toolbarActions.style.display="none",this.savedSelection=o(),this.anchorForm.style.display="block",this.keepToolbarAlive=!0,this.anchorInput.focus(),this.anchorInput.value=e||""},bindAnchorForm:function(){var e=this.anchorForm.querySelector("a"),t=this;return this.anchorForm.addEventListener("click",function(e){e.stopPropagation()}),this.anchorInput.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),t.createLink(this))}),this.anchorInput.addEventListener("click",function(e){e.stopPropagation(),t.keepToolbarAlive=!0}),this.anchorInput.addEventListener("blur",function(){t.keepToolbarAlive=!1,t.checkSelection()}),e.addEventListener("click",function(e){e.preventDefault(),t.showToolbarActions(),i(t.savedSelection)}),this},hideAnchorPreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active")},showAnchorPreview:function(e){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active"))return!0;var n,r,o,i=this,a=40,s=e.getBoundingClientRect(),c=(s.left+s.right)/2;return i.anchorPreview.querySelector("i").innerHTML=e.href,n=i.anchorPreview.offsetWidth/2,r=i.options.diffLeft-n,clearTimeout(o),o=setTimeout(function(){i.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||i.anchorPreview.classList.add("medium-editor-anchor-preview-active")},100),i.observeAnchorPreview(e),i.anchorPreview.classList.add("medium-toolbar-arrow-over"),i.anchorPreview.classList.remove("medium-toolbar-arrow-under"),i.anchorPreview.style.top=Math.round(a+s.bottom-i.options.diffTop+t.pageYOffset-i.anchorPreview.offsetHeight)+"px",i.anchorPreview.style.left=n>c?r+n+"px":t.innerWidth-c<n?t.innerWidth+r-n+"px":r+c+"px",this},observeAnchorPreview:function(e){var t=this,n=(new Date).getTime(),r=!0,o=function(){n=(new Date).getTime(),r=!0},i=function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(r=!1)},a=setInterval(function(){if(r)return!0;var s=(new Date).getTime()-n;s>t.options.anchorPreviewHideDelay&&(t.hideAnchorPreview(),clearInterval(a),t.anchorPreview.removeEventListener("mouseover",o),t.anchorPreview.removeEventListener("mouseout",i),e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",i))},200);t.anchorPreview.addEventListener("mouseover",o),t.anchorPreview.addEventListener("mouseout",i),e.addEventListener("mouseover",o),e.addEventListener("mouseout",i)},createAnchorPreview:function(){var e=this,t=n.createElement("div");return t.id="medium-editor-anchor-preview-"+this.id,t.className="medium-editor-anchor-preview",t.innerHTML=this.anchorPreviewTemplate(),n.body.appendChild(t),t.addEventListener("click",function(){e.anchorPreviewClickHandler()}),t},anchorPreviewTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <i class="medium-editor-toolbar-anchor-preview-inner"></i></div>'},anchorPreviewClickHandler:function(){if(this.activeAnchor){var e=this,r=n.createRange(),o=t.getSelection();r.selectNodeContents(e.activeAnchor),o.removeAllRanges(),o.addRange(r),setTimeout(function(){e.showAnchorForm(e.activeAnchor.href),e.keepToolbarAlive=!1},100+e.options.delay)}this.hideAnchorPreview()},editorAnchorObserver:function(e){var t=this,n=!0,r=function(){n=!1,t.activeAnchor.removeEventListener("mouseout",r)};if(e.target&&"a"===e.target.tagName.toLowerCase()){if(!/href=["']\S+["']/.test(e.target.outerHTML)||/href=["']#\S+["']/.test(e.target.outerHTML))return!0;if(this.toolbar.classList.contains("medium-editor-toolbar-active"))return!0;this.activeAnchor=e.target,this.activeAnchor.addEventListener("mouseout",r),setTimeout(function(){n&&t.showAnchorPreview(e.target)},t.options.delay)}},bindAnchorPreview:function(e){var t=this;return this.elements[e].addEventListener("mouseover",function(e){t.editorAnchorObserver(e)}),this},setTargetBlank:function(){var e,t=a();if("a"===t.tagName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),e=0;e<t.length;e+=1)t[e].target="_blank"},createLink:function(e){i(this.savedSelection),n.execCommand("createLink",!1,e.value),this.options.targetBlank&&this.setTargetBlank(),this.showToolbarActions(),e.value=""},bindWindowActions:function(){var e,n=this;return this.windowResizeHandler=function(){clearTimeout(e),e=setTimeout(function(){n.toolbar&&n.toolbar.classList.contains("medium-editor-toolbar-active")&&n.setToolbarPosition()},100)},t.addEventListener("resize",this.windowResizeHandler),this},activate:function(){this.isActive||this.setup()},deactivate:function(){var e;if(this.isActive)for(this.isActive=!1,void 0!==this.toolbar&&(n.body.removeChild(this.anchorPreview),n.body.removeChild(this.toolbar),delete this.toolbar,delete this.anchorPreview),n.documentElement.removeEventListener("mouseup",this.checkSelectionWrapper),t.removeEventListener("resize",this.windowResizeHandler),e=0;e<this.elements.length;e+=1)this.elements[e].removeEventListener("keyup",this.checkSelectionWrapper),this.elements[e].removeEventListener("blur",this.checkSelectionWrapper),this.elements[e].removeEventListener("paste",this.pasteWrapper),this.elements[e].removeAttribute("contentEditable"),this.elements[e].removeAttribute("data-medium-element")},bindPaste:function(){var e,t=this;for(this.pasteWrapper=function(e){var r,o,i="";if(this.classList.remove("medium-editor-placeholder"),!t.options.forcePlainText)return this;if(e.clipboardData&&e.clipboardData.getData&&!e.defaultPrevented)if(e.preventDefault(),t.options.disableReturn)n.execCommand("insertHTML",!1,e.clipboardData.getData("text/plain"));else{for(r=e.clipboardData.getData("text/plain").split(/[\r\n]/g),o=0;o<r.length;o+=1)""!==r[o]&&(i+="<p>"+r[o]+"</p>");n.execCommand("insertHTML",!1,i)}},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("paste",this.pasteWrapper);return this},setPlaceholders:function(){var e,t=function(e){""===e.textContent.replace(/^\s+|\s+$/g,"")&&e.classList.add("medium-editor-placeholder")},n=function(e){this.classList.remove("medium-editor-placeholder"),"keypress"!==e.type&&t(this)};for(e=0;e<this.elements.length;e+=1)t(this.elements[e]),this.elements[e].addEventListener("blur",n),this.elements[e].addEventListener("keypress",n);return this}}}(window,document)}.call(this),function(){o.__define__("blogNotFound",function(){return""})}.call(this),function(){o.__define__("blogAdmin",function(){var e=this;return c.DIV({id:"blog-admin"},"\n    ",c.DIV({"class":"container blog-admin-index"},c.Raw('\n      <div class="row">\n        <div class="col-md-3">\n          <h1>Blog Admin</h1>\n        </div>\n        <div class="col-md-9">\n          <a href="#" class="for-new-blog btn btn-default">\n            <i class="fa fa-plus"></i> Add Blog Post\n          </a>\n          <select class="for-filtering form-control">\n            <option value="all">All Posts</option>\n            <option value="mine">My Posts</option>\n          </select>\n        </div>\n      </div>\n      '),c.DIV({"class":"row"},"\n        ",c.DIV({"class":"col-md-12"},"\n          ",i.If(function(){return Spacebars.call(e.lookup("posts"))},i.block(function(){var e=this;return["\n            ",Spacebars.TemplateWith(function(){return{collection:Spacebars.call(e.lookup("posts")),settings:Spacebars.call(e.lookup("table"))}},i.block(function(){var e=this;return Spacebars.include(e.lookupTemplate("reactiveTable"))})),"\n          "]}),i.block(function(){return["\n            ",c.TABLE({"class":"table table-striped table-bordered"},"\n              ",c.TR(c.TD("\n                ",c.A({href:"#","class":"for-new-blog"},"Create the first blog"),"\n              ")),"\n            "),"\n          "]})),"\n        "),"\n      "),"\n    "),"\n  ")}),o.__define__("blogAdminTitleColumn",function(){var e=this;return[c.H4(c.A({target:"_blank",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogShow")}},function(){return Spacebars.mustache(e.lookup("title"))})),"\n  ",c.P(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("excerpt")))})]}),o.__define__("blogAdminAuthorColumn",function(){var e=this;return function(){return Spacebars.mustache(e.lookup("authorName"))}}),o.__define__("blogAdminUpdatedColumn",function(){var e=this;return function(){return Spacebars.mustache(e.lookup("blogFormatDate"),e.lookup("updatedAt"))}}),o.__define__("blogAdminPublishedColumn",function(){var e=this;return i.If(function(){return Spacebars.call(e.lookup("published"))},i.block(function(){var e=this;return["\n    ",function(){return Spacebars.mustache(e.lookup("blogFormatDate"),e.lookup("publishedAt"))},"\n  "]}),i.block(function(){return["\n    ",c.I({"class":"fa fa-ban"}),"\n  "]}))}),o.__define__("blogAdminStatusColumn",function(){var e=this;return i.If(function(){return Spacebars.call(e.lookup("published"))},i.block(function(){return["\n    ",c.A({"class":"for-unpublish",href:"#"},"Draft")," | ",c.SPAN({"class":"selected"},"Published")," \n  "]}),i.block(function(){return["\n    ",c.SPAN({"class":"selected"},"Draft")," | ",c.A({"class":"for-publish",href:"#"},"Published"),"\n  "]}))}),o.__define__("blogAdminEditColumn",function(){var e=this;return c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogAdminEdit")}},c.Raw('<i class="fa fa-edit"></i>'))}),o.__define__("blogAdminDeleteColumn",function(){return c.Raw('<a href="#" class="delete"><i class="fa fa-trash-o"></i></a>')})}.call(this),function(){e="object"==typeof e?e:{};o.blogAdmin.rendered=function(){return $(this.find(".reactive-table")).addClass("table-bordered"),$(this.find(".updatedAt")).click().click()},o.blogAdmin.helpers({posts:function(){var e;return e=Post.all({sort:{updatedAt:-1}}),_.size(r.get("filters"))&&(e=_(e).where(r.get("filters"))),e},table:function(){return{rowsPerPage:20,showFilter:!1,useFontAwesome:!0,fields:[{key:"title",label:"Title",tmpl:o.blogAdminTitleColumn},{key:"userId",label:"Author",tmpl:o.blogAdminAuthorColumn},{key:"updatedAt",label:"Updated At",tmpl:o.blogAdminUpdatedColumn},{key:"publishedAt",label:"Published At",tmpl:o.blogAdminPublishedColumn},{key:"published",label:"Status",tmpl:o.blogAdminStatusColumn},{key:"id",label:"Edit",tmpl:o.blogAdminEditColumn},{key:"id",label:"Delete",tmpl:o.blogAdminDeleteColumn}]}}}),o.blogAdmin.events({"click .for-new-blog":function(e){return e.preventDefault(),a.go("blogAdminEdit",{id:Random.id()})},"change .for-filtering":function(e){var t;return e.preventDefault(),t={},"mine"===$(e.currentTarget).val()&&(t.userId=n.userId()),r.set("filters",t)
}}),o.blogAdminStatusColumn.events({"click .for-publish":function(e){return e.preventDefault(),this.update({published:!0,publishedAt:new Date})},"click .for-unpublish":function(e){return e.preventDefault(),this.update({published:!1,publishedAt:null})}}),o.blogAdminDeleteColumn.events({"click .delete":function(e){return e.preventDefault(),confirm("Are you sure?")?$(e.currentTarget).parents("tr").fadeOut(function(e){return function(){return e.destroy()}}(this)):void 0}})}.call(this),function(){o.__define__("blogAdminEdit",function(){var e=this;return c.DIV({id:"blog-admin"},"\n    ",c.DIV({"class":"container blog-admin-edit"},"\n      ",c.DIV({"class":"row"},"\n        ",c.DIV({"class":"col-md-8 col-md-offset-2"},c.Raw("\n          <h1>\n            <strong>Edit Post</strong>\n          </h1>\n\n          "),Spacebars.With(function(){return Spacebars.call(e.lookup("post"))},i.block(function(){var e=this;return["\n            ",c.FORM("\n              ",c.DIV({"class":"row form-group"},"\n                ",c.DIV({"class":"col-md-12"},"\n                  ",c.LABEL("Title"),"\n                  ",c.INPUT({tabindex:"1",type:"text","class":"form-control",name:"title",placeholder:"Title",value:function(){return Spacebars.mustache(e.lookup("title"))}}),"\n                "),"\n              "),"\n              ",c.DIV({"class":"row form-group"},"\n                ",c.DIV({"class":"col-md-6"},"\n                  ",c.LABEL("Tags (comma-separated)"),"\n                  ",c.INPUT({tabindex:"2",type:"text","class":"form-control",name:"tags",placeholder:"Tags",value:function(){return Spacebars.mustache(e.lookup("joinTags"),e.lookup("tags"))}}),"\n                "),"\n                ",c.DIV({"class":"col-md-6"},"\n                  ",c.LABEL("Slug"),"\n                  ",c.INPUT({type:"text","class":"form-control",name:"slug",placeholder:"Slug",value:function(){return Spacebars.mustache(e.lookup("slug"))}}),"\n                "),"\n              "),"\n              ",c.DIV({"class":"row form-group"},"\n                ",c.DIV({"class":"col-md-12"},"\n                  ",c.LABEL("Body"),"\n                  ",c.DIV({"class":"editable",tabindex:"3"},"\n                    ",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("body")))},"\n                  "),"\n                  ",c.BUTTON({type:"submit","class":"btn btn-default"},"\n                    ",c.I({"class":"fa fa-save"})," Save\n                  "),"\n                  ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogAdmin")},"class":"btn btn-default"},"\n                    ",c.I({"class":"fa fa-ban"})," Cancel\n                  "),"\n                "),"\n              "),"\n            "),"\n          "]})),"\n\n        "),"\n      "),"\n    "),"\n  ")})}.call(this),function(){e="object"==typeof e?e:{};var i;i=function(){return Post.first(r.get("postId"))},o.blogAdminEdit.rendered=function(){return this.editor=new t(".editable",{placeholder:"Start typing...",buttons:["bold","italic","underline","anchor","pre","header1","header2","orderedlist","unorderedlist","quote","image"]})},o.blogAdminEdit.helpers({post:function(){return i()||{}}}),o.blogAdminEdit.events({"blur [name=title]":function(e,t){var n,r;return e.preventDefault(),n=t.$("[name=slug]"),r=$(e.currentTarget).val(),n.val()?void 0:n.val(Post.slugify(r))},"submit form":function(e){var t,r,o,s,c;return e.preventDefault(),o=$(e.currentTarget),r=$(".editable",o).html().trim(),c=$("[name=slug]",o).val(),r?(t={title:$("[name=title]",o).val(),tags:$("[name=tags]",o).val(),slug:c,body:r,updatedAt:new Date},i()?(s=i().update(t),s.errors?alert(_(s.errors[0]).values()[0]):a.go("blogAdmin")):n.call("doesBlogExist",c,function(e,r){return r?alert("Blog with this slug already exists"):(t.userId=n.userId(),s=Post.create(t),s.errors?alert(_(s.errors[0]).values()[0]):a.go("blogAdmin"))})):alert("Blog body is required")}})}.call(this),function(){o.__define__("blogIndex",function(){var e=this;return c.DIV({id:"meteor-blog","class":"blog-list"},"\n    ",c.DIV({"class":"container"},"\n      ",c.DIV({"class":"row"},"\n        ",c.DIV({"class":"col-md-8 col-md-offset-2"},"\n          ",Spacebars.include(e.lookupTemplate("blogIndexLoop")),"\n          ",function(){return Spacebars.mustache(e.lookup("blogPager"))},"\n        "),"\n      "),"\n    "),"\n  ")}),o.__define__("blogIndexLoop",function(){var e=this;return i.Each(function(){return Spacebars.call(e.lookup("posts"))},i.block(function(){var e=this;return["\n    ",c.ARTICLE({"class":"post"},"\n      ",c.H2("\n        ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogShow")}},function(){return Spacebars.mustache(e.lookup("title"))}),"\n      "),"\n      ",c.DIV({"class":"post-meta"},"\n        By ",function(){return Spacebars.mustache(e.lookup("authorName"))}," on ",function(){return Spacebars.mustache(e.lookup("blogFormatDate"),e.lookup("publishedAt"))},"\n        ",Spacebars.include(e.lookupTemplate("blogTags")),"\n      "),"\n      ",c.DIV({"class":"the-content"},"\n        ",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("excerpt")))},"\n      "),"\n    "),"\n  "]}),i.block(function(){return"\n    This blog is looking pretty empty...\n  "}))}),o.__define__("blogTags",function(){var e=this;return i.If(function(){return Spacebars.call(e.lookup("tags"))},i.block(function(){var e=this;return["\n    ",c.DIV({"class":"post-tags"},"\n      ",c.P(" ",c.CharRef({html:"&ndash;",str:""})," Tags: ",function(){return Spacebars.mustache(e.lookup("blogFormatTags"),e.lookup("tags"))}),"\n    "),"\n  "]}))})}.call(this),function(){o.__define__("blogShow",function(){var e=this;return c.DIV({id:"meteor-blog","class":"blog-single"},"\n    ",c.DIV({"class":"container"},"\n      ",c.DIV({"class":"row"},"\n        ",c.DIV({"class":"col-md-8 col-md-offset-2"},"\n          ",Spacebars.include(e.lookupTemplate("blogShowBody")),"\n        "),"\n      "),"\n    "),"\n  ")}),o.__define__("blogShowBody",function(){var e=this;return[c.ARTICLE({"class":"post"},"\n    ",c.H2(function(){return Spacebars.mustache(e.lookup("title"))}),"\n    ",c.DIV({"class":"post-meta"},"\n      By ",function(){return Spacebars.mustache(e.lookup("authorName"))}," on ",function(){return Spacebars.mustache(e.lookup("blogFormatDate"),e.lookup("publishedAt"))},"\n      ",Spacebars.include(e.lookupTemplate("blogTags")),"\n    "),"\n    ",c.DIV({"class":"the-content"},"\n      ",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("html")))},"\n    "),"\n  "),"\n  ",c.DIV({"class":"blog-back-link pull-left"},"\n    ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogIndex")}},c.Raw('<i class="fa fa-caret-left"></i>Back to the Blog')),"\n  "),c.Raw('\n  <div class="share-buttons pull-right">\n    <a target="_blank" class="btn-facebook fb-share" href="#"><i class="fa fa-facebook"></i>Share on Facebook </a>\n    <a class="btn-twitter tw-share" href="#"><i class="fa fa-twitter"></i>Share on Twitter </a>\n  </div>')]})}.call(this),function(){e="object"==typeof e?e:{};o.blogShowBody.rendered=function(){var e,t,n,r,o,i,a,s;return this.data.published||$("<meta>",{name:"robots",content:"noindex,nofollow"}).appendTo("head"),$('meta[property^="og:"]').remove(),$('meta[property^="twitter:"]').remove(),$("<meta>",{property:"og:type",content:"article"}).appendTo("head"),$("<meta>",{property:"og:site_name",content:location.hostname}).appendTo("head"),$("<meta>",{property:"og:url",content:location.origin+location.pathname}).appendTo("head"),$("<meta>",{property:"og:title",content:this.data.title}).appendTo("head"),$("<meta>",{property:"og:description",content:this.data.excerpt}).appendTo("head"),r=this.data.thumbnail(),r&&(/^http(s?):\/\/+/.test(r)||(r=location.origin+r),$("<meta>",{property:"og:image",content:r}).appendTo("head")),$("<meta>",{property:"twitter:card",content:"summary"}).appendTo("head"),e=this.data.author(),e.profile&&e.profile.twitter&&$("<meta>",{property:"twitter:creator",content:e.profile.twitter}).appendTo("head"),e.profile&&e.profile.profileUrl&&$("<link>",{href:e.profile.profileUrl,rel:"author"}).appendTo("head"),$("<meta>",{property:"twitter:url",content:location.origin+location.pathname}).appendTo("head"),$("<meta>",{property:"twitter:title",content:this.data.title}).appendTo("head"),$("<meta>",{property:"twitter:description",content:this.data.excerpt}).appendTo("head"),$("<meta>",{property:"twitter:image:src",content:r}).appendTo("head"),t="https://twitter.com/intent/tweet",s=encodeURIComponent(location.origin+location.pathname),i=encodeURIComponent(this.data.title),n=t+"?url="+s+"&text="+i,e.profile&&e.profile.twitter&&(n+="&via="+e.profile.twitter),$(".tw-share").attr("href",n),t="https://www.facebook.com/sharer/sharer.php",s=encodeURIComponent(location.origin+location.pathname),a=encodeURIComponent(this.data.title),o=encodeURIComponent(this.data.excerpt),n=t+"?s=100&p[url]="+s+"&p[title]="+a+"&p[summary]="+o,r&&(n+="&p[images][0]="+encodeURIComponent(r)),$(".fb-share").attr("href",n)}}.call(this),function(){e="object"==typeof e?e:{};n.isClient&&a.onBeforeAction("loading"),a.map(function(){return n.isServer&&this.route("rss",{where:"server",path:"/rss/posts",action:function(){return this.response.write(n.call("serveRSS")),this.response.end()}}),this.route("blogIndex",{path:"/blog",onRun:function(){return Blog.settings.blogIndexTemplate&&(this.template=Blog.settings.blogIndexTemplate),!r.get("postLimit")&&Blog.settings.pageSize?r.set("postLimit",Blog.settings.pageSize):void 0},waitOn:function(){return[n.subscribe("posts",r.get("postLimit")),n.subscribe("authors")]},fastRender:!0,data:function(){return{posts:Post.where({published:!0},{sort:{publishedAt:-1}})}}}),this.route("blogTagged",{path:"/blog/tag/:tag",onRun:function(){return Blog.settings.blogIndexTemplate?this.template=Blog.settings.blogIndexTemplate:void 0},waitOn:function(){return[n.subscribe("taggedPosts",this.params.tag),n.subscribe("authors")]},fastRender:!0,data:function(){return{posts:Post.where({published:!0,tags:this.params.tag},{sort:{publishedAt:-1}})}}}),this.route("blogShow",{path:"/blog/:slug",notFoundTemplate:"blogNotFound",onRun:function(){var e,t;return Blog.settings.blogShowTemplate?(this.template=Blog.settings.blogShowTemplate,e=o.blogShowBody.rendered,t=o[this.template].rendered,o[this.template].rendered=t?function(){return e.call(this),t.call(this)}:e):void 0},waitOn:function(){return[n.subscribe("singlePostBySlug",this.params.slug),n.subscribe("authors")]},data:function(){return Post.first({slug:this.params.slug})}}),this.route("blogAdmin",{path:"/admin/blog",onRun:function(){return Blog.settings.blogAdminTemplate?this.template=Blog.settings.blogAdminTemplate:void 0},onBeforeAction:function(e){return n.loggingIn()?e():n.call("isBlogAuthorized",function(e){return function(t,n){return n?void 0:e.redirect("/blog")}}(this))},waitOn:function(){return[n.subscribe("posts"),n.subscribe("authors")]},data:function(){return!0}}),this.route("blogAdminEdit",{path:"/admin/blog/edit/:id",onRun:function(){return Blog.settings.blogAdminEditTemplate?this.template=Blog.settings.blogAdminEditTemplate:void 0},onBeforeAction:function(e){return n.loggingIn()?e():n.call("isBlogAuthorized",function(e){return function(t,n){return n?r.set("postId",e.params.id):e.redirect("/blog")}}(this))},waitOn:function(){return[n.subscribe("singlePostById",this.params.id),n.subscribe("authors")]},data:function(){return!0}})})}.call(this),function(){e="object"==typeof e?e:{};var t={}.hasOwnProperty,r=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.Author=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t._collection=n.users,t.has_many=[{name:"posts",foreign_key:"userId"}],t.current=function(){return n.userId()?t.init(n.user()):void 0},t}(Minimongoid)}.call(this),function(){e="object"==typeof e?e:{};var t={}.hasOwnProperty,r=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.Post=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t._collection=new n.Collection("blog_posts"),t.belongs_to=[{name:"author",identifier:"userId"}],t.after_save=function(e){return e.tags=t.splitTags(e.tags),e.body&&(e.excerpt=t.excerpt(e.body)),this._collection.update({_id:e.id},{$set:{tags:e.tags,excerpt:e.excerpt}})},t.slugify=function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(RegExp(" +","g"),"-")},t.splitTags=function(e){return e&&"string"==typeof e?e.split(/,\s*/):e},t.prototype.validate=function(){return this.title||this.error("title","Blog title is required"),this.slug?void 0:this.error("slug","Blog slug is required")},t.prototype.html=function(){return this.body},t.prototype.thumbnail=function(){var e,t;for(t=new RegExp(/img src=[\'"]([^\'"]+)/gi);e=t.exec(this.body);)return e[1]},t.excerpt=function(e){var t,n,r;for(n=e.split(/<\/div>|<\/p>|<\/blockquote>|<br><br>|\\n\\n|\\r\\n\\r\\n/m),t=0,r="";!r&&n[t];)r+=n[t++].replace(/(<([^>]+)>)/gi," ").replace("&nbsp;"," ").trim();return r},t.prototype.authorName=function(){var e;if(e=this.author()){if(e.profile&&e.profile.name)return e.profile.name;if(e.profile&&e.profile.firstName&&e.profile.lastName)return""+e.profile.firstName+" "+e.profile.lastName;if(e.profile&&e.profile.twitter)return'<a href="http://twitter.com/'+e.profile.twitter+'">'+e.profile.twitter+"</a>";if(e.username)return e.username;if(e.emails&&e.emails[0])return e.emails[0].address}return"Mystery blogger"},t}(Minimongoid),Post._collection.allow({insert:function(){return n.call("isBlogAuthorized")},update:function(){return n.call("isBlogAuthorized")},remove:function(){return n.call("isBlogAuthorized")}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.blog={}}(),function(){{var e,t,n=(Package.meteor.Meteor,Package.jquery.$),r=(Package.jquery.jQuery,Package.underscore._),o=(Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router);Package["iron-router"].IronLocation}(function(){t="object"==typeof t?t:{};e=function(){function e(){}return e.percent=0,e.isReady=!1,e.isDone=!1,e.element=!1,e.options={},e.currentOptions={},e.configure=function(e){return null==e&&(e={}),r.isObject(e)&&(r.extend(this.options,e),this.currentOptions=r.clone(this.options)),this},e.prepare=function(){return this.isReady?void 0:(this.element=n(r.isFunction(this.options.element)?this.options.element.call(this):this.options.element),this.element.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(e){return function(t){return""===t.originalEvent.pseudoElement&&t.originalEvent.propertyName===r.last(e.element.css("transition-property").split(", "))?e.reset():void 0}}(this)),this.isReady=!0,n("body").append(this.element),this)},e.reset=function(){return this.isReady&&(clearTimeout(this.ticker),this.percent=0,this.isDone=!1,this.currentOptions.reset.call(this)),this},e.start=function(e){return null==e&&(e={}),r.isObject(e)&&(this.currentOptions=r.extend({},this.options,e)),this.isReady&&(this.reset(),this.currentOptions.enabled&&(this.progress(),this.currentOptions.tick&&this.tick())),this},e.tick=function(){return this.ticker=setTimeout(function(e){return function(){return e.progress(),e.tick()}}(this),750*Math.random()+750),this},e.progress=function(e){return null==e&&(e=!1),this.percent+=e?e:(100-this.percent)*(.45*Math.random()+.05)|0,this.percent>=100?this.done():(this.currentOptions.progress.call(this),this)},e.done=function(){return this.isReady&&!this.isDone&&(clearTimeout(this.ticker),this.percent=100,this.isDone=!0,this.currentOptions.done.call(this)),this},e}(),e.configure({element:'<div id="iron-router-progress"></div>',spinner:!0,tick:!0,enabled:!0,reset:function(){return this.element.removeClass("loading done"),this.element.css("width","0%"),this.element.toggleClass("spinner",this.currentOptions.spinner),this.element[0].offsetWidth=this.element[0].offsetWidth,this},progress:function(){return this.element.addClass("loading"),this.element.removeClass("done"),this.element&&this.element.css("width",""+this.percent+"%"),this},done:function(){return this.element.addClass("done"),this.element.css("width","100%"),this}}),o.onRun(function(){var t;return e.start((null!=(t=this.route.options)?t.progress:void 0)||{}),this}),o.onBeforeAction(function(t){return this.ready()?e.done():(e.progress(),r.isFunction(t)?t():this.stop()),this}),o.onAfterAction(function(){return e.done(),this}),o.onStop(function(){return e.reset(),this}),n(function(){return e.prepare()})}).call(this),"undefined"==typeof Package&&(Package={}),Package["iron-router-progress"]={IronRouterProgress:e}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["handlebars-server"]={}}(),function(){{var e,t,n,r,o,i,a,s,c=Package.meteor.Meteor,u=(Package.underscore._,Package.deps.Deps),l=Package.ejson.EJSON;Package["accounts-base"].Accounts}(function(){n=function(e){var t=l.stringify(e);return encodeURI(t)},r=function(e){var t=decodeURI(e);return l.fromJSONValue(JSON.parse(t))}}).call(this),function(){!function(e){"use strict";var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(n,r,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(r===e?-1:o.expires),t._document.cookie=t._generateCookieString(n,r,o),t},t.expire=function(n,r){return t.set(n,e,r)},t._getExtendedOptions=function(n){return{path:n&&n.path||t.defaults.path,domain:n&&n.domain||t.defaults.domain,expires:n&&n.expires||t.defaults.expires,secure:n&&n.secure!==e?n.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=encodeURIComponent(e),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},t._getCookieObjectFromString=function(n){for(var r={},o=n?n.split("; "):[],i=0;i<o.length;i++){var a=t._getKeyValuePairFromCookieString(o[i]);r[a.key]===e&&(r[a.key]=a.value)}return r},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){return t._navigator.cookieEnabled||"1"===t.set("cookies.js",1).get("cookies.js")},t.enabled=t._areEnabled(),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),o=window.Cookies,delete window.Cookies}.call(this),function(){i=a=function(){var e,t,n,r,o,i,s=arguments[0]||{},c=1,u=arguments.length,l=!1,f=Object.prototype.toString,d=Object.prototype.hasOwnProperty,p=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),h={isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):p[f.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==h.type(e)||e.nodeType)return!1;try{if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||d.call(e,n)}};for("boolean"==typeof s&&(l=s,s=arguments[1]||{},c=2),"object"==typeof s||h.isFunction(s)||(s={}),u===c&&(s=this,--c),c;u>c;c++)if(null!=(e=arguments[c]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(h.isPlainObject(r)||(o=h.isArray(r)))?(o?(o=!1,i=n&&h.isArray(n)?n:[]):i=n&&h.isPlainObject(n)?n:{},s[t]=a(l,i,r)):void 0!==r&&(s[t]=r));return s}}.call(this),function(){s=function(){"undefined"!=typeof console&&"undefined"!=typeof localStorage&&"1"==localStorage.getItem("__frlog")&&(arguments[0]=arguments[0]+":",console.log.apply(console,arguments))},s.enable=function(){localStorage.setItem("__frlog","1")},s.disable=function(){localStorage.removeItem("__frlog")}}.call(this),function(){e={},e.completeSubscriptions=function(e){if("string"==typeof e)e=[e];else if(e.constructor!=Array)throw new Error("subscriptions params should be either a string or array of strings");e.forEach(function(e){__fast_render_config.subscriptions[e]=!0})},e.enabled="undefined"!=typeof __fast_render_config,e.Log=s}.call(this),function(){if("undefined"==typeof __fast_render_config)return s("NO_FAST_RENDER"),void 0;var e=!1,t=c.default_connection._livedata_data;c.default_connection._livedata_data=function(n){if(s("DDP_RECIEVE",n),!e){var r=c._get(this._serverDocuments,n.collection,n.id);if(!r&&"added"==n.msg){var o=c.default_connection._mongo_livedata_collections[n.collection];if(o){var a=o.findOne(n.id);a&&(n.fields=i(!0,a,n.fields),delete n.fields._id,n.msg="changed")}}"ready"==n.msg&&!n.frGen&&__fast_render_config.subscriptions&&n.subs.forEach(function(e){var t=__fast_render_config.subscriptionIdMap[e];t&&(s("DELETING_SUBSCRIPTION",t,e),delete __fast_render_config.subscriptions[t],delete __fast_render_config.subscriptionIdMap[e],__fast_render_config.loadedSubscriptions[t]=!0)}),l.equals(__fast_render_config.subscriptions,{})&&(s("REVERTING_BACK_TO_ORIGINAL_DDP_HANDLING"),e=!0)}return t.call(this,n)};var n=c.default_connection._send;c.default_connection._send=function(t){s("DDP_SEND",t),"connect"==t.msg&&void 0!=t.session&&(e=!0);var r=this;return e||"sub"==t.msg&&__fast_render_config.subscriptions&&__fast_render_config.subscriptions[t.name]&&(s("FAKE_SUB_READY",t.name),r._livedata_data({msg:"ready",subs:[t.id],frGen:!0}),__fast_render_config.subscriptionIdMap[t.id]=t.name),n.call(this,t)}}.call(this),function(){t=function(e){var t=r(e);for(var n in t.collectionData){var o=t.collectionData[n];o.forEach(function(e){e.forEach(function(e){var t=c.default_connection._mongo_livedata_collections[n];if(t){var r=t.findOne(e._id);r?(i(!0,r,e),t.update(e._id,r)):t.insert(e)}else console.warn("fast-route data found, but no collection exists for: "+n)})})}}}.call(this),function(){function t(){var e=document.createElement("a");return e.href=location.href,e.pathname}if(Package["iron-router"]){var n=new c.EnvironmentVariable,r=e.RouteController=Package["iron-router"].RouteController,o=r.prototype._run?"_run":"run",i=r.prototype[o];r.prototype[o]=function(){var t=this;e.enabled?n.withValue(!0,function(){i.call(t)}):i.call(this)};var a=c.subscribe;c.subscribe=function(r){var o=e.enabled&&n.get()&&t()==__fast_render_config.serverRoutePath&&__fast_render_config.subscriptions[r]&&!__fast_render_config.loadedSubscriptions[r];return o?(s("APPLY_IR_SUB_CORRECTIONS",r),a.apply(this,arguments),{ready:function(){return!0}}):a.apply(this,arguments)}}}.call(this),function(){"function"==typeof c.user?u.autorun(function(){var e=c.user(),t=c.status();if(t.connected)if(e){var n=c._localStorage.getItem("Meteor.loginToken"),r=c._localStorage.getItem("Meteor.loginTokenExpires");o.set("meteor_login_token",n,{path:"/",expires:r})}else o.expire("meteor_login_token")}):o.expire("meteor_login_token")}.call(this),"undefined"==typeof Package&&(Package={}),Package["fast-render"]={FastRender:e,__init_fast_render:t}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){e={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:e}}(),function(){{var e,t,n=(Package.meteor.Meteor,Package.ejson.EJSON);Package.underscore._}(function(){e={obj:function(e){var t=document.getElementById(e);return t?n.parse(t.innerHTML):void 0},meta:function(e){return this.metas[e]},parseMetas:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)this.metas[e[t].getAttribute("name")]=e[t].getAttribute("content")},metas:{}},e.parseMetas(),t={getObj:e.obj,getMeta:e.meta}}).call(this),"undefined"==typeof Package&&(Package={}),Package["inject-initial"]={Injected:e,Inject:t}}(),function(){{var e,t=Package.meteor.Meteor,n=(Package.webapp.WebApp,Package.livedata.DDP,Package.templating.Template,Package.deps.Deps),r=(Package["inject-initial"].Injected,Package["inject-initial"].Inject);Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML}(function(){e={list:{},proxyCount:0,setProxyCount:function(e){this.proxyCountDeprecated(!0),this.proxyCount=e},getProxyCount:function(){return this.proxyCount},proxyCountDeprecated:function(e){e&&console.log("Specifying the proxyCount is deprecated.  By default, we now use the HTTP_FORWARDED_COUNT environment variable which is used by Meteor 0.7.1+ too (and set by default in development environment and meteor.com with correct values.")}}}).call(this),function(){e.token=(new Date).getTime()+Math.random(),e.dep=new n.Dependency,e.store=function(e){this.list=e.headers,e.proxyCount&&(this.proxyCount=e.proxyCount),t.call("headersToken",e.token||this.token);for(var n=0;n<this.readies.length;n++)this.readies[n]();this.readiesRun=!0,this.dep.changed()},n.autorun(function(){var n=t.status();n.connected||0!=n.retryCount||t.call("headersToken",e.token)}),e.readies=[],e.readiesRun=!1,e.ready=function(e){return e?(this.readies.push(e),this.readiesRun&&e(),void 0):(this.dep.depend(),Object.keys(this.list).length>0)};var o=r.getObj("meteor-headers");o?(e.store(o),delete o):!function(t,n){var r=t.createElement(n),o=t.getElementsByTagName(n)[0];r.src="/headersHelper.js?token="+e.token,o.parentNode.insertBefore(r,o)}(document,"script"),e.get=function(e){return this.dep.depend(),e?this.list[e.toLocaleLowerCase()]:this.list},e.getClientIP=function(e){var t=this.get("x-ip-chain").split(",");return"undefined"==typeof e&&(e=this.proxyCount),t[t.length-e-1]}}.call(this),"undefined"==typeof Package&&(Package={}),Package.headers={headers:e}}(),function(){var e,t=Package.meteor.Meteor;(function(){var e=new t.EnvironmentVariable,n=Package["iron-router"]&&Package["iron-router"].RouteController;if(n){var r=n.prototype._run?"_run":"run",o=n.prototype[r];n.prototype[r]=function(){var t=this;e.withValue(this,function(){o.call(t)})}}var i=t.default_connection._send;t.default_connection._send=function(t){if("sub"==t.msg){var n=e.get();if(n){var r=n.route.name;t.route=r}else t.route=null}return i.call(this,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.apm={Apm:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.htmljs.HTML),n=Package.ui.UI,r=Package.ui.Handlebars;(function(){e={},e.include=function(e,t,r){if(t&&!n.isComponent(t))throw new Error("Second argument to Spacebars.include must be a template or UI.block if present");if(r&&!n.isComponent(r))throw new Error("Third argument to Spacebars.include must be a template or UI.block if present");var o=null;if(t&&(o=o||{},o.__content=t),r&&(o=o||{},o.__elseContent=r),n.isComponent(e))return e.extend(o);var i=e,a=function(){var e=n.namedEmboxValue("Spacebars.include",i);a.stop=function(){e.stop()};var t=e();if(null===t)return null;if(!n.isComponent(t))throw new Error("Expected null or template in return value from inclusion function, found: "+t);return t.extend(o)};return a},e.mustacheImpl=function(){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof e.kw){var r={};for(var o in n.hash){var i=n.hash[o];r[o]="function"==typeof i?i():i}t[t.length-1]=e.kw(r)}else n=e.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return e.call.apply(null,t)},e.mustache=function(){var n=e.mustacheImpl.apply(null,arguments);return n instanceof e.SafeString?t.Raw(n.toString()):null==n||n===!1?null:String(n)},e.attrMustache=function(){var n=e.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&t.isValidAttributeName(n)){var r={};return r[n]="",r}throw new Error("Expected valid attribute name, '', null, or object")},e.dataMustache=function(){var t=e.mustacheImpl.apply(null,arguments);return t},e.makeRaw=function(e){return null==e?null:e instanceof t.Raw?e:t.Raw(e)},e.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(arguments.length>1)throw new Error("Can't call non-function: "+e);return e},e.kw=function(t){return this instanceof e.kw?(this.hash=t||{},void 0):new e.kw(t)},e.SafeString=function(t){return this instanceof e.SafeString?new r.SafeString(t):new e.SafeString(t)},e.SafeString.prototype=r.SafeString.prototype,e.dot=function(t,n){if(arguments.length>2){var r=[];return r.push(e.dot(t,n)),r.push.apply(r,Array.prototype.slice.call(arguments,2)),e.dot.apply(null,r)}if("function"==typeof t&&(t=t()),!t)return t;var o=t[n];return"function"!=typeof o?o:function(){return o.apply(t,arguments)}},e.With=function(e,t,r){return n.Component.extend({init:function(){this.v=n.emboxValue(e,n.safeEquals)},render:function(){return n.If(this.v,n.With(this.v,t),r)},materialized:function(){var e=function(){var e=this;Deps.active&&Deps.onInvalidate(function(){e.v.stop()})};return e.isWith=!0,e}()})},e.TemplateWith=function(e,t){var r=n.With(e,t);return r.__isTemplateWith=!0,r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:e}}(),RouteController=Package["iron-router"].RouteController,Route=Package["iron-router"].Route,Router=Package["iron-router"].Router,IronLocation=Package["iron-router"].IronLocation,AccountsEntry=Package["accounts-entry"].AccountsEntry,_s=Package["underscore-string-latest"]._s,HTTP=Package.http.HTTP,moment=Package.moment.moment,IronRouterProgress=Package["iron-router-progress"].IronRouterProgress,FastRender=Package["fast-render"].FastRender,__init_fast_render=Package["fast-render"].__init_fast_render,Roles=Package.roles.Roles,headers=Package.headers.headers,Apm=Package.apm.Apm,Session=Package.session.Session,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Deps=Package.deps.Deps,DDP=Package.livedata.DDP,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,Accounts=Package["accounts-base"].Accounts,HTML=Package.htmljs.HTML,function(){Template.__define__("profile",function(){return HTML.Raw('<div class="admin profile">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-3">\n          <div class="user-pic hacker">\n            <img src="http://differential.io/assets/people/josh-6b0d98fb4ef685400a94539f096ce567.jpg">\n          </div>\n        </div>\n        <div class="col-md-9">\n          <h1>My Profile</h1>\n          <form>\n            <div class="row">\n              <div class="form-group col-md-6">\n                <label>First Name</label>\n                <input type="text" class="form-control">\n              </div>\n              <div class="form-group col-md-6">\n                <label>Last Name</label>\n                <input type="text" class="form-control">\n              </div>\n            </div>\n            <div class="row">\n              <div class="form-group col-md-6">\n                <label>Email Address</label>\n                <input type="email" class="form-control">\n              </div>\n              <div class="form-group col-md-6">\n                <label>Twitter Handle</label>\n                <input type="text" class="form-control" placeholder="@yourtwitter">\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-md-6">\n                <p class="form-label">Role</p>\n                <div class="roles">\n                  <label class="radio-inline">\n                    <input type="radio" name="optionsUserType">\n                      Hacker\n                  </label>\n                  <label class="radio-inline">\n                    <input type="radio" name="optionsUserType">\n                      Hustler\n                  </label>\n                  <label class="radio-inline">\n                    <input type="radio" name="optionsUserType">\n                      Designer\n                  </label>\n                </div>\n              </div>\n              <div class="col-md-6">\n                <p class="form-label">More Actions</p>\n                <div class="buttons">\n                  <a href="#" class="bttn bttnOrange btn-block animate pulse"><i class="icon-cloud-upload"></i>Upload New Photo<span>Minimum 400px Square</span></a>\n                  <a href="/forgot-password" class="bttn bttnBlue btn-block animate pulse"><i class="icon-lock"></i>Reset Your Password</a>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>')
})}(),function(){Template.__define__("about",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Our Process.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="container process page">\n    <div class="row">\n      <div class="col-md-8 col-md-offset-2">\n        <section>\n          <h2>What We Do</h2>\n          <p>For many entrepreneurs, there have historically been two ways to launch a tech startup. Either find a technical co-founder, or hire an agency. The first is very hard, the second is expensive and risky.</p>\n          <p>Differential provides a third option. We integrate with your early stage startup, building the first version of your product at a discounted rate, in exchange for equity. This ensures our long-term interests are aligned, meaning your success is important to our success.</p>\n        </section>\n        <section>\n          <h2>Customer Validation</h2>\n          <p>The first step in our process is validating that people are actually willing to pay for the problem you\'re solving. We teach and practice lean startup methodologies, which equates to talking to customers early and often. If there\'s not a problem worth paying for, then the solution isn\'t worth building.</p>\n        </section>\n        <section>\n          <h2>Minimum Viable Product</h2>\n          <p>Once we\'ve validated that there\'s a problem, and people are willing to pay for a solution, we begin building the minimum viable product (MVP).</p>\n          <p>The MVP is the bare minimum product that could be used to begin acquiring customers. This allows us to begin building traction, testing assumptions, receiving feedback, and continue validating the business model as early as possible.</p>\n        </section>\n        <section>\n          <h2>Scale &amp; Grow</h2>\n          <p>If the MVP further validates the business model, we step up the growth marketing and transition to scaling the product and features.</p>\n          <p>This includes generating press, a/b testing landing pages, improving user flows, minimizing load times and building new features.</p>\n        </section>\n        <section>\n          <h2>Team Transition</h2>\n          <p>We generally work full-time with a startup for 3-6 months. Because our interests are aligned with equity, it\'s important that as our direct involvement wraps up, we have an adequate transition plan in place.</p>\n          <p>This includes making introductions to investors and mentors, assisting with fundraising, and recruiting and training early employees.</p>\n        </section>\n      </div>\n    </div>\n  </div>\n\n  <section class="call-to-action">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col1">\n          <i class="icon-lightbulb"></i>\n          <p>Have a company or startup idea? Get in touch with us to find out how we can help!</p>\n        </div>\n        <div class="col-md-4 col2">\n          <a class="bttn bttnBlue bttnBig animate pulse" href="/apply">Idea Application</a>\n        </div>\n      </div>\n    </div>\n  </section>')})}(),function(){Template.__define__("_connectionsMessage",function(){var e=this;return UI.If(function(){return Spacebars.call(e.lookup("connectionsMessage"))},UI.block(function(){var e=this;return["\n    ",HTML.DIV("\n      ",function(){return Spacebars.mustache(e.lookup("connectionsMessage"))},"\n    "),"\n  "]}))})}(),function(){Template.__define__("blog",function(){var e=this;return[HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>From the Blog.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  '),HTML.DIV({"class":"blog container"},"\n    ",HTML.DIV({"class":"row"},"\n\n      ",HTML.DIV({"class":"col-md-9 col-md-push-3"},"\n        ",UI.Each(function(){return Spacebars.call(e.lookup("posts"))},UI.block(function(){var e=this;return["\n          ",Spacebars.include(e.lookupTemplate("postExcerpt")),"\n        "]})),"\n        ",function(){return Spacebars.mustache(e.lookup("blogPager"))},"\n      "),"\n\n      ",HTML.DIV({"class":"col-md-3 col-md-pull-9"},"\n        ",Spacebars.include(e.lookupTemplate("sidebar")),"\n      "),"\n\n    "),"\n  ")]}),Template.__define__("postExcerpt",function(){var e=this;return HTML.ARTICLE({"class":"post"},"\n    ",HTML.H2("\n      ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogShow")}},function(){return Spacebars.mustache(e.lookup("title"))}),"\n    "),"\n    ",HTML.DIV({"class":"author-pic hidden-xs"},"\n      ",HTML.A({"class":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","type"))},href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","twitter"))}},HTML.IMG({alt:function(){return Spacebars.mustache(e.lookup("fullName"))},src:["/img/people/",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","photo"))}]})),"\n    "),"\n    ",HTML.DIV({"class":"post-meta"},"\n      By ",HTML.A({href:["http://twitter.com/",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","twitter"))}]},function(){return Spacebars.mustache(e.lookup("fullName"))})," on ",HTML.TIME({datetime:function(){return Spacebars.mustache(e.lookup("publishedAt"))}}),function(){return Spacebars.mustache(e.lookup("date"),e.lookup("publishedAt"))},"\n    "),"\n    ",HTML.DIV({"class":"the-content"},"\n      ",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("excerpt")))},"\n    "),"\n  ")})}(),function(){Template.__define__("blogView",function(){var e=this;return[HTML.Raw('<input type="hidden" name="OBKey" value="Y2ae5iTgn5l4hO80SkewJQ==">\n  \n  '),HTML.DIV({"class":"blog-single"},"\n    ",HTML.DIV({"class":"container"},"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-md-3 visible-lg"},"\n          ",HTML.DIV({"class":"author"},"\n            ",HTML.DIV({"class":["pic ",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","type"))}]},"\n              ",HTML.IMG({alt:function(){return Spacebars.mustache(e.lookup("fullName"))},src:["/img/people/",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","photo"))}]}),"\n            "),HTML.Raw("\n            <h2></h2>\n            "),HTML.DIV({"class":"tweeter animate tada"},"\n              ",HTML.A({href:["http://twitter.com/",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","twitter"))}],target:"_blank"},HTML.Raw('<i class="icon-twitter"></i>')),"\n            "),"\n          "),HTML.Raw("\n\n          <!-- Ad Space -->\n          "),Spacebars.include(e.lookupTemplate("ad")),"\n        "),"\n\n        ",HTML.DIV({"class":"col-md-9"},"\n          ",HTML.ARTICLE({"class":"post"},"\n            ",HTML.H2(function(){return Spacebars.mustache(e.lookup("title"))}),"\n            ",HTML.DIV({"class":"post-meta"},"\n              by ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("author"),"profile","profileUrl"))},rel:"author"},function(){return Spacebars.mustache(e.lookup("fullName"))})," on ",HTML.TIME({datetime:function(){return Spacebars.mustache(e.lookup("publishedAt"))}}),function(){return Spacebars.mustache(e.lookup("date"),e.lookup("publishedAt"))},"\n            "),"\n            ",HTML.DIV({"class":"the-content"},"\n              ",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("html")))},"\n            "),"\n          "),"\n\n          ",HTML.DIV({"data-src":["http://differential.io/blog/",function(){return Spacebars.mustache(e.lookup("slug"))}],"data-widget-id":"NA","class":"OUTBRAIN"}),HTML.Raw('\n\n          <div class="blog-back-link pull-left">\n            <a href="/blog"><i class="icon-caret-left"></i>Back to the Blog </a>\n          </div>\n\n          <div class="share-buttons pull-right">\n            <a target="_blank" class="bttn facebook fb-share" href="#"><i class="icon-facebook"></i>Share on Facebook </a>\n            <a class="bttn twitter tw-share" href="#"><i class="icon-twitter"></i>Share on Twitter </a>\n          </div>\n        ')),"\n      "),"\n\n    "),"\n  ")]})}(),function(){Template.__define__("brand",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Brand Guidelines.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="brand-guidelines page">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8">\n          <h2>Logos</h2>\n          <section class="row">\n            <div class="col-md-6 logo">\n              <img src="/img/logos/logo-blue-web.png">\n            </div>\n            <div class="col-md-6 links">\n              <a href="/img/logos/logo-blue.jpg">Download .jpg</a>\n              <a href="/img/logos/logo-blue.eps">Download .eps</a>\n              <a href="/img/logos/logo-blue.pdf">Download .pdf</a>\n            </div>\n          </section>\n          <section class="row">\n            <div class="col-md-6 logo">\n              <img src="/img/logos/logo-orange-web.png">\n            </div>\n            <div class="col-md-6 links">\n              <a href="/img/logos/logo-orange.jpg">Download .jpg</a>\n              <a href="/img/logos/logo-orange.eps">Download .eps</a>\n              <a href="/img/logos/logo-orange.pdf">Download .pdf</a>\n            </div>\n          </section>\n          <section class="row">\n            <div class="col-md-6 logo">\n              <img src="/img/logos/logo-sq-blue-web.png">\n            </div>\n            <div class="col-md-6 links">\n              <a href="/img/logos/logo-sq-blue.jpg">Download .jpg</a>\n              <a href="/img/logos/logo-sq-blue.eps">Download .eps</a>\n              <a href="/img/logos/logo-sq-blue.pdf">Download .pdf</a>\n            </div>\n          </section>\n          <section class="row">\n            <div class="col-md-6 logo">\n              <img src="/img/logos/logo-sq-orange-web.png">\n            </div>\n            <div class="col-md-6 links">\n              <a href="/img/logos/logo-sq-orange.jpg">Download .jpg</a>\n              <a href="/img/logos/logo-sq-orange.eps">Download .eps</a>\n              <a href="/img/logos/logo-sq-orange.pdf">Download .pdf</a>\n            </div>\n          </section>\n        </div>\n\n        <div class="col-md-4">\n          <h2>Colors</h2>\n          <div class="color">\n            <span class="blue-square"></span>\n            <strong>Blue</strong><br>\n            HEX: #34495E<br>\n            RGB: R52 G73 B94<br>\n            Pantone: PMS 7546C<br>\n          </div>\n          <div class="color">\n            <span class="orange-square"></span>\n            <strong>Orange</strong><br>\n            HEX: #E67D25<br>\n            RGB: R230 G125 B37<br>\n            Pantone: PMS 716<br>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>')})}(),function(){Template.__define__("clientGuide",function(){return HTML.Raw("<section class=\"header-page\">\n    <div class=\"inner-header\">\n      <div class=\"container\">\n        <div class=\"intro animate fadeIn\">\n          <h1>Client Guide.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class=\"pitch page\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-8 col-md-offset-2\">\n          <h2>What happens after I say \"yes\" to Differential?</h2>\n          <h3>You might have to wait a little</h3>\n\n          <p>We're pretty awesome at what we do, so it might take us some time to get your work into our schedule. We keep a very close eye on that schedule and strive to be extremely transparent with you. So yeah, it sucks to have to wait, but it'll be worth it :)</p>\n\n          <h3>Who will do the work</h3>\n\n          <p>There will be a single partner who is designated as your primary point of contact. The partners of Differential (employee-owners) drive all strategy and vision. To actually execute the work, we do a lot of it locally, but depending on work volume we also tap into development resources elsewhere in the U.S. and internationally. Rest assured that all the big decisions are made by the partners in Cincinnati, they will drive the vision for each user story, and we stand behind the work of our remote contributors.</p>\n\n          <h3>We'll iterate with working software</h3>\n\n          <p>Building a MVP for a new product is a project with an \"abundance\" of uncertainty. Some people try to mitigate that by doing a lot of planning, writing a big spec document, talking, talking, talking... Billing, billing, billing. We take a different approach.</p>\n          <p>We'll spend a tiny amount of time up-front building a queue of user stories (tasks based on the overall experience), and choosing a batch to start on that if we delivered working software, users could receive value by using it.</p>\n          <p>Then we will get working software in you and your users hands ASAP, and deploy updates continuously.</p> \n\n          <h3>How you stay involved</h3>\n\n          <p>We LOVE clients who are super involved, not just up front, but throughout a project. In order to facilitate this, we use project tracking software (often times Trello), which allows our founders to stay very involved without bogging down our developers in email.</p> \n          <p>Here's how we suggest you staying involved (and what we've seen work best):</p>\n\n          <ol>\n            <li>\n              <p>For any changes or new feature suggestions that you definitely want; add those to our project software. That way;</p>\n              <ul>\n                <li>they'll get knocked out once they surface as a priority</li>\n                <li>it's easier to consider them against other to-dos</li>\n                <li>it keeps the team focused on building (not emailing back &amp; forth about new feature ideas)</li>\n              </ul>\n              <p>Definitely OK to just bounce thoughts/ideas off of us if you're not sure, but we suggest you hold those for our regular calls, when possible.</p>\n            </li>\n            <li>\n              <p>Keep in mind that what might seem like \"small changes\" can end up taking hours. For example, something we see with many founders we work with is the tendency to want to continually tweak the homepage (based on gut feel, not user feedback), even before the meat &amp; potatoes are built.</p>\n              <p>In general, we recommend you keep the 80/20 rule in mind. It's pretty rare to nail things out of the gate, anyhow, and it's also hard to tell how much additional impact many early changes might have in helping us validate the concept. Err on the side of getting things pretty good &amp; letting users dictate how we improve from there.</p>\n            </li>\n            <li>\n              <p>When you do have strong opinions about stuff (which is OK, we realize some things are worth extra time/effort), try to provide as detailed direction as you can, as early as possible. For example if you have a clear vision for what the design of a page should be, sharing that as early as possible will help limit the amount of time the team has to put in.</p>\n            </li>\n          </ol>\n\n          <h3>Setting up source control, hosting, analytics, etc.</h3>\n\n          <p>Once you're our client, we'll care about your business forever.</p>\n          <p>But we might not be your developer beyond the earliest days. We are believers that once we uncover a market + product that people will pay you for, it makes sense to recruit a team.</p>\n          <p>So we set everything up so it's easy for you to bring your new team members into the project, and eventually removing us from those services without having to incur a painful services switchover process.</p>\n\n          <h2>What happens after the MVP launches?</h2>\n          <h3>Disappointment (bet you weren't expecting us to say that!)</h3>\n\n          <p>We're a fan of <a href=\"http://www.youtube.com/watch?v=irjgfW0BIrw\">Pirate Metrics</a>.</p>\n          <ul>\n            <li>Acquisition - how many users sign up</li>\n            <li>Activation - how many users do enough intial activity to get value from your app</li>\n            <li>Retention - do they come back? (you're app is going to suck at this at first. Everyone's does.)</li>\n            <li>Referral - do they tell others (nope, not at first.)</li>\n            <li>Revenue - how much money are you generating (this will be close to zero for some time, unfortunately.)</li>\n          </ul>\n          <p>So you launch. More likely than not, most of the numbers above are zero (or close to zero). Now we iterate to fix this.</p>\n\n          <h3>Concierge your first paid users</h3>\n\n          <p>You'll need to go out, identify some people who will pay you for a concierge service using your product. These users will be the best source of learning for all 5 of the pirate metrics.</p>\n          <p>This is all you super, super important though, if you want to build a product that has a chance to be successful.</p>\n\n          <h3>Social media/marketing and operations and fundraising support</h3>\n\n          <p>We'll provide a some support intrinsicly. However, we can provide some paid services for non-development/design work too if you're severly lacking.</p> \n\n          <h2>Do you have traction?</h2>\n\n          <p>Traction is tricky. Getting more visits to your site is nice, but doesn't pay bills. And generating a dollar of revenue that costs you $1.60 is not very cool either.</p>\n          <p>It's all a big guess, until you actually have a profitable business, whether you will ultimately get there.</p>\n          <p>If we sense you're onto something big, we'll want to stay very involved, help with phase 2, try to get some equity in your venture in exchange for discounted billing rates, etc.</p>\n          <p>If we don't love the traction, we might decide to scale down our involvement. WE WILL NOT ABANDON YOU, THOUGH. And we'll always be friends and will offer advice and support. But we won't do equity deals with products we don't believe in.</p>\n        </div>\n      </div>\n    </div>\n  </div>")})}(),function(){Template.__define__("companies",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Our Companies.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n\n  <div class="container">\n    <ul class="companies row">\n      <li class="col-xs-6 col-md-3">\n        <a href="http://www.cladwell.com" target="_blank">\n          <img src="/img/companies/cladwell-logo-blue.svg">\n        </a>\n      </li>\n      <li class="col-xs-6 col-md-3">\n        <a href="http://getliquid.io" target="_blank">\n          <img src="/img/companies/liquid-logo.png">\n        </a>\n      </li>\n      <li class="col-xs-6 col-md-3">\n        <a href="http://www.assistant.io" target="_blank">\n          <img src="/img/companies/assistant-logo-blue.svg">\n        </a>\n      </li>\n      <li class="col-xs-6 col-md-3">\n        <a href="http://www.earthineer.com" target="_blank">\n          <img src="/img/companies/earthineer-logo.png">\n        </a>\n      </li>\n      <li class="col-xs-6 col-md-3">\n        <a href="http://www.coursebook.io" target="_blank">\n          <img src="/img/companies/coursebook-logo-blue.png">\n        </a>\n      </li>\n      <li class="col-xs-6 col-md-3">\n        <a href="http://carp.io" target="_blank">\n          <img src="/img/companies/carp-logo-blue.svg">\n        </a>\n      </li>\n      <li class="col-xs-6 col-md-3">\n        <a href="http://simplecoin.co" target="_blank">\n          <img src="/img/companies/simplecoin-logo-gold.png">\n        </a>\n      </li>\n    </ul>\n  </div>')})}(),function(){Template.__define__("connect",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Startup Connect.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="connect page">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8">\n          <h2>What is Startup Connect?</h2>\n          <p>Connect is a program whereby we scout, source, unlock and develop technical talent for startups in the Cincinnati area.</p>\n          <h4>Why are we doing this?</h4>\n          <p>Everyday we\'re approached by startups looking for technical talent. If our interests align, we might work with them, but we have limited development capacity. There\'s a sizable gap between work available and qualified candidates.</p>\n          <hr>\n          <h2>For Developers</h2>\n          <p>We seek to build a long-term, mutually-beneficial relationship with you. We have dozens of real job opportunities available right now.</p>\n          <p>Not every developer is ready for a startup job. We can prescribe a self-study course to guide you toward skill development that benefits both you and our ecosystem. We can also provide contract work to limit financial risk and build experience.</p>\n          <p>There are no fees for this help.</p>\n          <strong>Why work at a startup?</strong>\n          <p>Working at a startup maximizes your personal growth, gives you an opportunity to earn equity in the business you work for, and usually comes with a lot of work schedule flexibility. If you choose the right company, you can even align your personal mission with your work, which can lead to actually loving Monday mornings.</p>\n          <strong>What skills are in demand?</strong>\n          <p>Javascript, Ruby, Python, PHP, HTML5/CSS/UX, Android, iOS, .NET, Java, Agile.</p>\n          <a href="mailto:connect@differential.io" class="bttn bttnBlue animate pulse"><i class="icon-suitcase"></i> Apply for Work</a>\n          <hr>\n          <h2>For Startups</h2>\n          <p>We reach out to the area\'s top startups to understand what staff you need  co-founder, contractors, full-time employees. Whatever.</p>\n          <p>We negotiate a startup-friendly fee structure based on your development stage. Why do we ask for this fee? We\'re putting resources in. We\'re spending time scouting, interviewing and networking. We\'re coaching, mentoring and developing talent. We\'re convincing developers to leave comfortable corporate jobs, and providing financial fallbacks. We\'re doing much more to solve this problem than simply collecting and forwarding resumes.</p>\n          <a href="mailto:connect@differential.io" class="bttn bttnBlue animate pulse"><i class="icon-group"></i> Apply for Talent</a>\n        </div>\n        <div class="col-md-4 hidden-sm hidden-xs">\n          <div class="icon">\n            <img src="/img/icons/network.svg" class="network-icon">\n          </div>\n          <a href="mailto:connect@differential.io" class="bttn bttnBlue btn-block animate pulse"><i class="icon-suitcase"></i> Apply for Work</a>\n          <a href="mailto:connect@differential.io" class="bttn bttnOrange btn-block animate pulse"><i class="icon-group"></i> Apply for Talent</a>\n        </div>\n      </div>\n    </div>\n  </div>')})}(),function(){Template.__define__("contact",function(){var e=this;return[HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Get In Touch.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  '),HTML.DIV({"class":"contact-page"},"\n    ",HTML.DIV({"class":"container"},"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-md-3"},"\n          ",Spacebars.include(e.lookupTemplate("contactButtons")),"\n        "),"\n        ",HTML.DIV({"class":"col-md-9"},HTML.Raw("\n          <h2>We're easy to talk to.</h2>\n          <p>Interested in working with us, joining our team, partnering with us, or just want to connect? Get in touch! We're always interested in meeting and working with new people in the startup industry.</p>\n          "),HTML.DIV({"class":"contact-info",itemscope:"",itemtype:"http://schema.org/PostalAddress"},HTML.Raw('\n            <h2 itemprop="name">Differential</h2>\n            <p>\n              We work at <a href="http://cintrifuse.com" target="_blank">Cintrifuse</a> <br> \n              <span itemprop="streetAddress">299 E. Sixth Street</span> <br> \n              <span itemprop="addressLocality">Cincinnati</span>, <span itemprop="addressRegion">Ohio</span> <span itemprop="postalCode">45202</span> <br> \n            </p>\n            '),Spacebars.include(e.lookupTemplate("socialIcons")),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")]})}(),function(){Template.__define__("dashboard",function(){return"Hi."})}(),function(){Template.__define__("apply",function(){var e=this;return[HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>APPLY.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  '),HTML.DIV({"class":"form-page"},"\n    ",HTML.DIV({"class":"container"},"\n      ",HTML.DIV({"class":"row"},"\n\n        ",HTML.DIV({"class":"col-md-9 col-md-push-3"},HTML.Raw("\n          <h2>Have a startup company or idea?</h2>\n          <p>We're always looking for talented and hungry entrepreneurs to work with. If you have a company or product idea and would like us to consider working with you to build it, please fill out the following application:</p>\n\n          "),HTML.FORM(HTML.Raw('\n            <div class="form-group">\n              <label for="name">Your name</label>\n              <input name="name" type="text" class="form-control" required="">\n            </div>\n            <div class="form-group">\n              <label for="email">Your email</label>\n              <input name="email" type="email" class="form-control" required="">\n            </div>\n            <div class="form-group">\n              <label for="location">Where do you live? Where will the company be based?</label>\n              <input name="location" type="text" class="form-control">\n            </div>\n            <div class="form-group">\n              <label for="company-name">Company/product name</label>\n              <input name="company-name" type="text" class="form-control">\n            </div>\n            <div class="form-group">\n              <label for="url">Company URL, if any</label>\n              <input name="url" type="text" class="form-control">\n            </div>\n            '),HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="solution">What is your company going to make?</label>\n              '),HTML.TEXTAREA({name:"solution",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="team">Who else is on your team?</label>\n              '),HTML.TEXTAREA({name:"team",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="past-accomplishments">What have you and each of your team members previously built that is impressive?</label>\n              '),HTML.TEXTAREA({name:"past-accomplishments",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="why-you">Why are you the right person or team to be doing this?</label>\n              '),HTML.TEXTAREA({name:"why-you",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw("\n              <label name=\"whats-new\">What's new about what you're making?</label>\n              "),HTML.TEXTAREA({name:"whats-new",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="unfair-advantage">Do you have an unfair advantage over competitors doing the same thing?</label>\n              '),HTML.TEXTAREA({name:"unfair-advantage",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="target-market">What\'s your target market? Who will use this?</label>\n              '),HTML.TEXTAREA({name:"target-market",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="user-acquisition">How will you get users? If you will face the chicken-and-egg problem, how will you overcome that?</label>\n              '),HTML.TEXTAREA({name:"user-acquisition",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="revenue-model">How will you make money from this? How much could you make?</label>\n              '),HTML.TEXTAREA({name:"revenue-model",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="progress-to-date">How far along are you? Are you launched? If so, how many users do you have? Do you have revenue? If so, how much? If you\'re launched, what is your monthly growth rate?</label>\n              '),HTML.TEXTAREA({name:"progress-to-date",type:"text",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="fundraising">How will you pay expenses? Have you raised money?</label>\n              '),HTML.TEXTAREA({name:"fundraising",type:"text",rows:"5","class":"form-control"}),"\n            "),HTML.Raw('\n            <button type="submit" class="bttn bttnBlue animate pulse">Submit</button>\n          ')),"\n        "),"\n\n        ",HTML.DIV({"class":"col-md-3 col-md-pull-9"},"\n          ",Spacebars.include(e.lookupTemplate("sidebar")),"\n        "),"\n\n      "),"\n    "),"\n  ")]})}(),function(){Template.__define__("join",function(){var e=this;return[HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>JOIN OUR TEAM.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  '),HTML.DIV({"class":"form-page"},"\n    ",HTML.DIV({"class":"container"},"\n      ",HTML.DIV({"class":"row"},"\n\n        ",HTML.DIV({"class":"col-md-9 col-md-push-3"},HTML.Raw("\n          <h2>Want to work with startups in Cincinnati?</h2>\n          <p>We're always looking for talented and hungry people to join our team. If you're interested in working with startups in the Cincinnati area please fill out the application below:</p>\n\n          "),HTML.FORM(HTML.Raw('\n            <div class="form-group">\n              <label for="name">Your name</label>\n              <input name="name" type="text" class="form-control" required="">\n            </div>\n            <div class="form-group">\n              <label for="email">Your email</label>\n              <input name="email" type="email" class="form-control" required="">\n            </div>\n            '),HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="skills">What skills do you have?</label>\n              '),HTML.TEXTAREA({name:"skills",type:"email",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="experience">What experience do you have?</label>\n              '),HTML.TEXTAREA({name:"experience",type:"email",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw("\n              <label for=\"accomplishment\">Describe a project you've completed that you're most proud of.</label>\n              "),HTML.TEXTAREA({name:"accomplishment",type:"email",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="why">Why do you want to work with Differential?</label>\n              '),HTML.TEXTAREA({name:"why",type:"email",rows:"5","class":"form-control"}),"\n            "),"\n            ",HTML.DIV({"class":"form-group"},HTML.Raw('\n              <label for="location">Do you live in Cincinnati or would you be willing to relocate?</label>\n              '),HTML.TEXTAREA({name:"location",type:"email",rows:"5","class":"form-control"}),"\n            "),HTML.Raw('\n            <button type="submit" class="bttn bttnBlue animate pulse">Submit</button>\n          ')),"\n        "),"\n        \n        ",HTML.DIV({"class":"col-md-3 col-md-pull-9"},"\n          ",Spacebars.include(e.lookupTemplate("sidebar")),"\n        "),"\n\n      "),"\n    "),"\n  ")]
})}(),function(){Template.__define__("thankYou",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>THANK YOU.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="thankYou">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2">\n          <h1>Thanks for reaching out to us!</h1>\n          <p>We\'ll take a look and get back to you as soon as possible. If for some reason you don\'t hear back within 3 business days, please follow up at <a href="mailto:team@differential.io">team@differential.io</a>.</p>\n          <a href="/companies" class="bttn bttnBlue animate pulse"><i class="icon-heart"></i> See Our Companies</a>\n          <a href="/blog" class="bttn bttnOrange animate pulse"><i class="icon-rss"></i> Read Our Blog</a>\n        </div>\n      </div>\n    </div>\n  </div>')})}(),function(){Template.__define__("home",function(){var e=this;return[HTML.Raw('<section class="billboard">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-7">\n          <div class="intro animate fadeIn">\n            <h1>Build Your Company.</h1>\n            <p class="lead">We help entrepreneurs turn great ideas into great companies. We\'re not an agency or an accelerator. We\'re a partner.</p>\n            <a href="/about">Learn More <i class="icon-caret-right"></i></a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <section class="what-we-do">\n    <div class="container">\n      <div class="section-title">\n        <span>WHAT WE DO</span>\n      </div>\n      <div class="row">\n        <div class="col-md-4">\n          <h2>We Build</h2>\n          <p>First and foremost we build things. We put sweat and tears in. We code, we design, we market. We draw interfaces, we fix bugs. We bring raw ideas to life.</p>\n        </div>\n        <div class="col-md-4">\n          <h2>We Mentor</h2>\n          <p>We take equity in our projects, so their success is important to us. We\'re able to bring decades of startup experience to critical project decisions.</p>\n        </div>\n        <div class="col-md-4">\n          <h2>We Connect</h2>\n          <p>We maintain and share a network of entrepreneurs, marketers, developers, designers, mentors, investors, lawyers and advisors in the startup industry.</p>\n        </div>\n      </div>\n      <a href="/about">See our process <i class="icon-angle-right"></i></a>\n    </div>\n  </section>\n\n  <section class="featured-work">\n    <div class="container">\n      <div class="section-title">\n        <span>COMPANIES &amp; PRODUCTS</span>\n      </div>\n      <div class="row">\n        <div class="col-md-3 company">\n          <a href="http://www.cladwell.com" target="_blank"><img src="/img/companies/cladwell-logo-white.svg" alt="Cladwell Men\'s Personal Shopper"></a>\n        </div>\n        <div class="col-md-3 company">\n          <a href="http://getliquid.io" target="_blank"><img src="/img/companies/liquid-logo-white.png" alt="Liquid"></a>\n        </div>\n        <div class="col-md-3 company">\n          <a href="http://carp.io" target="_blank"><img src="/img/companies/carp-logo-white.svg" style="height: 70px;" alt="Carp Mobile App Website"></a>\n        </div>\n        <div class="col-md-3 company">\n          <a href="http://simplecoin.co" target="_blank"><img src="/img/companies/simplecoin-logo-white.png" alt="SimpleCoin - BitCoin"></a>\n        </div>\n      </div>\n      <a href="/companies">See all companies <i class="icon-angle-right"></i></a>\n    </div>\n  </section>\n\n  '),HTML.SECTION({"class":"company-updates"},"\n    ",HTML.DIV({"class":"container"},"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-md-6"},HTML.Raw('\n          <div class="section-title">\n            <span>FROM THE BLOG</span>\n          </div>\n          '),HTML.UL({"class":"blog-posts"},"\n            ",UI.Each(function(){return Spacebars.call(e.lookup("latest"))},UI.block(function(){var e=this;return["\n              ",HTML.LI("\n                ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogShow")}},"\n                  ",HTML.I({"class":"icon-time"}),"\n                  ",HTML.DIV({"class":"blog-meta"},"\n                    ",HTML.DIV({"class":"blog-title"},"\n                      ",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("title")))},"\n                    "),"\n                    ",HTML.DIV({"class":"blog-date"},"\n                      ",HTML.TIME({datetime:function(){return Spacebars.mustache(e.lookup("publishedAt"))}},function(){return Spacebars.mustache(e.lookup("date"),e.lookup("publishedAt"))}),"\n                    "),"\n                  "),"\n                "),"\n              "),"\n            "]})),"\n          "),"\n          ",HTML.A({"class":"bttn bttnBlue animate pulse",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"blogIndex")}},HTML.Raw('View all posts&nbsp; <i class="icon-caret-right"></i>')),"\n        "),"\n        ",Spacebars.include(e.lookupTemplate("twitter")),"\n      "),"\n    "),"\n  "),HTML.Raw('\n\n  <section class="call-to-action">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-6 col1">\n          <i class="icon-thumbs-up"></i>\n          <p>Sign up for early access to the companies and products we build.</p>\n        </div>\n        <div class="col-md-6 col2">\n          <form action="http://differential.us6.list-manage.com/subscribe/post?u=8af2fc04c48538e13aa17fe44&amp;id=172d9c308e" class="form-inline validate form-inline" height="280px" id="mc-embedded-subscribe-form" method="post" name="mc-embedded-subscribe-form" target="_blank"><input id="mce-EMAIL" name="EMAIL" placeholder="Email Address" type="email" value="" class="form-control">\n            <button class="bttn bttnBlue animate pulse" id="mc-embedded-subscribe" name="subscribe" type="submit">Go</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </section>')]})}(),function(){Template.__define__("twitter",function(){return HTML.Raw('<div class="col-md-6 twitter-feed">\n    <div class="section-title">\n      <span>LATEST TWEETS</span>\n    </div>\n    <div class="latest-tweets">\n      <a class="twitter-timeline" data-chrome="nofooter transparent noheader noborders noscrollbar" data-tweet-limit="3" data-widget-id="347742579737100289" href="https://twitter.com/BeDifferential" width="500"></a>\n    </div>\n    <a class="bttn bttnBlue animate pulse" href="http://twitter.com/bedifferential" target="_blank"><i class="icon-twitter"></i>&nbsp;Follow Us </a>\n  </div>')})}(),function(){Template.__define__("meteor",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Meteor Development.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="meteor page">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2">\n          <h2>Launch your minimum viable product (MVP) in weeks using Meteor. <a href="/contact">We can help.</a></h2>\n\n          <h3>Why Meteor?</h3>\n          <p>Meteor is an open-source platform for building top-quality web apps in a fraction of the time.</p>\n          <p>The short answer to why we prefer to build in Meteor: its faster than any other framework we have used, and developers &amp; designers love working in it.</p>\n          <p>A bit more:</p>\n          <ul>\n            <li>Javascript is widely known, <a href="http://adambard.com/blog/top-github-languages-for-2013-so-far/" target="_blank">the most popular language on Github</a>.</li>\n            <li>Node.js is a proven backend system, <a href="http://readwrite.com/2013/12/06/nodejs-os-infrastructure" target="_blank">it handled 53% of walmart black friday traffic in 2013</a>.</li>\n            <li>Meteor reduces the development cycle by making it possible to hook up the front-end and back-end using the same code.</li>\n            <li>Developers can now launch functional and good looking MVPs <a href="http://www.smashingmagazine.com/2013/06/13/build-app-45-minutes-meteor/" target="_blank">in weeks instead of months</a>.</li>\n            <li>The <a href="http://atmosphere.meteor.com" target="_blank">package system</a> is amazingly flexible and extensible, plus you can easily tap Npm modules as well.</li>\n          </ul>\n\n          <hr>\n\n          <h3>Leadership &amp; Experience</h3>\n\n          <p>We were one of the first development teams to adopt Meteor as our primary framework (pre-v1.0). Thus we already have a lot of experience. Weve launched dozens apps using Meteor, have created a growing list of <a href="http://github.differential.io/" target="_blank">open source packages</a>, and took over maintenance of an abandoned <a href="http://github.differential.io/reststop2/" target="_blank">API package</a> for Meteor.</p>\n\n          <p>Weve also taken a leadership role in evangelizing &amp; growing the framework. Some of the ways were regularly contributing are:</p>\n\n          <ul>\n            <li>We founded and organize the <a href="http://www.meetup.com/Meteor-Cincinnati/" target="_blank">Cincinnati Meteor meetup</a></li>\n            <li>We dedicate significant resources to creating and contributing to <a href="http://github.differential.io/" target="_blank">open source Meteor packages</a></li>\n            <li>Our developers have real relationship with Meteor Development Group, weve visited them in San Francisco on multiple occasions.</li>\n            <li>All new client apps are built using Meteor and our <a href="http://github.differential.io/meteor-boilerplate/" target="_blank">Meteor boilerplate</a></li>\n            <li>We regularly contribute thought leadership to the community through our blog, some examples include: <a href="http://differential.io/blog/meteor-killin-rails" target="_blank">Why Meteor Will Kill Ruby on Rails</a>, <a href="http://differential.io/blog/the-current-challenges-of-building-a-meteor-app" target="_blank">The Current Challenges of Building a Meteor App</a> and <a href="http://differential.io/blog/thank-you-dhh-and-others" target="_blank">Thank You DHH and Others</a>.</li>\n            <li>We created <a href="http://crater.io" target="_blank">Crater.io</a> as a leading Meteor news site</li>\n            <li>We host the <em>only</em> <a href="http://www.meteorpodcast.com/" target="_blank">Meteor podcast</a></li>\n          </ul>\n\n          <h3>Some of Our Meteor Work</h3>\n\n          <ul class="clearfix">\n            <li><a href="https://getliquid.io/" target="_blank">Liquid</a></li>\n            <li><a href="https://carp.io" target="_blank">Carp</a></li>\n            <li><a href="http://assistant.io" target="_blank">Assistant</a></li>\n            <li><a href="http://coursebook.io/" target="_blank">CourseBook</a></li>\n            <li><a href="https://nourishyourself.com" target="_blank">Nourish</a></li>\n            <li><a href="http://cintrifuse.com" target="_blank">Cintrifuse</a></li>\n            <li><a href="http://lister.io" target="_blank">Lister</a></li>\n            <li><a href="https://kaptureaudio.com/" target="_blank">Kapture</a></li>\n            <li><a href="http://differential.io" target="_blank">our own site</a></li>\n          </ul>\n\n          <h3>Is Meteor right for me?</h3>\n\n          <p>While were (clearly) big believers in the advantages of Meteor, like any emerging technology its not without criticism and questions. Here are some of the questions we get:</p>\n\n          <h4>Is it stable?</h4>\n          <p>We are approaching Meteor version 1.0, which is a public declaration of stability. Since were experts at Meteor, we are able to work around every issue that has come up so far for us, and it has been very few. We have more than a dozen apps in production right now, and are not experiencing any stability issues.</p>\n          <p>That being said, any large, heavily accessed javascript app is susceptible to memory leaks and other stability issues. So its not immune from those issues.</p>\n\n          <h4>Is it scalable?</h4>\n          <p>With the recent `oplog` work that Meteor released in 0.7, they demonstrated scaling the server to any number of nodes. Previous to that release, there was an effective upper limit to the number of nodes running a Meteor app before things ground to a halt.</p>\n\n          <h4>Can I find developers?</h4>\n          <p>One of our main motivations to adopt Meteor is that we believe its easier to find good developers when youre working on a cutting-edge framework, and youll avoid competition with more established startups who are gobbling up all the developers for more mainstream frameworks.</p>\n          <p>Weve had NO issues finding developers for Meteor.</p>\n\n          <h4>How secure is it?</h4>\n\n          <p>Meteor Development Group has built security into the core of Meteor. We have found it to be intuitive and easy to use. Early on, they released a demo of the real-time awesomeness of Meteor, but they hadnt built authentication yet, and they were upfront with that, and that security was coming later. Critics seem to remember that version, and havent spent five minutes to understand that we have moved far beyond that early tech demo.</p>\n\n          <h4>Is Meteor the right choice for more complicated applications like a CRM?</h4>\n\n          <p>A lot of the featured Meteor apps seem fairly basic (chat apps, todos, forums etc) which is to be expected with a young framework.</p>\n\n          <p>You\'re probably thinking Backbone+Rails or Ember+Rails or Angular+Rails (or some other backend technology) might start slower, but will be more appropriate for a large app.</p>\n\n          <p>Here\'s the thing... if you build a complicated app with both a front-end and back-end framework, you end up with two layers of complexity. The complexity straddles something close to 50% front-end, 50% back-end.</p>\n\n          <p>In the old days, app complexity was more like 90% backend, 10% front-end (a little jquery usually).\n          Meteor flips the equation. Our complexity is more like 90% front-end and 10% back-end. But the whole app is cohesive, since one framework and one language encapusates the whole thing.</p>\n\n          <p>So in some ways, Meteor is a blast from the past, where you don\'t need to mix together two big frameworksapps feel a lot simpler as a result.</p>\n\n          <p>We\'ve worked on large Backbone, Ember, Rails, Angular, PHP appswe\'ll never go back. We find Meteor apps easier not only to start, but to also understand if joining a project already in progress, compared to the behemoths we\'ve been involved with in the past.</p>\n\n          <p>So can it be used to build a CRM? Hell, yeah. We may even do that some day soon :)</p>\n\n          <hr>\n\n          <p>Want to talk more about Meteor? <a href="mailto:team@differential.io?subject=Meteor Development">Shoot us an email</a>.</p>\n        </div>\n      </div>\n    </div>\n  </div>')})}(),function(){Template.__define__("pitch",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Pitch Us.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="pitch page">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2">\n          <h2>Pitch Guidelines</h2>\n          <h3>What to Expect</h3>\n          <p>We consider equity deals to be non-cash investments. As such, consider pitching us like you would pitch an investor. This means you should end the pitch with an "ask". What do you want from us? Technical help? Marketing help? For how much equity? What\'s your valution? We understand you might be very early, and unsure about a valuation. It\'s okay to take your best guess. It gives us a starting point.</p>\n          <h3>Pitch Details</h3>\n          <p>We like business plans that present a lot of information in as few words as possible. The following  pitch format, within 1520 slides, is all thats needed. You\'ll get 15 minutes to pitch us. Followed by 15 minutes for questions.</p>\n          <div class="pitch-deck">\n            <p>\n              <strong>Company purpose</strong><br>\n              Define the company/business in a single declarative sentence.\n            </p>\n\n            <p>\n              <strong>Problem</strong><br>\n              Describe the pain of the customer (or the customers customer).<br>\n              Outline how the customer addresses the issue today.\n            </p>\n\n            <p>\n              <strong>Solution</strong><br>\n              Demonstrate your companys value proposition to make the customers life better.<br>\n              Show where your product physically sits.<br>\n              Provide use cases.\n            </p>\n\n            <p>\n              <strong>Why now</strong><br>\n              Set-up the historical evolution of your category.<br>\n              Define recent trends that make your solution possible.\n            </p>\n\n            <p>\n              <strong>Market size</strong><br>\n              Identify/profile the customer you cater to.<br>\n              Calculate the TAM (top down), SAM (bottoms up) and SOM.\n            </p>\n\n            <p>\n              <strong>Competition</strong><br>\n              List competitors.<br>\n              List competitive advantages.\n            </p>\n\n            <p>\n              <strong>Product</strong><br>\n              Product line-up (form factor, functionality, features, architecture, intellectual property).<br>\n              Development roadmap.\n            </p>\n\n            <p>\n              <strong>Business model</strong><br>\n              Revenue model<br>\n              Pricing<br>\n              Average account size and/or lifetime value<br>\n              Sales &amp; distribution model<br>\n              Customer/pipeline list\n            </p>\n\n            <p>\n              <strong>Team</strong><br>\n              Founders &amp; Management<br>\n              Board of Directors/Board of Advisors\n            </p>\n\n            <p>\n              <strong>Financials</strong><br>\n              Revenue<br>\n              Costs<br>\n              The ask\n            </p>\n          </div>\n          <h3>Q&amp;A</h3>\n          <p>We plan for questions to go no longer than 15 minutes. If the idea is complicated or interesting this might go longer. Please give yourself up to 45 minutes for Q&amp;A.</p>\n          <h3>Conclusion</h3>\n          <p>We won\'t have a yes or no answer for you at the end of the pitch. However, we\'ll usually have a response within a week. Most likely we\'ll need to do some additional research before making any formal offer.</p>\n        </div>\n      </div>\n    </div>\n  </div>')})}(),function(){Template.__define__("press",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>In the Press</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="container">\n    <div class="press">\n\n  <article>\n        <div class="row">\n          <div class="col-md-5">\n            <a href="http://www.wcpo.com/money/local-business-news/9-qa-if-youve-got-a-start-up-tech-idea-cincinnatis-differential-may-just-be-able-to-help" target="_blank"><img src="/img/press/wcpo.svg"></a>\n          </div>\n          <div class="col-md-7">\n            <a href="http://www.wcpo.com/money/local-business-news/9-qa-if-youve-got-a-start-up-tech-idea-cincinnatis-differential-may-just-be-able-to-help" target="_blank"><h2>9 Q&amp;A: If you\'ve got a start-up tech idea, Cincinnati\'s Differential may just be able to help</h2></a>\n            <div class="date">Monday, December 2nd, 2013</div>\n          </div>\n        </div>\n      </article>\n      \n      <article>\n        <div class="row">\n          <div class="col-md-5">\n            <a href="http://cincinnatiprofile.com/2013/10/features/making-a-differential-in-greater-cincinnati/" target="_blank"><img src="/img/press/cincy_profile.png"></a>\n          </div>\n          <div class="col-md-7">\n            <a href="http://cincinnatiprofile.com/2013/10/features/making-a-differential-in-greater-cincinnati/" target="_blank"><h2>Making a Differential in Greater Cincinnati</h2></a>\n            <div class="date">Friday, November 22nd, 2013</div>\n          </div>\n        </div>\n      </article>\n\n      <article>\n        <div class="row">\n          <div class="col-md-5">\n            <a href="http://news.cincinnati.com/article/20130523/NEWS10/305230198/Cladwell-Differential-partner-focus-men-s-fashion" target="_blank"><img src="/img/press/cincy_enquirer.png"></a>\n          </div>\n          <div class="col-md-7">\n            <a href="http://news.cincinnati.com/article/20130523/NEWS10/305230198/Cladwell-Differential-partner-focus-men-s-fashion" target="_blank"><h2>Cladwell, Differential Partner and Focus on Men\'s Fashion</h2></a>\n            <div class="date">Thursday, May 23rd, 2013</div>\n          </div>\n        </div>\n      </article>\n\n      <article>\n        <div class="row">\n          <div class="col-md-5">\n            <a href="http://www.bizjournals.com/cincinnati/blog/2013/05/entrepreneurs-meet-cincinnatis.html" target="_blank"><img src="/img/press/business_courier.jpg"></a>\n          </div>\n          <div class="col-md-7">\n            <a href="http://www.bizjournals.com/cincinnati/blog/2013/05/entrepreneurs-meet-cincinnatis.html" target="_blank"><h2 style="margin-top: 20px">Entrepreneurs, Meet Cincinnati\'s Newest Business Accelerator </h2></a>\n            <div class="date">Wednesday, May 22rd, 2013</div>\n          </div>\n        </div>\n      </article>\n\n      <article>\n        <div class="row">\n          <div class="col-md-5">\n            <a href="http://tech.co/clothes-for-men-cladwell-2013-04" target="_blank"><img src="/img/press/tech_cocktail.png"></a>\n          </div>\n          <div class="col-md-7">\n            <a href="http://tech.co/clothes-for-men-cladwell-2013-04" target="_blank"><h2>If You\'re a Man and You Don\'t Like Shopping, Cladwell is for You </h2></a>\n            <div class="date">Saturday, April 13th, 2013</div>\n          </div>\n        </div>\n      </article>\n\n      <article>\n        <div class="row">\n          <div class="col-md-5">\n            <a href="http://tech.co/differential-is-a-hands-on-incubator-in-cincinnati-2013-03" target="_blank"><img src="/img/press/tech_cocktail.png"></a>\n          </div>\n          <div class="col-md-7">\n            <a href="http://tech.co/differential-is-a-hands-on-incubator-in-cincinnati-2013-03" target="_blank"><h2>Differential is a Hands-On Incubator in Cincinnati </h2></a>\n            <div class="date">Tuesday, March 5th, 2013</div>\n          </div>\n        </div>\n      </article>\n\n    </div>\n  </div>')})}(),function(){Template.__define__("contactButtons",function(){return HTML.Raw('<div class="contact-buttons">\n    <a class="bttn bttnBlue animate pulse" href="mailto:team@differential.io">\n      <i class="icon-envelope-alt"></i>Email Us \n    </a>\n    <a class="bttn bttnGrey animate pulse" href="/apply">\n      <i class="icon-lightbulb"></i>Idea Application \n    </a>\n    <a class="bttn bttnOrange animate pulse" href="/join">\n      <i class="icon-group"></i>Join Our Team \n    </a>\n    <a class="bttn bttnGreen animate pulse" href="mailto:team@differential.io?subject=Let\'s get coffee">\n      <i class="icon-coffee"></i>Get Coffee \n    </a>\n  </div>')})}(),function(){Template.__define__("sidebar",function(){var e=this;return HTML.DIV({"class":"diff-bio"},HTML.Raw('\n      <h2>Differential</h2>\n      <p>\n        We\'re a technology startup company located in Cincinnati, OH. <a href="/about">Learn more <i class="icon-caret-right"></i></a>\n      </p>\n      \n      '),Spacebars.include(e.lookupTemplate("contactButtons")),"\n    ")})}(),function(){Template.__define__("socialIcons",function(){return HTML.Raw('<ul class="social">\n    <li>\n      <a href="http://twitter.com/bedifferential" target="_blank"><i class="icon-twitter"></i></a>\n    </li>\n    <li>\n      <a href="http://facebook.com/ThinkDifferential" target="_blank"><i class="icon-facebook"></i></a>\n    </li>\n    <li>\n      <a href="https://github.com/Differential" target="_blank"><i class="icon-github"></i></a>\n    </li>\n    <li>\n      <a href="https://plus.google.com/105977469267199216227/" target="_blank"><i class="icon-google-plus"></i></a>\n    </li>\n  </ul>')})}(),function(){Template.__define__("footer",function(){var e=this;return HTML.FOOTER("\n    ",HTML.DIV({"class":"footer-top"},HTML.Raw('\n      <div class="footer-inner">\n      </div>\n      '),HTML.DIV({"class":"footer-content"},"\n        ",HTML.DIV({"class":"container"},"\n\n          ",UI.If(function(){return Spacebars.call(e.lookup("currentUser"))},UI.block(function(){var e=this;return["\n            ",HTML.DIV({"class":"row admin-footer"},"\n              ",HTML.DIV({"class":"col-md-3"},"\n                ",HTML.H4("Resources"),"\n                ",HTML.UL({"class":"footer-col-menu"},"\n                  ",HTML.LI(HTML.A({href:"/brand"},"Brand Guidelines")),"\n                  ",HTML.LI(HTML.A({href:"/client-guide"},"Client Guide")),"\n                  ",HTML.LI(HTML.A({href:"/pitch"},"Pitch Guide")),"\n                "),"\n              "),"\n              ",HTML.DIV({"class":"col-md-3"},"\n              "),"\n              ",HTML.DIV({"class":"col-md-3"},"\n              "),"\n              ",HTML.DIV({"class":"col-md-3"},"\n                ",HTML.H4("Public"),"\n                ",HTML.UL({"class":"footer-col-menu"},"\n                  ",Spacebars.include(e.lookupTemplate("topNav")),"\n                "),"\n              "),"\n            "),"\n          "]}),UI.block(function(){var e=this;return["\n            ",HTML.DIV({"class":"row"},"\n              ",HTML.DIV({"class":"col-md-6 map"},"\n                ",HTML.H3("We work at ",HTML.A({href:"http://cintrifuse.com",target:"_blank"},"Cintrifuse"),"."),"\n                ",HTML.DIV({id:"location-map"},"\n                "),"\n              "),"\n              ",HTML.DIV({"class":"col-md-3 more-menu"},"\n                ",HTML.H3("See More"),"\n                ",HTML.UL("\n                  ",HTML.LI(HTML.A({href:"http://github.differential.io"},"Open Source")),"\n                  ",HTML.LI(HTML.A({href:"/meteor"},"Meteor Development")),"\n                  ",HTML.LI(HTML.A({href:"/press"},"Press")),"\n                  ",HTML.LI(HTML.A({href:"/blog"},"Blog")),"\n                "),"\n              "),"\n              ",HTML.DIV({"class":"col-md-3 contact-info",itemscope:"",itemtype:"http://schema.org/PostalAddress"},"\n                ",HTML.H2({itemprop:"name"},"Differential"),"\n                ",HTML.P("\n                  ",HTML.SPAN({itemprop:"streetAddress"},"299 E. Sixth Street"),HTML.BR(),"\n                  ",HTML.SPAN({itemprop:"addressLocality"},"Cincinnati"),", ",HTML.SPAN({itemprop:"addressRegion"},"Ohio")," ",HTML.SPAN({itemprop:"postalCode"},"45202")," ",HTML.BR(),"\n                "),"\n                ",Spacebars.include(e.lookupTemplate("socialIcons")),"\n              "),"\n            "),"\n          "]})),"\n\n        "),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"footer-bottom"},"\n      ",HTML.DIV({"class":"container"},"\n        ",HTML.DIV({"class":"copyright"},HTML.Raw("\n          Copyright &copy; "),function(){return Spacebars.mustache(e.lookup("year"))},HTML.Raw("&nbsp;Differential \n        ")),HTML.Raw('\n        <ul class="footer-nav">\n          <li><a href="/">Home</a></li>\n          <li><a href="/contact">Contact</a></li>\n        </ul>\n      ')),"\n    "),"\n  ")})}(),function(){Template.__define__("header",function(){var e=this;return HTML.HEADER("\n    ",HTML.DIV({"class":"navbar navbar-inverse navbar-fixed-top"},"\n      ",HTML.DIV({"class":"container"},"\n        ",HTML.A({"class":"navbar-brand",href:"/"},"\n          ",UI.If(function(){return Spacebars.call(e.lookup("currentUser"))},UI.block(function(){return["\n            ",HTML.DIV({"class":"navbar-admin-brand"},"\n              ",HTML.IMG({src:"/img/logos/logo-sq-orange-web.png"})," Command ",HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),"Center\n            "),"\n          "]}),UI.block(function(){return"\n            Differential\n          "})),"\n          "),"\n        ",HTML.UL({"class":"nav navbar-nav pull-right visible-lg"},"\n\n          ",UI.If(function(){return Spacebars.call(e.lookup("currentUser"))},UI.block(function(){var e=this;return["\n            ",HTML.LI(HTML.A({href:"#"},"SCOREBOARD")),"\n            ",HTML.LI(HTML.A({href:"#"},"CONNECT")),"\n            ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/admin/blog")}},HTML.A({href:"/admin/blog"},"BLOG")),"\n            ",HTML.LI("\n              ",HTML.A({"data-toggle":"dropdown",href:"#"},HTML.I({"class":"icon-cog"}),HTML.I({"class":"icon-caret-down"})),"\n              ",HTML.UL({"class":"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},"\n                ",HTML.LI(HTML.A({href:"/admin/profile"},HTML.I({"class":"icon-user"})," My Profile")),"\n                ",HTML.LI(HTML.A({href:"/sign-out"},HTML.I({"class":"icon-lock"})," Sign Out")),"\n              "),"\n            "),"\n          "]}),UI.block(function(){var e=this;return["\n            ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/")}},HTML.A({href:"/"},HTML.I({"class":"icon-home"}))),"\n            ",Spacebars.include(e.lookupTemplate("topNav")),"\n          "]})),"\n\n        "),HTML.Raw('\n\n        <a class="mobile-menu-trigger pull-right hidden-lg" href="#mobileNav"> <i class="icon-reorder"></i>\n        </a>\n\n        '),HTML.DIV({id:"mobile-menu",style:"display: none;"},"\n          ",HTML.UL("\n            ",Spacebars.include(e.lookupTemplate("topNav")),"\n          "),"\n        "),"\n\n      "),"\n    "),"\n  ")}),Template.__define__("topNav",function(){var e=this;return[HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/about")}},HTML.Raw('<a href="/about">About</a>')),"\n  ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/companies")}},HTML.Raw('<a href="/companies">Companies</a>')),"\n  ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/team")}},HTML.Raw('<a href="/team">Team</a>')),"\n  ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/blog")}},HTML.Raw('<a href="/blog">Blog</a>')),"\n  ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/contact")}},HTML.Raw('<a href="/contact">Contact</a>'))]})}(),function(){Template.__define__("showcase",function(){return HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Client Showcase.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="showcase page">\n  </div>')})}(),function(){Template.__define__("team",function(){var e=this;return[HTML.Raw('<section class="header-page">\n    <div class="inner-header">\n      <div class="container">\n        <div class="intro animate fadeIn">\n          <h1>Our Team.</h1>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  '),HTML.DIV({"class":"container"},HTML.Raw('\n\n    <ul id="team-nav">\n      <li>\n        <a data-filter="*" href="#">All</a>\n      </li>\n      <li class="hustler">\n        <a data-filter=".hustler" href="#">Hustler</a>\n      </li>\n      <li class="hacker">\n        <a data-filter=".hacker" href="#">Hacker</a>\n      </li>\n      <li class="designer">\n        <a data-filter=".designer" href="#">Designer</a>\n      </li>\n    </ul>\n\n    '),HTML.UL({"class":"team"},"\n      ",UI.Each(function(){return Spacebars.call(e.lookup("users"))
},UI.block(function(){var e=this;return["\n        ",Spacebars.include(e.lookupTemplate("teamMember")),"\n      "]})),"\n    "),"\n\n  "),HTML.Raw('\n\n  <section class="call-to-action">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col1">\n          <i class="icon-thumbs-up"></i>\n          <p>We\'re always looking for talented people to join our team. Interested in working with us?</p>\n        </div>\n        <div class="col-md-4 col2">\n          <a class="bttn bttnBlue bttnBig animate pulse" href="/join">Join Differential</a>\n        </div>\n      </div>\n    </div>\n  </section>')]}),Template.__define__("teamMember",function(){var e=this;return HTML.LI({"class":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"type"))},itemscope:"",itemtype:"http://schema.org/Person"},"\n    ",HTML.DIV({"class":"pic"},"\n      ",HTML.IMG({alt:[function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"firstName"))}," ",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"lastName"))}],src:["/img/people/",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"photo"))}],itemprop:"image"}),"\n    "),"\n    ",HTML.H2({itemprop:"name"},function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"firstName"))}," ",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"lastName"))}),"\n    ",HTML.DIV({"class":"tweeter animate tada"},"\n      ",HTML.A({href:["http://twitter.com/",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"twitter"))}],target:"_blank",itemprop:"url"},HTML.Raw('<i class="icon-twitter"></i>')),"\n    "),"\n  ")})}(),function(){Template.__define__("404",function(){var e=this;return[HTML.HEADER("\n    ",HTML.DIV({"class":"navbar navbar-inverse navbar-fixed-top"},"\n      ",HTML.DIV({"class":"container"},"\n        ",HTML.A({"class":"navbar-brand",href:"/"},"\n          ",UI.If(function(){return Spacebars.call(e.lookup("currentUser"))},UI.block(function(){return["\n            ",HTML.DIV({"class":"navbar-admin-brand"},"\n              ",HTML.IMG({src:"/img/logos/logo-sq-orange-web.png"})," Command ",HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),"Center\n            "),"\n          "]}),UI.block(function(){return"\n            Differential\n          "})),"\n          "),"\n        ",HTML.UL({"class":"nav navbar-nav pull-right visible-lg"},"\n\n          ",UI.If(function(){return Spacebars.call(e.lookup("currentUser"))},UI.block(function(){var e=this;return["\n            ",HTML.LI(HTML.A({href:"#"},"SCOREBOARD")),"\n            ",HTML.LI(HTML.A({href:"#"},"CONNECT")),"\n            ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/admin/blog")}},HTML.A({href:"/admin/blog"},"BLOG")),"\n            ",HTML.LI("\n              ",HTML.A({"data-toggle":"dropdown",href:"#"},HTML.I({"class":"icon-cog"}),HTML.I({"class":"icon-caret-down"})),"\n              ",HTML.UL({"class":"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},"\n                ",HTML.LI(HTML.A({href:"/admin/profile"},HTML.I({"class":"icon-user"})," My Profile")),"\n                ",HTML.LI(HTML.A({href:"/sign-out"},HTML.I({"class":"icon-lock"})," Sign Out")),"\n              "),"\n            "),"\n          "]}),UI.block(function(){var e=this;return["\n            ",HTML.LI({"class":function(){return Spacebars.mustache(e.lookup("active"),"/")}},HTML.A({href:"/"},HTML.I({"class":"icon-home"}))),"\n            ",Spacebars.include(e.lookupTemplate("topNav")),"\n          "]})),"\n\n        "),HTML.Raw('\n\n        <a class="mobile-menu-trigger pull-right hidden-lg" href="#mobileNav"> <i class="icon-reorder"></i>\n        </a>\n\n        '),HTML.DIV({id:"mobile-menu",style:"display: none;"},"\n          ",HTML.UL("\n            ",Spacebars.include(e.lookupTemplate("topNav")),"\n          "),"\n        "),"\n\n      "),"\n    "),"\n  "),HTML.Raw('\n\n\n  <div class="container">\n    <div class="not-found">\n      <i class="icon-warning-sign"></i>\n      <h1>Oops, you might be lost.</h1>\n      <h2><a href="/">Follow me, I\'ll take you back home.</a></h2>\n    </div>\n  </div>\n\n\n  '),HTML.FOOTER("\n    ",HTML.DIV({"class":"footer-top"},HTML.Raw('\n      <div class="footer-inner">\n      </div>\n      '),HTML.DIV({"class":"footer-content"},"\n        ",HTML.DIV({"class":"container"},"\n\n          ",UI.If(function(){return Spacebars.call(e.lookup("currentUser"))},UI.block(function(){var e=this;return["\n            ",HTML.DIV({"class":"row admin-footer"},"\n              ",HTML.DIV({"class":"col-md-3"},"\n                ",HTML.H4("Resources"),"\n                ",HTML.UL({"class":"footer-col-menu"},"\n                  ",HTML.LI(HTML.A({href:"/brand"},"Brand Guidelines")),"\n                "),"\n              "),"\n              ",HTML.DIV({"class":"col-md-3"},"\n              "),"\n              ",HTML.DIV({"class":"col-md-3"},"\n              "),"\n              ",HTML.DIV({"class":"col-md-3"},"\n                ",HTML.H4("Public"),"\n                ",HTML.UL({"class":"footer-col-menu"},"\n                  ",Spacebars.include(e.lookupTemplate("topNav")),"\n                "),"\n              "),"\n            "),"\n          "]}),UI.block(function(){var e=this;return["\n            ",HTML.DIV({"class":"row"},"\n              ",HTML.DIV({"class":"col-md-6 map"},"\n                ",HTML.H3("We work at Cintrifuse."),"\n                ",HTML.DIV({id:"location-map"},"\n                "),"\n              "),"\n              ",HTML.DIV({"class":"col-md-6 contact-info"},"\n                ",HTML.H2("Differential"),"\n                ",HTML.P("\n                  299 E. Sixth Street ",HTML.BR()," \n                  Cincinnati, Ohio 45202 ",HTML.BR()," \n                "),"\n                ",Spacebars.include(e.lookupTemplate("socialIcons")),"\n              "),"\n            "),"\n          "]})),"\n\n        "),"\n      "),"\n    "),HTML.Raw('\n    <div class="footer-bottom">\n      <div class="container">\n        <div class="copyright">\n          Copyright &copy; 2013&nbsp;Differential \n        </div>\n        <ul class="footer-nav">\n          <li><a href="/">Home</a></li>\n          <li><a href="/press">Press</a></li>\n          <li><a href="/blog">Blog</a></li>\n          <li><a href="/contact">Contact</a></li>\n        </ul>\n      </div>\n    </div>\n  '))]})}(),function(){Template.__define__("ad",function(){var e=this;return HTML.DIV({"class":"ad"},"\n  ",HTML.DIV({"class":"ad-image"},"\n    ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ad"),"link"))}},"\n      ",HTML.IMG({src:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ad"),"image"))}}),"\n    "),"\n  "),"\n  ",HTML.DIV({"class":"ad-text"},"\n    ",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("ad"),"text")))},HTML.Raw('\n    <span class="footer">A Differential Product</span>\n  ')),"\n")})}(),function(){Template.__define__("layout",function(){var e=this;return[HTML.Raw('<!--[if lt IE 9]>\n    <p class="browser-warning"><strong><i class="icon-exclamation-sign"></i> Warning</strong> - You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/" target="_blank">upgrade your browser</a> to properly view this website.</p>\n  <![endif]-->\n\n  '),Spacebars.TemplateWith(function(){return{region:Spacebars.call("header")}},UI.block(function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})),"\n  ",Spacebars.include(e.lookupTemplate("yield")),"\n  ",Spacebars.TemplateWith(function(){return{region:Spacebars.call("footer")}},UI.block(function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))}))]})}(),function(){Template.__define__("loading",function(){return HTML.Raw('<div id="loading" class="text-center">\n    <div class="container">\n      <div class="row" style="height:2000px;">\n      </div>\n    </div>\n  </div>')})}(),function(){!function(e){"use strict";e.fn.bootstrapSwitch=function(t){var n='input[type!="hidden"]',r={init:function(){return this.each(function(){var t,r,o,i,a,s,c=e(this),u=c.closest("form"),l="",f=c.attr("class"),d="ON",p="OFF",h=!1,g=!1;e.each(["switch-mini","switch-small","switch-large"],function(e,t){f.indexOf(t)>=0&&(l=t)}),c.addClass("has-switch"),void 0!==c.data("on")&&(a="switch-"+c.data("on")),void 0!==c.data("on-label")&&(d=c.data("on-label")),void 0!==c.data("off-label")&&(p=c.data("off-label")),void 0!==c.data("label-icon")&&(h=c.data("label-icon")),void 0!==c.data("text-label")&&(g=c.data("text-label")),r=e("<span>").addClass("switch-left").addClass(l).addClass(a).html(""+d),a="",void 0!==c.data("off")&&(a="switch-"+c.data("off")),o=e("<span>").addClass("switch-right").addClass(l).addClass(a).html(""+p),i=e("<label>").html("&nbsp;").addClass(l).attr("for",c.find(n).attr("id")),h&&i.html('<i class="icon '+h+'"></i>'),g&&i.html(""+g),t=c.find(n).wrap(e("<div>")).parent().data("animated",!1),c.data("animated")!==!1&&t.addClass("switch-animate").data("animated",!0),t.append(r).append(i).append(o),c.find(">div").addClass(c.find(n).is(":checked")?"switch-on":"switch-off"),c.find(n).is(":disabled")&&e(this).addClass("deactivate");var m=function(e){c.parent("label").is(".label-change-switch")||e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};c.on("keydown",function(t){32===t.keyCode&&(t.stopImmediatePropagation(),t.preventDefault(),m(e(t.target).find("span:first")))}),r.on("click",function(){m(e(this))}),o.on("click",function(){m(e(this))}),c.find(n).on("change",function(t,n){var r=e(this),o=r.parent(),i=r.is(":checked"),a=o.is(".switch-off");if(t.preventDefault(),o.css("left",""),a===i){if(i?o.removeClass("switch-off").addClass("switch-on"):o.removeClass("switch-on").addClass("switch-off"),o.data("animated")!==!1&&o.addClass("switch-animate"),"boolean"==typeof n&&n)return;o.parent().trigger("switch-change",{el:r,value:i})}}),c.find("label").on("mousedown touchstart",function(t){var n=e(this);s=!1,t.preventDefault(),t.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".has-switch").is(".deactivate")?n.unbind("click"):n.closest(".switch-on").parent().is(".radio-no-uncheck")?n.unbind("click"):(n.on("mousemove touchmove",function(t){var n=e(this).closest(".make-switch"),r=(t.pageX||t.originalEvent.targetTouches[0].pageX)-n.offset().left,o=r/n.width()*100,i=25,a=75;s=!0,i>o?o=i:o>a&&(o=a),n.find(">div").css("left",o-a+"%")}),n.on("click touchend",function(t){var n=e(this),r=n.siblings("input");t.stopImmediatePropagation(),t.preventDefault(),n.unbind("mouseleave"),s?r.prop("checked",!(parseInt(n.parent().css("left"))<-25)):r.prop("checked",!r.is(":checked")),s=!1,r.trigger("change")}),n.on("mouseleave",function(t){var n=e(this),r=n.siblings("input");t.preventDefault(),t.stopImmediatePropagation(),n.unbind("mouseleave mousemove"),n.trigger("mouseup"),r.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).trigger("mouseleave")}))}),"injected"!==u.data("bootstrapSwitch")&&(u.bind("reset",function(){setTimeout(function(){u.find(".make-switch").each(function(){var t=e(this).find(n);t.prop("checked",t.is(":checked")).trigger("change")})},1)}),u.data("bootstrapSwitch","injected"))})},toggleActivation:function(){var t=e(this);t.toggleClass("deactivate"),t.find(n).prop("disabled",t.is(".deactivate"))},isActive:function(){return!e(this).hasClass("deactivate")},setActive:function(t){var r=e(this);t?(r.removeClass("deactivate"),r.find(n).removeAttr("disabled")):(r.addClass("deactivate"),r.find(n).attr("disabled","disabled"))},toggleState:function(t){var n=e(this).find(":checkbox");n.prop("checked",!n.is(":checked")).trigger("change",t)},toggleRadioState:function(t){var n=e(this).find(":radio");n.not(":checked").prop("checked",!n.is(":checked")).trigger("change",t)},toggleRadioStateAllowUncheck:function(t,n){var r=e(this).find(":radio");t?r.not(":checked").trigger("change",n):r.not(":checked").prop("checked",!r.is(":checked")).trigger("change",n)},setState:function(t,r){e(this).find(n).prop("checked",t).trigger("change",r)},setOnLabel:function(t){var n=e(this).find(".switch-left");n.html(t)},setOffLabel:function(t){var n=e(this).find(".switch-right");n.html(t)},setOnClass:function(t){var n=e(this).find(".switch-left"),r="";void 0!==t&&(void 0!==e(this).attr("data-on")&&(r="switch-"+e(this).attr("data-on")),n.removeClass(r),r="switch-"+t,n.addClass(r))},setOffClass:function(t){var n=e(this).find(".switch-right"),r="";void 0!==t&&(void 0!==e(this).attr("data-off")&&(r="switch-"+e(this).attr("data-off")),n.removeClass(r),r="switch-"+t,n.addClass(r))},setAnimated:function(t){var r=e(this).find(n).parent();void 0===t&&(t=!1),r.data("animated",t),r.attr("data-animated",t),r.data("animated")!==!1?r.addClass("switch-animate"):r.removeClass("switch-animate")},setSizeClass:function(t){var n=e(this),r=n.find(".switch-left"),o=n.find(".switch-right"),i=n.find("label");e.each(["switch-mini","switch-small","switch-large"],function(e,n){n!==t?(r.removeClass(n),o.removeClass(n),i.removeClass(n)):(r.addClass(n),o.addClass(n),i.addClass(n))})},status:function(){return e(this).find(n).is(":checked")},destroy:function(){var t,n=e(this),r=n.find("div"),o=n.closest("form");return r.find(":not(input)").remove(),t=r.children(),t.unwrap().unwrap(),t.unbind("change"),o&&(o.unbind("reset"),o.removeData("bootstrapSwitch")),t}};return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist!"),void 0):r.init.apply(this,arguments)}}(jQuery),function(e){e(function(){e(".make-switch").bootstrapSwitch()})}(jQuery)}(),function(){if(!jQuery)throw new Error("Bootstrap requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});var o=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t()})}(window.jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var i=e(o);t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one(e.support.transition.end,n).emulateTransitionEnd(150):n())};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),o=r.data("bs.alert");o||r.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(window.jQuery),+function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();e+="Text",o.resetText||n.data("resetText",n[r]()),n[r](o[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var t=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===t.prop("type")&&e.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),o=r.data("bs.button"),i="object"==typeof n&&n;o||r.data("bs.button",o=new t(this,i)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(window.jQuery),+function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,r=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),o=n||r[t](),i=this.interval,a="next"==t?"left":"right",s="next"==t?"first":"last",c=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[s]()}this.sliding=!0,i&&this.pause();var u=e.Event("slide.bs.carousel",{relatedTarget:o[0],direction:a});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(u),u.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one(e.support.transition.end,function(){o.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(u),u.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return i&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),o=r.data("bs.carousel"),i=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n),a="string"==typeof n?n:i.slide;o||r.data("bs.carousel",o=new t(this,i)),"number"==typeof n?o.to(n):a?o[a]():i.interval&&o.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),i=e.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(i.interval=!1),o.carousel(i),(a=r.attr("data-slide-to"))&&o.data("bs.carousel").to(a),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(window.jQuery),+function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return i.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350),void 0):r.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),o=r.data("bs.collapse"),i=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.collapse",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n,r=e(this),o=r.attr("data-target")||t.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),i=e(o),a=i.data("bs.collapse"),s=a?"toggle":r.data(),c=r.attr("data-parent"),u=c&&e(c);a&&a.transitioning||(u&&u.find('[data-toggle=collapse][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[i.hasClass("in")?"addClass":"removeClass"]("collapsed")),i.collapse(s)})}(window.jQuery),+function(e){"use strict";function t(){e(r).remove(),e(o).each(function(t){var r=n(e(this));r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var r=".dropdown-backdrop",o="[data-toggle=dropdown]",i=function(t){e(t).on("click.bs.dropdown",this.toggle)};i.prototype.toggle=function(r){var o=e(this);if(!o.is(".disabled, :disabled")){var i=n(o),a=i.hasClass("open");if(t(),!a){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t),i.trigger(r=e.Event("show.bs.dropdown")),r.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},i.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&i.find(o).focus(),r.click();var s=e("[role=menu] li:not(.divider):visible a",i);if(s.length){var c=s.index(s.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<s.length-1&&c++,~c||(c=0),s.eq(c).focus()}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,i.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",i.prototype.keydown)}(window.jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var o=e(this),i=o.data("bs.modal"),a=e.extend({},t.DEFAULTS,o.data(),"object"==typeof n&&n);i||o.data("bs.modal",i=new t(this,a)),"string"==typeof n?i[n](r):a.show&&i.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),i=o.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());t.preventDefault(),o.modal(i,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(window.jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);for(var o=this.options.trigger.split(" "),i=o.length;i--;){var a=o[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focus",c="hover"==a?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,i=o.test(r);i&&(r=r.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),s=n[0].offsetWidth,c=n[0].offsetHeight;if(i){var u=this.$element.parent(),l=r,f=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:u.outerWidth(),p="body"==this.options.container?window.innerHeight:u.outerHeight(),h="body"==this.options.container?0:u.offset().left;r="bottom"==r&&a.top+a.height+c-f>p?"top":"top"==r&&a.top-f-c<0?"bottom":"right"==r&&a.right+s>d?"left":"left"==r&&a.left-s<h?"right":r,n.removeClass(l).addClass(r)}var g=this.getCalculatedOffset(r,a,s,c);this.applyPlacement(g,r),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,r=this.tip(),o=r[0].offsetWidth,i=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,r.offset(e).addClass("in");var c=r[0].offsetWidth,u=r[0].offsetHeight;if("top"==t&&u!=i&&(n=!0,e.top=e.top+i-u),/bottom|top/.test(t)){var l=0;
e.left<0&&(l=-2*e.left,e.left=0,r.offset(e),c=r[0].offsetWidth,u=r[0].offsetHeight),this.replaceArrow(l-o+c,c,"left")}else this.replaceArrow(u-i,u,"top");n&&r.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach()}var n=this,r=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.$element.trigger("hidden.bs."+this.type),this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),o=r.data("bs.tooltip"),i="object"==typeof n&&n;o||r.data("bs.tooltip",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),o=r.data("bs.popover"),i="object"==typeof n&&n;o||r.data("bs.popover",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),+function(e){"use strict";function t(n,r){var o,i=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",i),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(o=e(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);{var n=this;this.$body.find(this.selector).map(function(){var r=e(this),o=r.data("target")||r.attr("href"),i=/^#\w/.test(o)&&e(o);return i&&i.length&&[[i[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})}},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),o=this.offsets,i=this.targets,a=this.activeTarget;if(t>=r)return a!=(e=i.last()[0])&&this.activate(e);for(e=o.length;e--;)a!=i[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(i[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),o=r.data("bs.scrollspy"),i="object"==typeof n&&n;o||r.data("bs.scrollspy",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],i=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(i),!i.isDefaultPrevented()){var a=e(r);this.activate(t.parent("li"),n),this.activate(a,a.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),a=r&&e.support.transition&&i.hasClass("fade");a?i.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),i.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),o=r.data("bs.tab");o||r.data("bs.tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),+function(e){"use strict";var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),r=this.$window.scrollTop(),o=this.$element.offset(),i=this.options.offset,a=i.top,s=i.bottom;"object"!=typeof i&&(s=a=i),"function"==typeof a&&(a=i.top()),"function"==typeof s&&(s=i.bottom());var c=null!=this.unpin&&r+this.unpin<=o.top?!1:null!=s&&o.top+this.$element.height()>=n-s?"bottom":null!=a&&a>=r?"top":!1;this.affixed!==c&&(this.unpin&&this.$element.css("top",""),this.affixed=c,this.unpin="bottom"==c?o.top-r:null,this.$element.removeClass(t.RESET).addClass("affix"+(c?"-"+c:"")),"bottom"==c&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),o=r.data("bs.affix"),i="object"==typeof n&&n;o||r.data("bs.affix",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery)}(),function(){!function(e,t){function n(t,n,r,o){var i,a=t.text().split(n),s="";a.length&&(e(a).each(function(e,t){i=""," "===t&&(i=" empty",t="&nbsp;"),s+='<span class="'+r+(e+1)+i+'">'+t+"</span>"+o}),t.empty().append(s))}e.fn.fitText=function(t,n){var r={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};return this.each(function(){var o=e(this),i=t||1;n&&e.extend(r,n);var a=function(){o.css("font-size",Math.max(Math.min(o.width()/(10*i),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize)))};a(),e(window).resize(a)})};var r={init:function(){return this.each(function(){n(e(this),"","char","")})},words:function(){return this.each(function(){n(e(this)," ","word"," ")})},lines:function(){return this.each(function(){var t="eefec303079ad17405c889e092e105b0";n(e(this).children("br").replaceWith(t).end(),t,"line","")})}};e.fn.lettering=function(t){return t&&r[t]?r[t].apply(this,[].slice.call(arguments,1)):"letters"!==t&&t?(e.error("Method "+t+" does not exist on jQuery.lettering"),this):r.init.apply(this,[].slice.call(arguments,0))},e.Arctext=function(t,n){this.$el=e(n),this._init(t)},e.Arctext.defaults={radius:0,dir:1,rotate:!0,fitText:!1},e.Arctext.prototype={_init:function(t){this.options=e.extend(!0,{},e.Arctext.defaults,t),this._applyLettering(),this.$el.data("arctext",!0),this._calc(),this._rotateWord(),this._loadEvents()},_applyLettering:function(){this.$el.lettering(),this.options.fitText&&this.$el.fitText(),this.$letters=this.$el.find("span").css("display","inline-block")},_calc:function(){return-1===this.options.radius?!1:(this._calcBase(),this._calcLetters(),void 0)},_calcBase:function(){this.dtWord=0;var t=this;this.$letters.each(function(){var n=e(this),r=n.outerWidth(!0);t.dtWord+=r,n.data("center",t.dtWord-r/2)});var n=this.dtWord/2;this.options.radius<n&&(this.options.radius=n),this.dtArcBase=this.dtWord;var r=2*Math.asin(this.dtArcBase/(2*this.options.radius));this.dtArc=this.options.radius*r},_calcLetters:function(){var t=this,n=0;this.$letters.each(function(){var r=e(this),o=r.outerWidth(!0)/t.dtWord*t.dtArc,i=o/t.options.radius,a=t.options.radius*Math.cos(i/2),s=Math.acos((t.dtWord/2-n)/t.options.radius),c=s+i/2,u=Math.cos(c)*a,l=Math.sin(c)*a,f=n+Math.abs(t.dtWord/2-u-n),d=0|f-r.data("center"),p=0|t.options.radius-l,h=t.options.rotate?0|-Math.asin(u/t.options.radius)*(180/Math.PI):0;n=2*f-n,r.data({x:d,y:1===t.options.dir?p:-p,a:1===t.options.dir?h:-h})})},_rotateWord:function(t){if(!this.$el.data("arctext"))return!1;var n=this;this.$letters.each(function(){var r=e(this),o=-1===n.options.radius?"none":"translateX("+r.data("x")+"px) translateY("+r.data("y")+"px) rotate("+r.data("a")+"deg)",i=t?"all "+(t.speed||0)+"ms "+(t.easing||"linear"):"none";r.css({"-webkit-transition":i,"-moz-transition":i,"-o-transition":i,"-ms-transition":i,transition:i}).css({"-webkit-transform":o,"-moz-transform":o,"-o-transform":o,"-ms-transform":o,transform:o})})},_loadEvents:function(){if(this.options.fitText){var t=this;e(window).on("resize.arctext",function(){t._calc(),t._rotateWord()})}},set:function(e){return e.radius||e.dir||"undefined"!==e.rotate?(this.options.radius=e.radius||this.options.radius,this.options.dir=e.dir||this.options.dir,e.rotate!==t&&(this.options.rotate=e.rotate),this._calc(),this._rotateWord(e.animation),void 0):!1},destroy:function(){this.options.radius=-1,this._rotateWord(),this.$letters.removeData("x y a center"),this.$el.removeData("arctext"),e(window).off(".arctext")}};var o=function(e){this.console&&console.error(e)};e.fn.arctext=function(t){if("string"==typeof t){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=e.data(this,"arctext");return r?e.isFunction(r[t])&&"_"!==t.charAt(0)?(r[t].apply(r,n),void 0):(o("no such method '"+t+"' for arctext instance"),void 0):(o("cannot call methods on arctext prior to initialization; attempted to call method '"+t+"'"),void 0)})}else this.each(function(){var n=e.data(this,"arctext");n||e.data(this,"arctext",new e.Arctext(t,this))});return this}}(jQuery)}(),function(){!function($){function sc_setScroll(e,t,n){return"transition"==n.transition&&"swing"==t&&(t="ease"),{anims:[],duration:e,orgDuration:e,easing:t,startTime:getTime()}}function sc_startScroll(e,t){for(var n=0,r=e.anims.length;r>n;n++){var o=e.anims[n];o&&o[0][t.transition](o[1],e.duration,e.easing,o[2])}}function sc_stopScroll(e,t){is_boolean(t)||(t=!0),is_object(e.pre)&&sc_stopScroll(e.pre,t);for(var n=0,r=e.anims.length;r>n;n++){var o=e.anims[n];o[0].stop(!0),t&&(o[0].css(o[1]),is_function(o[2])&&o[2]())}is_object(e.post)&&sc_stopScroll(e.post,t)}function sc_afterScroll(e,t,n){switch(t&&t.remove(),n.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":e.css("opacity",1),e.css("filter","")}}function sc_fireCallbacks(e,t,n,r,o){if(t[n]&&t[n].call(e,r),o[n].length)for(var i=0,a=o[n].length;a>i;i++)o[n][i].call(e,r);return[]}function sc_fireQueue(e,t,n){return t.length&&(e.trigger(cf_e(t[0][0],n),t[0][1]),t.shift()),t}function sc_hideHiddenItems(e){e.each(function(){var e=$(this);e.data("_cfs_isHidden",e.is(":hidden")).hide()})}function sc_showHiddenItems(e){e&&e.each(function(){var e=$(this);e.data("_cfs_isHidden")||e.show()})}function sc_clearTimers(e){return e.auto&&clearTimeout(e.auto),e.progress&&clearInterval(e.progress),e}function sc_mapCallbackArguments(e,t,n,r,o,i,a){return{width:a.width,height:a.height,items:{old:e,skipped:t,visible:n},scroll:{items:r,direction:o,duration:i}}}function sc_getDuration(e,t,n,r){var o=e.duration;return"none"==e.fx?0:("auto"==o?o=t.scroll.duration/t.scroll.items*n:10>o&&(o=r/o),1>o?0:("fade"==e.fx&&(o/=2),Math.round(o)))}function nv_showNavi(e,t,n){var r=is_number(e.items.minimum)?e.items.minimum:e.items.visible+1;if("show"==t||"hide"==t)var o=t;else if(r>t){debug(n,"Not enough items ("+t+" total, "+r+" needed): Hiding navigation.");var o="hide"}else var o="show";var i="show"==o?"removeClass":"addClass",a=cf_c("hidden",n);e.auto.button&&e.auto.button[o]()[i](a),e.prev.button&&e.prev.button[o]()[i](a),e.next.button&&e.next.button[o]()[i](a),e.pagination.container&&e.pagination.container[o]()[i](a)}function nv_enableNavi(e,t,n){if(!e.circular&&!e.infinite){var r="removeClass"==t||"addClass"==t?t:!1,o=cf_c("disabled",n);if(e.auto.button&&r&&e.auto.button[r](o),e.prev.button){var i=r||0==t?"addClass":"removeClass";e.prev.button[i](o)}if(e.next.button){var i=r||t==e.items.visible?"addClass":"removeClass";e.next.button[i](o)}}}function go_getObject(e,t){return is_function(t)?t=t.call(e):is_undefined(t)&&(t={}),t}function go_getItemsObject(e,t){return t=go_getObject(e,t),is_number(t)?t={visible:t}:"variable"==t?t={visible:t,width:t,height:t}:is_object(t)||(t={}),t}function go_getScrollObject(e,t){return t=go_getObject(e,t),is_number(t)?t=50>=t?{items:t}:{duration:t}:is_string(t)?t={easing:t}:is_object(t)||(t={}),t}function go_getNaviObject(e,t){if(t=go_getObject(e,t),is_string(t)){var n=cf_getKeyCode(t);t=-1==n?$(t):n}return t}function go_getAutoObject(e,t){return t=go_getNaviObject(e,t),is_jquery(t)?t={button:t}:is_boolean(t)?t={play:t}:is_number(t)&&(t={timeoutDuration:t}),t.progress&&(is_string(t.progress)||is_jquery(t.progress))&&(t.progress={bar:t.progress}),t}function go_complementAutoObject(e,t){return is_function(t.button)&&(t.button=t.button.call(e)),is_string(t.button)&&(t.button=$(t.button)),is_boolean(t.play)||(t.play=!0),is_number(t.delay)||(t.delay=0),is_undefined(t.pauseOnEvent)&&(t.pauseOnEvent=!0),is_boolean(t.pauseOnResize)||(t.pauseOnResize=!0),is_number(t.timeoutDuration)||(t.timeoutDuration=10>t.duration?2500:5*t.duration),t.progress&&(is_function(t.progress.bar)&&(t.progress.bar=t.progress.bar.call(e)),is_string(t.progress.bar)&&(t.progress.bar=$(t.progress.bar)),t.progress.bar?(is_function(t.progress.updater)||(t.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(t.progress.interval)||(t.progress.interval=50)):t.progress=!1),t}function go_getPrevNextObject(e,t){return t=go_getNaviObject(e,t),is_jquery(t)?t={button:t}:is_number(t)&&(t={key:t}),t}function go_complementPrevNextObject(e,t){return is_function(t.button)&&(t.button=t.button.call(e)),is_string(t.button)&&(t.button=$(t.button)),is_string(t.key)&&(t.key=cf_getKeyCode(t.key)),t}function go_getPaginationObject(e,t){return t=go_getNaviObject(e,t),is_jquery(t)?t={container:t}:is_boolean(t)&&(t={keys:t}),t}function go_complementPaginationObject(e,t){return is_function(t.container)&&(t.container=t.container.call(e)),is_string(t.container)&&(t.container=$(t.container)),is_number(t.items)||(t.items=!1),is_boolean(t.keys)||(t.keys=!1),is_function(t.anchorBuilder)||is_false(t.anchorBuilder)||(t.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(t.deviation)||(t.deviation=0),t}function go_getSwipeObject(e,t){return is_function(t)&&(t=t.call(e)),is_undefined(t)&&(t={onTouch:!1}),is_true(t)?t={onTouch:t}:is_number(t)&&(t={items:t}),t}function go_complementSwipeObject(e,t){return is_boolean(t.onTouch)||(t.onTouch=!0),is_boolean(t.onMouse)||(t.onMouse=!1),is_object(t.options)||(t.options={}),is_boolean(t.options.triggerOnTouchEnd)||(t.options.triggerOnTouchEnd=!1),t}function go_getMousewheelObject(e,t){return is_function(t)&&(t=t.call(e)),is_true(t)?t={}:is_number(t)?t={items:t}:is_undefined(t)&&(t=!1),t}function go_complementMousewheelObject(e,t){return t}function gn_getItemIndex(e,t,n,r,o){if(is_string(e)&&(e=$(e,o)),is_object(e)&&(e=$(e,o)),is_jquery(e)?(e=o.children().index(e),is_boolean(n)||(n=!1)):is_boolean(n)||(n=!0),is_number(e)||(e=0),is_number(t)||(t=0),n&&(e+=r.first),e+=t,r.total>0){for(;e>=r.total;)e-=r.total;for(;0>e;)e+=r.total}return e}function gn_getVisibleItemsPrev(e,t,n){for(var r=0,o=0,i=n;i>=0;i--){var a=e.eq(i);if(r+=a.is(":visible")?a[t.d.outerWidth](!0):0,r>t.maxDimension)return o;0==i&&(i=e.length),o++}}function gn_getVisibleItemsPrevFilter(e,t,n){return gn_getItemsPrevFilter(e,t.items.filter,t.items.visibleConf.org,n)}function gn_getScrollItemsPrevFilter(e,t,n,r){return gn_getItemsPrevFilter(e,t.items.filter,r,n)}function gn_getItemsPrevFilter(e,t,n,r){for(var o=0,i=0,a=r,s=e.length;a>=0;a--){if(i++,i==s)return i;var c=e.eq(a);if(c.is(t)&&(o++,o==n))return i;0==a&&(a=s)}}function gn_getVisibleOrg(e,t){return t.items.visibleConf.org||e.children().slice(0,t.items.visible).filter(t.items.filter).length}function gn_getVisibleItemsNext(e,t,n){for(var r=0,o=0,i=n,a=e.length-1;a>=i;i++){var s=e.eq(i);if(r+=s.is(":visible")?s[t.d.outerWidth](!0):0,r>t.maxDimension)return o;if(o++,o==a+1)return o;i==a&&(i=-1)}}function gn_getVisibleItemsNextTestCircular(e,t,n,r){var o=gn_getVisibleItemsNext(e,t,n);return t.circular||n+o>r&&(o=r-n),o}function gn_getVisibleItemsNextFilter(e,t,n){return gn_getItemsNextFilter(e,t.items.filter,t.items.visibleConf.org,n,t.circular)}function gn_getScrollItemsNextFilter(e,t,n,r){return gn_getItemsNextFilter(e,t.items.filter,r+1,n,t.circular)-1}function gn_getItemsNextFilter(e,t,n,r){for(var o=0,i=0,a=r,s=e.length-1;s>=a;a++){if(i++,i>=s)return i;var c=e.eq(a);if(c.is(t)&&(o++,o==n))return i;a==s&&(a=-1)}}function gi_getCurrentItems(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsPrev(e,t,n){return e.slice(n,t.items.visibleConf.old+n)}function gi_getNewItemsPrev(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsNext(e,t){return e.slice(0,t.items.visibleConf.old)}function gi_getNewItemsNext(e,t,n){return e.slice(n,t.items.visible+n)}function sz_storeMargin(e,t,n){t.usePadding&&(is_string(n)||(n="_cfs_origCssMargin"),e.each(function(){var e=$(this),r=parseInt(e.css(t.d.marginRight),10);is_number(r)||(r=0),e.data(n,r)}))}function sz_resetMargin(e,t,n){if(t.usePadding){var r=is_boolean(n)?n:!1;is_number(n)||(n=0),sz_storeMargin(e,t,"_cfs_tempCssMargin"),e.each(function(){var e=$(this);e.css(t.d.marginRight,r?e.data("_cfs_tempCssMargin"):n+e.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(e){e.each(function(){var e=$(this);e.data("_cfs_origCss",e.attr("style")||"")})}function sz_restoreOrigCss(e){e.each(function(){var e=$(this);e.attr("style",e.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(e,t){var n=(e.items.visible,e.items[e.d.width]),r=e[e.d.height],o=is_percentage(r);t.each(function(){var t=$(this),i=n-ms_getPaddingBorderMargin(t,e,"Width");t[e.d.width](i),o&&t[e.d.height](ms_getPercentage(i,r))})}function sz_setSizes(e,t){var n=e.parent(),r=e.children(),o=gi_getCurrentItems(r,t),i=cf_mapWrapperSizes(ms_getSizes(o,t,!0),t,!1);if(n.css(i),t.usePadding){var a=t.padding,s=a[t.d[1]];t.align&&0>s&&(s=0);var c=o.last();c.css(t.d.marginRight,c.data("_cfs_origCssMargin")+s),e.css(t.d.top,a[t.d[0]]),e.css(t.d.left,a[t.d[3]])}return e.css(t.d.width,i[t.d.width]+2*ms_getTotalSize(r,t,"width")),e.css(t.d.height,ms_getLargestSize(r,t,"height")),i}function ms_getSizes(e,t,n){return[ms_getTotalSize(e,t,"width",n),ms_getLargestSize(e,t,"height",n)]}function ms_getLargestSize(e,t,n,r){return is_boolean(r)||(r=!1),is_number(t[t.d[n]])&&r?t[t.d[n]]:is_number(t.items[t.d[n]])?t.items[t.d[n]]:(n=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(e,t,n))}function ms_getTrueLargestSize(e,t,n){for(var r=0,o=0,i=e.length;i>o;o++){var a=e.eq(o),s=a.is(":visible")?a[t.d[n]](!0):0;s>r&&(r=s)}return r}function ms_getTotalSize(e,t,n,r){if(is_boolean(r)||(r=!1),is_number(t[t.d[n]])&&r)return t[t.d[n]];if(is_number(t.items[t.d[n]]))return t.items[t.d[n]]*e.length;for(var o=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",i=0,a=0,s=e.length;s>a;a++){var c=e.eq(a);i+=c.is(":visible")?c[t.d[o]](!0):0}return i}function ms_getParentSize(e,t,n){var r=e.is(":visible");r&&e.hide();var o=e.parent()[t.d[n]]();return r&&e.show(),o}function ms_getMaxDimension(e,t){return is_number(e[e.d.width])?e[e.d.width]:t}function ms_hasVariableSizes(e,t,n){for(var r=!1,o=!1,i=0,a=e.length;a>i;i++){var s=e.eq(i),c=s.is(":visible")?s[t.d[n]](!0):0;r===!1?r=c:r!=c&&(o=!0),0==r&&(o=!0)}return o}function ms_getPaddingBorderMargin(e,t,n){return e[t.d["outer"+n]](!0)-e[t.d[n.toLowerCase()]]()}function ms_getPercentage(e,t){if(is_percentage(t)){if(t=parseInt(t.slice(0,-1),10),!is_number(t))return e;e*=t/100}return e}function cf_e(e,t,n,r,o){return is_boolean(n)||(n=!0),is_boolean(r)||(r=!0),is_boolean(o)||(o=!1),n&&(e=t.events.prefix+e),r&&(e=e+"."+t.events.namespace),r&&o&&(e+=t.serialNumber),e}function cf_c(e,t){return is_string(t.classnames[e])?t.classnames[e]:e}function cf_mapWrapperSizes(e,t,n){is_boolean(n)||(n=!0);var r=t.usePadding&&n?t.padding:[0,0,0,0],o={};return o[t.d.width]=e[0]+r[1]+r[3],o[t.d.height]=e[1]+r[0]+r[2],o}function cf_sortParams(e,t){for(var n=[],r=0,o=e.length;o>r;r++)for(var i=0,a=t.length;a>i;i++)if(t[i].indexOf(typeof e[r])>-1&&is_undefined(n[i])){n[i]=e[r];break}return n}function cf_getPadding(e){if(is_undefined(e))return[0,0,0,0];if(is_number(e))return[e,e,e,e];if(is_string(e)&&(e=e.split("px").join("").split("em").join("").split(" ")),!is_array(e))return[0,0,0,0];for(var t=0;4>t;t++)e[t]=parseInt(e[t],10);switch(e.length){case 0:return[0,0,0,0];case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];default:return[e[0],e[1],e[2],e[3]]}}function cf_getAlignPadding(e,t){var n=is_number(t[t.d.width])?Math.ceil(t[t.d.width]-ms_getTotalSize(e,t,"width")):0;switch(t.align){case"left":return[0,n];case"right":return[n,0];case"center":default:return[Math.ceil(n/2),Math.floor(n/2)]}}function cf_getDimensions(e){for(var t=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],n=t[0].length,r="right"==e.direction||"left"==e.direction?0:1,o={},i=0;n>i;i++)o[t[0][i]]=t[r][i];return o}function cf_getAdjust(e,t,n,r){var o=e;if(is_function(n))o=n.call(r,o);else if(is_string(n)){var i=n.split("+"),a=n.split("-");if(a.length>i.length)var s=!0,c=a[0],u=a[1];else var s=!1,c=i[0],u=i[1];switch(c){case"even":o=1==e%2?e-1:e;break;case"odd":o=0==e%2?e-1:e;break;default:o=e}u=parseInt(u,10),is_number(u)&&(s&&(u=-u),o+=u)}return(!is_number(o)||1>o)&&(o=1),o}function cf_getItemsAdjust(e,t,n,r){return cf_getItemAdjustMinMax(cf_getAdjust(e,t,n,r),t.items.visibleConf)}function cf_getItemAdjustMinMax(e,t){return is_number(t.min)&&t.min>e&&(e=t.min),is_number(t.max)&&e>t.max&&(e=t.max),1>e&&(e=1),e}function cf_getSynchArr(e){is_array(e)||(e=[[e]]),is_array(e[0])||(e=[e]);for(var t=0,n=e.length;n>t;t++)is_string(e[t][0])&&(e[t][0]=$(e[t][0])),is_boolean(e[t][1])||(e[t][1]=!0),is_boolean(e[t][2])||(e[t][2]=!0),is_number(e[t][3])||(e[t][3]=0);return e}function cf_getKeyCode(e){return"right"==e?39:"left"==e?37:"up"==e?38:"down"==e?40:-1}function cf_setCookie(e,t,n){if(e){var r=t.triggerHandler(cf_e("currentPosition",n));$.fn.carouFredSel.cookie.set(e,r)}}function cf_getCookie(e){var t=$.fn.carouFredSel.cookie.get(e);return""==t?0:t}function in_mapCss(e,t){for(var n={},r=0,o=t.length;o>r;r++)n[t[r]]=e.css(t[r]);return n}function in_complementItems(e,t,n,r){return is_object(e.visibleConf)||(e.visibleConf={}),is_object(e.sizesConf)||(e.sizesConf={}),0==e.start&&is_number(r)&&(e.start=r),is_object(e.visible)?(e.visibleConf.min=e.visible.min,e.visibleConf.max=e.visible.max,e.visible=!1):is_string(e.visible)?("variable"==e.visible?e.visibleConf.variable=!0:e.visibleConf.adjust=e.visible,e.visible=!1):is_function(e.visible)&&(e.visibleConf.adjust=e.visible,e.visible=!1),is_string(e.filter)||(e.filter=n.filter(":hidden").length>0?":visible":"*"),e[t.d.width]||(t.responsive?(debug(!0,"Set a "+t.d.width+" for the items!"),e[t.d.width]=ms_getTrueLargestSize(n,t,"outerWidth")):e[t.d.width]=ms_hasVariableSizes(n,t,"outerWidth")?"variable":n[t.d.outerWidth](!0)),e[t.d.height]||(e[t.d.height]=ms_hasVariableSizes(n,t,"outerHeight")?"variable":n[t.d.outerHeight](!0)),e.sizesConf.width=e.width,e.sizesConf.height=e.height,e}function in_complementVisibleItems(e,t){return"variable"==e.items[e.d.width]&&(e.items.visibleConf.variable=!0),e.items.visibleConf.variable||(is_number(e[e.d.width])?e.items.visible=Math.floor(e[e.d.width]/e.items[e.d.width]):(e.items.visible=Math.floor(t/e.items[e.d.width]),e[e.d.width]=e.items.visible*e.items[e.d.width],e.items.visibleConf.adjust||(e.align=!1)),("Infinity"==e.items.visible||1>e.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),e.items.visibleConf.variable=!0)),e}function in_complementPrimarySize(e,t,n){return"auto"==e&&(e=ms_getTrueLargestSize(n,t,"outerWidth")),e}function in_complementSecondarySize(e,t,n){return"auto"==e&&(e=ms_getTrueLargestSize(n,t,"outerHeight")),e||(e=t.items[t.d.height]),e}function in_getAlignPadding(e,t){var n=cf_getAlignPadding(gi_getCurrentItems(t,e),e);return e.padding[e.d[1]]=n[1],e.padding[e.d[3]]=n[0],e}function in_getResponsiveValues(e,t){var n=cf_getItemAdjustMinMax(Math.ceil(e[e.d.width]/e.items[e.d.width]),e.items.visibleConf);n>t.length&&(n=t.length);var r=Math.floor(e[e.d.width]/n);return e.items.visible=n,e.items[e.d.width]=r,e[e.d.width]=n*r,e}function bt_pauseOnHoverConfig(e){if(is_string(e))var t=e.indexOf("immediate")>-1?!0:!1,n=e.indexOf("resume")>-1?!0:!1;else var t=n=!1;return[t,n]}function bt_mousesheelNumber(e){return is_number(e)?e:null}function is_null(e){return null===e}function is_undefined(e){return is_null(e)||void 0===e||""===e||"undefined"===e}function is_array(e){return e instanceof Array}function is_jquery(e){return e instanceof jQuery}function is_object(e){return(e instanceof Object||"object"==typeof e)&&!is_null(e)&&!is_jquery(e)&&!is_array(e)&&!is_function(e)}function is_number(e){return(e instanceof Number||"number"==typeof e)&&!isNaN(e)}function is_string(e){return(e instanceof String||"string"==typeof e)&&!is_undefined(e)&&!is_true(e)&&!is_false(e)}function is_function(e){return e instanceof Function||"function"==typeof e}function is_boolean(e){return e instanceof Boolean||"boolean"==typeof e||is_true(e)||is_false(e)}function is_true(e){return e===!0||"true"===e}function is_false(e){return e===!1||"false"===e}function is_percentage(e){return is_string(e)&&"%"==e.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(e,t){debug(!0,e+" is DEPRECATED, support for it will be removed. Use "+t+" instead.")}function debug(e,t){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(e)){var n=" ("+e.selector+")";e=e.debug}else var n="";if(!e)return!1;t=is_string(t)?"carouFredSel"+n+": "+t:["carouFredSel"+n+":",t],window.console.log(t)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(e,t,n){e=go_getObject($tt0,e),e.items=go_getItemsObject($tt0,e.items),e.scroll=go_getScrollObject($tt0,e.scroll),e.auto=go_getAutoObject($tt0,e.auto),e.prev=go_getPrevNextObject($tt0,e.prev),e.next=go_getPrevNextObject($tt0,e.next),e.pagination=go_getPaginationObject($tt0,e.pagination),e.swipe=go_getSwipeObject($tt0,e.swipe),e.mousewheel=go_getMousewheelObject($tt0,e.mousewheel),t&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,e)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,e),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var r=$cfs.children(),o=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,o),opts.items=in_complementItems(opts.items,opts,r,n),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,r),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,r),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(o,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,o)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(r,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(r,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,r,o);
else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,r),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var e=$cfs.children(),t=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),n="relative";switch(t.position){case"absolute":case"fixed":n=t.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(t),$wrp.css({overflow:"hidden",position:n}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",t.zIndex),$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(e,opts),sz_storeOrigCss(e),opts.responsive&&sz_setResponsiveSizes(opts,e)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(e,t){return e.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),t)),!0}),$cfs.bind(cf_e("finish",conf),function(e){return e.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(e,t,n){if(e.stopPropagation(),tmrs=sc_clearTimers(tmrs),t&&crsl.isScrolling){scrl.isStopped=!0;var r=getTime()-scrl.startTime;scrl.duration-=r,scrl.pre&&(scrl.pre.duration-=r),scrl.post&&(scrl.post.duration-=r),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||n&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var o=opts.auto.timeoutDuration-tmrs.timePassed,i=100-Math.ceil(100*o/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,i,o)}return!0}),$cfs.bind(cf_e("play",conf),function(e,t,n,r){e.stopPropagation(),tmrs=sc_clearTimers(tmrs);var o=[t,n,r],i=["string","number","boolean"],a=cf_sortParams(o,i);if(t=a[0],n=a[1],r=a[2],"prev"!=t&&"next"!=t&&(t=crsl.direction),is_number(n)||(n=0),is_boolean(r)||(r=!1),r&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return e.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var s=opts.auto.timeoutDuration+n;return dur2=s-tmrs.timePassed,perc=100-Math.ceil(100*dur2/s),opts.auto.progress&&(tmrs.progress=setInterval(function(){var e=getTime()-tmrs.startTime+tmrs.timePassed,t=Math.ceil(100*e/s);opts.auto.progress.updater.call(opts.auto.progress.bar[0],t)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),t):$cfs.trigger(cf_e(t,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(e){return e.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,t,n,r,o){if(e.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return e.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var i=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(i>itms.total)return e.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+i+" needed): Not scrolling.");var a=[t,n,r,o],s=["object","number/string","function","boolean"],c=cf_sortParams(a,s);t=c[0],n=c[1],r=c[2],o=c[3];var u=e.type.slice(conf.events.prefix.length);if(is_object(t)||(t={}),is_function(r)&&(t.onAfter=r),is_boolean(o)&&(t.queue=o),t=$.extend(!0,{},opts[u],t),t.conditions&&!t.conditions.call($tt0,u))return e.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(n)){if("*"!=opts.items.filter)n="visible";else for(var l=[n,t.items,opts[u].items],c=0,f=l.length;f>c;c++)if(is_number(l[c])||"page"==l[c]||"visible"==l[c]){n=l[c];break}switch(n){case"page":return e.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(u+"Page",conf),[t,r]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(n=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[u,[t,n,r]]),e.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(t.duration>0&&crsl.isScrolling)return t.queue&&("last"==t.queue&&(queu=[]),("first"!=t.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[u,[t,n,r]])),e.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+u,conf),[t,n]),opts.synchronise)for(var d=opts.synchronise,p=[t,n],h=0,f=d.length;f>h;h++){var g=u;d[h][2]||(g="prev"==g?"next":"prev"),d[h][1]||(p[0]=d[h][0].triggerHandler("_cfs_triggerEvent",["configuration",g])),p[1]=n+d[h][3],d[h][0].trigger("_cfs_triggerEvent",["slide_"+g,p])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(e,t,n){e.stopPropagation();var r=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),e.stopImmediatePropagation();if(sz_resetMargin(r,opts),!is_number(n)){if(opts.items.visibleConf.variable)n=gn_getVisibleItemsPrev(r,opts,itms.total-1);else if("*"!=opts.items.filter){var o=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsPrevFilter(r,opts,itms.total-1,o)}else n=opts.items.visible;n=cf_getAdjust(n,opts,t.items,$tt0)}if(opts.circular||itms.total-n<itms.first&&(n=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var i=cf_getItemsAdjust(gn_getVisibleItemsNext(r,opts,itms.total-n),opts,opts.items.visibleConf.adjust,$tt0);i>=opts.items.visible+n&&itms.total>n&&(n++,i=cf_getItemsAdjust(gn_getVisibleItemsNext(r,opts,itms.total-n),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=i}else if("*"!=opts.items.filter){var i=gn_getVisibleItemsNextFilter(r,opts,itms.total-n);opts.items.visible=cf_getItemsAdjust(i,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(r,opts,!0),0==n)return e.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+n+" items backward."),itms.first+=n;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&t.onEnd&&t.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-n,itms.total).prependTo($cfs),itms.total<opts.items.visible+n&&$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(!0).appendTo($cfs);var r=$cfs.children(),a=gi_getOldItemsPrev(r,opts,n),s=gi_getNewItemsPrev(r,opts),c=r.eq(n-1),u=a.last(),l=s.last();sz_resetMargin(r,opts);var f=0,d=0;if(opts.align){var p=cf_getAlignPadding(s,opts);f=p[0],d=p[1]}var h=0>f?opts.padding[opts.d[3]]:0,g=!1,m=$();if(n>opts.items.visible&&(m=r.slice(opts.items.visibleConf.old,n),"directscroll"==t.fx)){var v=opts.items[opts.d.width];g=m,c=l,sc_hideHiddenItems(g),opts.items[opts.d.width]="variable"}var b=!1,y=ms_getTotalSize(r.slice(0,n),opts,"width"),_=cf_mapWrapperSizes(ms_getSizes(s,opts,!0),opts,!opts.usePadding),w=0,k={},S={},T={},C={},x={},E={},I={},P=sc_getDuration(t,opts,n,y);switch(t.fx){case"cover":case"cover-fade":w=ms_getTotalSize(r.slice(0,opts.items.visible),opts,"width")}g&&(opts.items[opts.d.width]=v),sz_resetMargin(r,opts,!0),d>=0&&sz_resetMargin(u,opts,opts.padding[opts.d[1]]),f>=0&&sz_resetMargin(c,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=d,opts.padding[opts.d[3]]=f),E[opts.d.left]=-(y-h),I[opts.d.left]=-(w-h),S[opts.d.left]=_[opts.d.width];var A=function(){},M=function(){},D=function(){},L=function(){},O=function(){},N=function(){},R=function(){},j=function(){},H=function(){},B=function(){},F=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":b=$cfs.clone(!0).appendTo($wrp)}switch(t.fx){case"crossfade":case"uncover":case"uncover-fade":b.children().slice(0,n).remove(),b.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":b.children().slice(opts.items.visible).remove(),b.css(I)}if($cfs.css(E),scrl=sc_setScroll(P,t.easing,conf),k[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(A=function(){$wrp.css(_)},M=function(){scrl.anims.push([$wrp,_])}),opts.usePadding){switch(l.not(c).length&&(T[opts.d.marginRight]=c.data("_cfs_origCssMargin"),0>f?c.css(T):(R=function(){c.css(T)},j=function(){scrl.anims.push([c,T])})),t.fx){case"cover":case"cover-fade":b.children().eq(n-1).css(T)}l.not(u).length&&(C[opts.d.marginRight]=u.data("_cfs_origCssMargin"),D=function(){u.css(C)},L=function(){scrl.anims.push([u,C])}),d>=0&&(x[opts.d.marginRight]=l.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],O=function(){l.css(x)},N=function(){scrl.anims.push([l,x])})}F=function(){$cfs.css(k)};var U=opts.items.visible+n-itms.total;B=function(){if(U>0&&($cfs.children().slice(itms.total).remove(),a=$($cfs.children().slice(itms.total-(opts.items.visible-U)).get().concat($cfs.children().slice(0,U).get()))),sc_showHiddenItems(g),opts.usePadding){var e=$cfs.children().eq(opts.items.visible+n-1);e.css(opts.d.marginRight,e.data("_cfs_origCssMargin"))}};var q=sc_mapCallbackArguments(a,m,s,n,"prev",P,_);switch(H=function(){sc_afterScroll($cfs,b,t),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",q,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",q,clbk),t.fx){case"none":$cfs.css(k),A(),D(),O(),R(),F(),B(),H();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){A(),D(),O(),R(),F(),B(),scrl=sc_setScroll(P,t.easing,conf),scrl.anims.push([$cfs,{opacity:1},H]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([b,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},H]),M(),D(),O(),R(),F(),B();break;case"cover":scrl.anims.push([b,k,function(){D(),O(),R(),F(),B(),H()}]),M();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([b,k,function(){D(),O(),R(),F(),B(),H()}]),M();break;case"uncover":scrl.anims.push([b,S,H]),M(),D(),O(),R(),F(),B();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([b,S,H]),M(),D(),O(),R(),F(),B();break;default:scrl.anims.push([$cfs,k,function(){B(),H()}]),M(),L(),N(),j()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,_]),!0}),$cfs.bind(cf_e("slide_next",conf),function(e,t,n){e.stopPropagation();var r=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),e.stopImmediatePropagation();if(sz_resetMargin(r,opts),!is_number(n)){if("*"!=opts.items.filter){var o=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsNextFilter(r,opts,0,o)}else n=opts.items.visible;n=cf_getAdjust(n,opts,t.items,$tt0)}var i=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var a=gn_getVisibleItemsNext(r,opts,n),o=gn_getVisibleItemsPrev(r,opts,i-1);else var a=opts.items.visible,o=opts.items.visible;n+a>i&&(n=i-o)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var a=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(r,opts,n,i),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-n>=a&&itms.total>n;)n++,a=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(r,opts,n,i),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=a}else if("*"!=opts.items.filter){var a=gn_getVisibleItemsNextFilter(r,opts,n);opts.items.visible=cf_getItemsAdjust(a,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(r,opts,!0),0==n)return e.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+n+" items forward."),itms.first-=n;0>itms.first;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&t.onEnd&&t.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+n&&$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(!0).appendTo($cfs);var r=$cfs.children(),s=gi_getOldItemsNext(r,opts),c=gi_getNewItemsNext(r,opts,n),u=r.eq(n-1),l=s.last(),f=c.last();sz_resetMargin(r,opts);var d=0,p=0;if(opts.align){var h=cf_getAlignPadding(c,opts);d=h[0],p=h[1]}var g=!1,m=$();if(n>opts.items.visibleConf.old&&(m=r.slice(opts.items.visibleConf.old,n),"directscroll"==t.fx)){var v=opts.items[opts.d.width];g=m,u=l,sc_hideHiddenItems(g),opts.items[opts.d.width]="variable"}var b=!1,y=ms_getTotalSize(r.slice(0,n),opts,"width"),_=cf_mapWrapperSizes(ms_getSizes(c,opts,!0),opts,!opts.usePadding),w=0,k={},S={},T={},C={},x={},E=sc_getDuration(t,opts,n,y);switch(t.fx){case"uncover":case"uncover-fade":w=ms_getTotalSize(r.slice(0,opts.items.visibleConf.old),opts,"width")}g&&(opts.items[opts.d.width]=v),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(r,opts,!0),sz_resetMargin(l,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=p,opts.padding[opts.d[3]]=d),x[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var I=function(){},P=function(){},A=function(){},M=function(){},D=function(){},L=function(){},O=function(){},N=function(){},R=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":b=$cfs.clone(!0).appendTo($wrp),b.children().slice(opts.items.visibleConf.old).remove()}switch(t.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),b.css("zIndex",0)}if(scrl=sc_setScroll(E,t.easing,conf),k[opts.d.left]=-y,S[opts.d.left]=-w,0>d&&(k[opts.d.left]+=d),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(I=function(){$wrp.css(_)},P=function(){scrl.anims.push([$wrp,_])}),opts.usePadding){var j=f.data("_cfs_origCssMargin");p>=0&&(j+=opts.padding[opts.d[1]]),f.css(opts.d.marginRight,j),u.not(l).length&&(C[opts.d.marginRight]=l.data("_cfs_origCssMargin")),A=function(){l.css(C)},M=function(){scrl.anims.push([l,C])};var H=u.data("_cfs_origCssMargin");d>0&&(H+=opts.padding[opts.d[3]]),T[opts.d.marginRight]=H,D=function(){u.css(T)},L=function(){scrl.anims.push([u,T])}}R=function(){$cfs.css(x)};var B=opts.items.visible+n-itms.total;N=function(){B>0&&$cfs.children().slice(itms.total).remove();var e=$cfs.children().slice(0,n).appendTo($cfs).last();if(B>0&&(c=gi_getCurrentItems(r,opts)),sc_showHiddenItems(g),opts.usePadding){if(itms.total<opts.items.visible+n){var t=$cfs.children().eq(opts.items.visible-1);t.css(opts.d.marginRight,t.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}e.css(opts.d.marginRight,e.data("_cfs_origCssMargin"))}};var F=sc_mapCallbackArguments(s,m,c,n,"next",E,_);switch(O=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,b,t),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",F,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",F,clbk),t.fx){case"none":$cfs.css(k),I(),A(),D(),R(),N(),O();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){I(),A(),D(),R(),N(),scrl=sc_setScroll(E,t.easing,conf),scrl.anims.push([$cfs,{opacity:1},O]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([b,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},O]),P(),A(),D(),R(),N();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,x,O]),P(),A(),D(),N();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([b,{opacity:0}]),scrl.anims.push([$cfs,x,O]),P(),A(),D(),N();break;case"uncover":scrl.anims.push([b,S,O]),P(),A(),D(),R(),N();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([b,S,O]),P(),A(),D(),R(),N();break;default:scrl.anims.push([$cfs,k,function(){R(),N(),O()}]),P(),M(),L()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,_]),!0}),$cfs.bind(cf_e("slideTo",conf),function(e,t,n,r,o,i,a){e.stopPropagation();var s=[t,n,r,o,i,a],c=["string/number/object","number","boolean","object","string","function"],u=cf_sortParams(s,c);return o=u[3],i=u[4],a=u[5],t=gn_getItemIndex(u[0],u[1],u[2],itms,$cfs),0==t?!1:(is_object(o)||(o=!1),"prev"!=i&&"next"!=i&&(i=opts.circular?itms.total/2>=t?"next":"prev":0==itms.first||itms.first>t?"next":"prev"),"prev"==i&&(t=itms.total-t),$cfs.trigger(cf_e(i,conf),[o,t,a]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(e,t,n){e.stopPropagation();var r=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[r-1,t,"prev",n])}),$cfs.bind(cf_e("nextPage",conf),function(e,t,n){e.stopPropagation();var r=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[r+1,t,"next",n])}),$cfs.bind(cf_e("slideToPage",conf),function(e,t,n,r,o){e.stopPropagation(),is_number(t)||(t=$cfs.triggerHandler(cf_e("currentPage",conf)));var i=opts.pagination.items||opts.items.visible,a=Math.ceil(itms.total/i)-1;return 0>t&&(t=a),t>a&&(t=0),$cfs.triggerHandler(cf_e("slideTo",conf),[t*i,0,!0,n,r,o])}),$cfs.bind(cf_e("jumpToStart",conf),function(e,t){if(e.stopPropagation(),t=t?gn_getItemIndex(t,0,!0,itms,$cfs):0,t+=itms.first,0!=t){if(itms.total>0)for(;t>itms.total;)t-=itms.total;$cfs.prepend($cfs.children().slice(t,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(e,t){if(e.stopPropagation(),t)t=cf_getSynchArr(t);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");t=opts.synchronise}for(var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),r=!0,o=0,i=t.length;i>o;o++)t[o][0].triggerHandler(cf_e("slideTo",conf),[n,t[o][3],!0])||(r=!1);return r}),$cfs.bind(cf_e("queue",conf),function(e,t,n){return e.stopPropagation(),is_function(t)?t.call($tt0,queu):is_array(t)?queu=t:is_undefined(t)||queu.push([t,n]),queu}),$cfs.bind(cf_e("insertItem",conf),function(e,t,n,r,o){e.stopPropagation();var i=[t,n,r,o],a=["string/object","string/number/object","boolean","number"],s=cf_sortParams(i,a);if(t=s[0],n=s[1],r=s[2],o=s[3],is_object(t)&&!is_jquery(t)?t=$(t):is_string(t)&&(t=$(t)),!is_jquery(t)||0==t.length)return debug(conf,"Not a valid object.");is_undefined(n)&&(n="end"),sz_storeMargin(t,opts),sz_storeOrigCss(t);var c=n,u="before";"end"==n?r?(0==itms.first?(n=itms.total-1,u="after"):(n=itms.first,itms.first+=t.length),0>n&&(n=0)):(n=itms.total-1,u="after"):n=gn_getItemIndex(n,o,r,itms,$cfs);var l=$cfs.children().eq(n);return l.length?l[u](t):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(t)),"end"==c||r||itms.first>n&&(itms.first+=t.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(e,t,n,r){e.stopPropagation();var o=[t,n,r],i=["string/number/object","boolean","number"],a=cf_sortParams(o,i);if(t=a[0],n=a[1],r=a[2],t instanceof $&&t.length>1)return s=$(),t.each(function(){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),n,r]);e&&(s=s.add(e))}),s;if(is_undefined(t)||"end"==t)s=$cfs.children().last();else{t=gn_getItemIndex(t,r,n,itms,$cfs);var s=$cfs.children().eq(t);s.length&&itms.first>t&&(itms.first-=s.length)}return s&&s.length&&(s.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),s}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length);return is_array(t)&&(clbk[n]=t),is_function(t)&&clbk[n].push(t),clbk[n]}),$cfs.bind(cf_e("currentPosition",conf),function(e,t){if(e.stopPropagation(),0==itms.first)var n=0;else var n=itms.total-itms.first;return is_function(t)&&t.call($tt0,n),n}),$cfs.bind(cf_e("currentPage",conf),function(e,t){e.stopPropagation();var n,r=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/r-1);return n=0==itms.first?0:itms.first<itms.total%r?0:itms.first!=r||opts.circular?Math.round((itms.total-itms.first)/r):o,0>n&&(n=0),n>o&&(n=o),is_function(t)&&t.call($tt0,n),n}),$cfs.bind(cf_e("currentVisible",conf),function(e,t){e.stopPropagation();var n=gi_getCurrentItems($cfs.children(),opts);return is_function(t)&&t.call($tt0,n),n}),$cfs.bind(cf_e("slice",conf),function(e,t,n,r){if(e.stopPropagation(),0==itms.total)return!1;var o=[t,n,r],i=["number","number","function"],a=cf_sortParams(o,i);if(t=is_number(a[0])?a[0]:0,n=is_number(a[1])?a[1]:itms.total,r=a[2],t+=itms.first,n+=itms.first,items.total>0){for(;t>itms.total;)t-=itms.total;for(;n>itms.total;)n-=itms.total;for(;0>t;)t+=itms.total;for(;0>n;)n+=itms.total}var s,c=$cfs.children();return s=n>t?c.slice(t,n):$(c.slice(t,itms.total).get().concat(c.slice(0,n).get())),is_function(r)&&r.call($tt0,s),s}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length),r=crsl[n];return is_function(t)&&t.call($tt0,r),r}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(e,t,n){return e.stopPropagation(),is_undefined(t)?t=$("body"):is_string(t)&&(t=$(t)),is_jquery(t)&&0!=t.length?(is_string(n)||(n="a.caroufredsel"),t.find(n).each(function(){var e=this.hash||"";e.length>0&&-1!=$cfs.children().index($(e))&&$(this).unbind("click").click(function(t){t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),e)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(e,t){if(e.stopPropagation(),opts.pagination.container){var n=opts.pagination.items||opts.items.visible,r=Math.ceil(itms.total/n);t&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var e=0;r>e;e++){var t=$cfs.children().eq(gn_getItemIndex(e*n,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(t[0],e+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[e*n,-opts.pagination.deviation,!0,opts.pagination])})})}));var o=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return o>=r&&(o=0),0>o&&(o=r-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(o).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var e=opts.items.visible,t=$cfs.children(),n=ms_getParentSize($wrp,opts,"width");if(itms.total=t.length,crsl.primarySizePercentage?(opts.maxDimension=n,opts[opts.d.width]=ms_getPercentage(n,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,n),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,t,n),e=opts.items.visible,sz_setResponsiveSizes(opts,t)):opts.items.visibleConf.variable?e=gn_getVisibleItemsNext(t,opts,0):"*"!=opts.items.filter&&(e=gn_getVisibleItemsNextFilter(t,opts,0)),!opts.circular&&0!=itms.first&&e>itms.first){if(opts.items.visibleConf.variable)var r=gn_getVisibleItemsPrev(t,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var r=gn_getVisibleItemsPrevFilter(t,opts,itms.first)-itms.first;else var r=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+r+" items backward."),$cfs.trigger(cf_e("prev",conf),r)}opts.items.visible=cf_getItemsAdjust(e,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,t);var o=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,o]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),o}),$cfs.bind(cf_e("destroy",conf),function(e,t){return e.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),t&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(e,t,n){return e.stopPropagation(),$cfs.triggerHandler(cf_e(t,conf),n)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(e){e.preventDefault();var t=!1,n=null;crsl.isPaused?t="play":opts.auto.pauseOnEvent&&(t="pause",n=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),t&&$cfs.trigger(cf_e(t,conf),n)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(e){e.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var e=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(e){e.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var e=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var t=e.keyCode;t==opts.next.key&&(e.preventDefault(),$cfs.trigger(cf_e("next",conf))),t==opts.prev.key&&(e.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var t=e.keyCode;t>=49&&58>t&&(t=(t-49)*opts.items.visible,itms.total>=t&&(e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[t,0,!0,opts.pagination])))}),$.fn.swipe){var t="ontouchstart"in window;if(t&&opts.swipe.onTouch||!t&&opts.swipe.onMouse){var n=$.extend(!0,{},opts.prev,opts.swipe),r=$.extend(!0,{},opts.next,opts.swipe),o=function(){$cfs.trigger(cf_e("prev",conf),[n])},i=function(){$cfs.trigger(cf_e("next",conf),[r])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=i,opts.swipe.options.swipeDown=o;break;default:opts.swipe.options.swipeLeft=i,opts.swipe.options.swipeRight=o}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var a=$.extend(!0,{},opts.prev,opts.mousewheel),s=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(e,t){e.preventDefault(),t>0?$cfs.trigger(cf_e("prev",conf),[a]):$cfs.trigger(cf_e("next",conf),[s])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var c=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},u=$(window),l=null;if($.debounce&&"debounce"==conf.onWindowResize)l=$.debounce(200,c);else if($.throttle&&"throttle"==conf.onWindowResize)l=$.throttle(300,c);else{var f=0,d=0;l=function(){var e=u.width(),t=u.height();(e!=f||t!=d)&&(c(),f=e,d=t)}}u.bind(cf_e("resize",conf,!1,!0,!0),l)}},FN._unbind_buttons=function(){var e=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(e),opts.auto.button&&opts.auto.button.unbind(e),opts.prev.button&&opts.prev.button.unbind(e),opts.next.button&&opts.next.button.unbind(e),opts.pagination.container&&(opts.pagination.container.unbind(e),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)
},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,1>s.length)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(e){return'<a href="#"><span>'+e+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(e){$(this).css("width",e+"%")},$.fn.carouFredSel.cookie={get:function(e){e+="=";for(var t=document.cookie.split(";"),n=0,r=t.length;r>n;n++){for(var o=t[n];" "==o.charAt(0);)o=o.slice(1);if(0==o.indexOf(e))return o.slice(e.length)}return 0},set:function(e,t,n){var r="";if(n){var o=new Date;o.setTime(o.getTime()+864e5*n),r="; expires="+o.toGMTString()}document.cookie=e+"="+t+r+"; path=/"},remove:function(e){$.fn.carouFredSel.cookie.set(e,"",-1)}},$.extend($.easing,{quadratic:function(e){var t=e*e;return e*(-t*e+4*t-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){var t=e*e;return e*(33*t*t-106*t*e+126*t-67*e+15)}}))}(jQuery)}(),function(){!function(e,t){"use strict";var n,r=e.document,o=e.Modernizr,i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a="Moz Webkit O Ms".split(" "),s=function(e){var t,n=r.documentElement.style;if("string"==typeof n[e])return e;e=i(e);for(var o=0,s=a.length;s>o;o++)if(t=a[o]+e,"string"==typeof n[t])return t},c=s("transform"),u=s("transitionProperty"),l={csstransforms:function(){return!!c},csstransforms3d:function(){var e=!!s("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",o=t("<style>"+r+"{#modernizr{height:3px}}</style>").appendTo("head"),i=t('<div id="modernizr" />').appendTo("html");e=3===i.height(),i.remove(),o.remove()}return e},csstransitions:function(){return!!u}};if(o)for(n in l)o.hasOwnProperty(n)||o.addTest(n,l[n]);else{o=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var f,d=" ";for(n in l)f=l[n](),o[n]=f,d+=" "+(f?"":"no-")+n;t("html").addClass(d)}if(o.csstransforms){var p=o.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},h=function(e,n,r){var o,i,a=t.data(e,"isoTransform")||{},s={},u={};s[n]=r,t.extend(a,s);for(o in a)i=a[o],u[o]=p[o](i);var l=u.translate||"",f=u.scale||"",d=l+f;t.data(e,"isoTransform",a),e.style[c]=d};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){h(e,"scale",t)},get:function(e){var n=t.data(e,"isoTransform");return n&&n.scale?n.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){h(e,"translate",t)},get:function(e){var n=t.data(e,"isoTransform");return n&&n.translate?n.translate:[0,0]}}}var g,m;o.csstransitions&&(g={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[u],m=s("transitionDuration"));var v,b=t.event,y=t.event.handle?"handle":"dispatch";b.special.smartresize={setup:function(){t(this).bind("resize",b.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",b.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",v&&clearTimeout(v),v=setTimeout(function(){b[y].apply(n,r)},"execAsap"===t?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n,r){this.element=t(n),this._create(e),this._init(r)};var _=["width","height"],w=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=_.slice(0);for(var o in this.options.containerStyle)r.push(o);for(var i=0,a=r.length;a>i;i++)o=r[i],this.originalStyle[o]=n[o]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var s={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,s),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var c=this;setTimeout(function(){c.element.addClass(c.options.containerClass)},0),this.options.resizable&&w.bind("smartresize.isotope",function(){c.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};return n=n.filter(function(e,t){return 1===t.nodeType}),this.usingTransforms&&(r.left=0,r.top=0),n.css(r).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e)n="_update"+i(r),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e,t=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(t){case"css":case"none":e=!1;break;case"jquery":e=!0;break;default:e=!o.csstransitions}this.isUsingJQueryAnimation=e,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&o.csstransforms&&o.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=""===this.options.filter?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,o=e.filter(r),i=o;if("*"!==t){i=o.filter(t);var a=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:a,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:i,style:this.options.visibleStyle}),i.removeClass(n),e.filter(t)},updateSortData:function(e,n){var r,o,i=this,a=this.options.getSortData;e.each(function(){r=t(this),o={};for(var e in a)o[e]=n||"original-order"!==e?a[e](r,i):t.data(this,"isotope-sort-data")[e];t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,o){var i=t(r,e),a=t(o,e);return i===a&&"original-order"!==e&&(i=t(r,"original-order"),a=t(o,"original-order")),(i>a?1:a>i?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left),n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;if(this["_"+n+"Layout"](e),this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,n){var r,i,a,s,c=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",u=this.options.animationOptions,l=this.options.onLayout;if(i=function(e,t){t.$el[c](t.style,u)},this._isInserting&&this.isUsingJQueryAnimation)i=function(e,t){r=t.$el.hasClass("no-transition")?"css":c,t.$el[r](t.style,u)};else if(n||l||u.complete){var f=!1,d=[n,l,u.complete],p=this;if(a=!0,s=function(){if(!f){for(var t,n=0,r=d.length;r>n;n++)t=d[n],"function"==typeof t&&t.call(p.element,e,p);f=!0}},this.isUsingJQueryAnimation&&"animate"===c)u.complete=s,a=!1;else if(o.csstransitions){for(var h,v=0,b=this.styleQueue[0],y=b&&b.$el;!y||!y.length;){if(h=this.styleQueue[v++],!h)return;y=h.$el}var _=parseFloat(getComputedStyle(y[0])[m]);_>0&&(i=function(e,t){t.$el[c](t.style,u).one(g,s)},a=!1)}}t.each(this.styleQueue,i),a&&s(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r),n._sort(),n.reLayout(),n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,r=function(){e.remove(),t&&t.call(n.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(r)):r()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[c]="")});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),w.unbind(".isotope")},_getSegments:function(e){var t,n=this.options.layoutMode,r=e?"rowHeight":"columnWidth",o=e?"height":"width",a=e?"rows":"cols",s=this.element[o](),c=this.options[n]&&this.options[n][r]||this.$filteredAtoms["outer"+i(o)](!0)||s;t=Math.floor(s/c),t=Math.max(t,1),this[n][a]=t,this[n][r]=c},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];return this._getSegments(e),this[t][n]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;for(this.masonry.colYs=[];e--;)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),o=Math.ceil(e.outerWidth(!0)/r.columnWidth);if(o=Math.min(o,r.cols),1===o)n._masonryPlaceBrick(e,r.colYs);else{var i,a,s=r.cols+1-o,c=[];for(a=0;s>a;a++)i=r.colYs.slice(a,a+o),c[a]=Math.max.apply(Math,i);n._masonryPlaceBrick(e,c)}})},_masonryPlaceBrick:function(e,t){for(var n=Math.min.apply(Math,t),r=0,o=0,i=t.length;i>o;o++)if(t[o]===n){r=o;break}var a=this.masonry.columnWidth*r,s=n;this._pushPosition(e,a,s);var c=n+e.outerHeight(!0),u=this.masonry.cols+1-i;for(o=0;u>o;o++)this.masonry.colYs[r+o]=c},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),o=this.fitRows;e.each(function(){var e=t(this),i=e.outerWidth(!0),a=e.outerHeight(!0);0!==o.x&&i+o.x>r&&(o.x=0,o.y=o.height),n._pushPosition(e,o.x,o.y),o.height=Math.max(o.y+a,o.height),o.x+=i})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),o=r.index%r.cols,i=Math.floor(r.index/r.cols),a=(o+.5)*r.columnWidth-e.outerWidth(!0)/2,s=(i+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,a,s),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(){var e=t(this);n._pushPosition(e,0,n.straightDown.y),n.straightDown.y+=e.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];e--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),o=Math.ceil(e.outerHeight(!0)/r.rowHeight);if(o=Math.min(o,r.rows),1===o)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var i,a,s=r.rows+1-o,c=[];for(a=0;s>a;a++)i=r.rowXs.slice(a,a+o),c[a]=Math.max.apply(Math,i);n._masonryHorizontalPlaceBrick(e,c)}})},_masonryHorizontalPlaceBrick:function(e,t){for(var n=Math.min.apply(Math,t),r=0,o=0,i=t.length;i>o;o++)if(t[o]===n){r=o;break}var a=n,s=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,a,s);var c=n+e.outerWidth(!0),u=this.masonryHorizontal.rows+1-i;for(o=0;u>o;o++)this.masonryHorizontal.rowXs[r+o]=c},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),o=this.fitColumns;e.each(function(){var e=t(this),i=e.outerWidth(!0),a=e.outerHeight(!0);0!==o.y&&a+o.y>r&&(o.x=o.width,o.y=0),n._pushPosition(e,o.x,o.y),o.width=Math.max(o.x+i,o.width),o.y+=a})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),o=Math.floor(r.index/r.rows),i=r.index%r.rows,a=(o+.5)*r.columnWidth-e.outerWidth(!0)/2,s=(i+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,a,s),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(){var e=t(this);n._pushPosition(e,n.straightAcross.x,0),n.straightAcross.x+=e.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function n(){e.call(o,i)}function r(e){var o=e.target;o.src!==s&&-1===t.inArray(o,c)&&(c.push(o),--a<=0&&(setTimeout(n),i.unbind(".imagesLoaded",r)))}var o=this,i=o.find("img").add(o.filter("img")),a=i.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",c=[];return a||n(),i.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=s,this.src=e}),o};var k=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if("string"==typeof e){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");return n?t.isFunction(n[e])&&"_"!==e.charAt(0)?(n[e].apply(n,r),void 0):(k("no such method '"+e+"' for isotope instance"),void 0):(k("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'"),void 0)})}else this.each(function(){var r=t.data(this,"isotope");r?(r.option(e),r._init(n)):t.data(this,"isotope",new t.Isotope(e,this,n))});return this}}(window,jQuery)}(),function(){!function(e){var t=!1,n=!1,r={isUrl:function(e){var t=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(e)?!0:!1},loadContent:function(e,t){e.html(t)},addPrefix:function(e){var t=e.attr("id"),n=e.attr("class");"string"==typeof t&&""!==t&&e.attr("id",t.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof n&&""!==n&&"sidr-inner"!==n&&e.attr("class",n.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),e.removeAttr("style")},execute:function(r,i,a){"function"==typeof i?(a=i,i="sidr"):i||(i="sidr");var s,c,u,l=e("#"+i),f=e(l.data("body")),d=e("html"),p=l.outerWidth(!0),h=l.data("speed"),g=l.data("side");if("open"===r||"toogle"===r&&!l.is(":visible")){if(l.is(":visible")||t)return;if(n!==!1)return o.close(n,function(){o.open(i)}),void 0;t=!0,"left"===g?(s={left:p+"px"},c={left:"0px"}):(s={right:p+"px"},c={right:"0px"}),u=d.scrollTop(),d.css("overflow-x","hidden").scrollTop(u),f.css({width:f.width(),position:"absolute"}).animate(s,h),l.css("display","block").animate(c,h,function(){t=!1,n=i,"function"==typeof a&&a(i)})}else{if(!l.is(":visible")||t)return;t=!0,"left"===g?(s={left:0},c={left:"-"+p+"px"}):(s={right:0},c={right:"-"+p+"px"}),u=d.scrollTop(),d.removeAttr("style").scrollTop(u),f.animate(s,h),l.animate(c,h,function(){l.removeAttr("style"),f.removeAttr("style"),e("html").removeAttr("style"),t=!1,n=!1,"function"==typeof a&&a(i)})}}},o={open:function(e,t){r.execute("open",e,t)},close:function(e,t){r.execute("close",e,t)},toogle:function(e,t){r.execute("toogle",e,t)}};e.sidr=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof t&&"string"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.sidr"),void 0):o.toogle.apply(this,arguments)},e.fn.sidr=function(t){var n=e.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body"},t),i=n.name,a=e("#"+i);if(0===a.length&&(a=e("<div />").attr("id",i).appendTo(e("body"))),a.addClass("sidr").addClass(n.side).data({speed:n.speed,side:n.side,body:n.body}),"function"==typeof n.source){var s=n.source(i);r.loadContent(a,s)}else if("string"==typeof n.source&&r.isUrl(n.source))e.get(n.source,function(e){r.loadContent(a,e)});else if("string"==typeof n.source){var c="",u=n.source.split(",");if(e.each(u,function(t,n){c+='<div class="sidr-inner">'+e(n).html()+"</div>"}),n.renaming){var l=e("<div />").html(c);l.find("*").each(function(t,n){var o=e(n);r.addPrefix(o)}),c=l.html()}r.loadContent(a,c)}else null!==n.source&&e.error("Invalid Sidr Source");return this.each(function(){var t=e(this),n=t.data("sidr");n||(t.data("sidr",i),t.click(function(e){e.preventDefault(),o.toogle(i)}))})}}(jQuery)}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.about.rendered=function(){return document.title="About Us | Differential",$("<meta>",{name:"description",content:"We're a venture studio helping entrepreneurs grow their ideas into companies."}).appendTo("head")}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template._connectionsMessage.rendered=function(){return Meteor.subscribe("connectionsCount")},Template._connectionsMessage.helpers({connectionsMessage:function(){var e,t;return ConnectionsCount.findOne()?(e=ConnectionsCount.findOne().count-1,-1===e?"":(t=0===e?"No":""+e,t+=" other",t+=1===e?" reader is here.":" readers are here.")):void 0}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.blog.rendered=function(){return document.title="Blog | Differential"},Template.postExcerpt.helpers({fullName:function(){var e;return e=this.author(),""+e.profile.firstName+" "+e.profile.lastName}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.blogView.rendered=function(){return document.title=""+this.data.title+" | Differential",$(".author h2").arctext({radius:118,dir:-1})},Template.blogView.helpers({author:function(){var e;return e=Author.first(this.userId)},fullName:function(){var e;return e=Author.first(this.userId),""+e.profile.firstName+" "+e.profile.lastName}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.brand.rendered=function(){return document.title="Brand Guidelines | Differential",$("<meta>",{name:"description",content:"Differential brand assets."}).appendTo("head")}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.companies.rendered=function(){return document.title="Our Companies | Differential",$("<meta>",{name:"description",content:"A few of the companies and products we've built."}).appendTo("head")}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.connect.rendered=function(){return document.title="Startup Connect | Differential"}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.contact.rendered=function(){return document.title="Contact Us | Differential",$("<meta>",{name:"description",content:"Want to inquire about working with us, or just want to grab coffee? We're easy to get ahold of."}).appendTo("head")}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.apply.rendered=function(){return document.title="Idea Application | Differential",$("<meta>",{name:"description",content:"Have the next big idea? We're always looking to work with talented entrepreneurs. Complete our idea application."}).appendTo("head")},Template.apply.events({"submit form":function(e){var t;return e.preventDefault(),t=_.map($("form :input"),function(e){return[e.name,e.value,$('label[for="'+e.name+'"]').html()]}),Meteor.call("sendIdeaApplication",t),Router.go("thankYou")}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.join.rendered=function(){return document.title="Join Our Team | Differential",$("<meta>",{name:"description",content:"Want to work with Differetial? We're always looking for talented people."}).appendTo("head")},Template.join.events({"submit form":function(e){var t;return e.preventDefault(),t=_.map($("form :input"),function(e){return[e.name,e.value,$('label[for="'+e.name+'"]').html()]}),Meteor.call("sendTeamApplication",t),Router.go("thankYou")}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.thankYou.rendered=function(){return document.title="Thank You | Differential"}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.home.rendered=function(){return document.title="Differential | A Cincinnati Venture Studio",$("<meta>",{name:"description",content:"We work with entrepreneurs to turn great ideas into great companies. We're not an agency, or an accelerator. We're a partner."}).appendTo("head"),$(".project-slider").carouFredSel({responsive:!0,height:"auto",prev:{button:$(".project-slider-prev")},next:{button:$(".project-slider-next")},auto:{timeoutDuration:7500}}),window.twttr.ready(function(e){return e.widgets.load(this.firstNode)})}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.meteor.rendered=function(){return document.title="Meteor Development | Differential",$("<meta>",{name:"description",content:"Looking for Meteor development? We specialize in developing Meteor software applications."}).appendTo("head")}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.pitch.rendered=function(){return document.title="Pitch Us | Differential"}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.press.rendered=function(){return document.title="Our Press | Differential",$("<meta>",{name:"description",content:"Check us out in the news."}).appendTo("head")}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.footer.helpers({year:function(){return(new Date).getFullYear()}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.header.rendered=function(){return $(".mobile-menu-trigger").sidr({name:"sidr-right",side:"right",source:"#mobile-menu"})}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.team.rendered=function(){var e;return document.title="Our Team | Differential",$("<meta>",{name:"description",content:"Our team is why we're successful. We're friends first, partners second."}).appendTo("head"),$("ul.team li h2").arctext({radius:118,dir:-1}),e=$(".team"),e.isotope({itemSelector:"ul.team li",layoutMode:"fitRows"}),$("#team-nav a").click(function(){var t;return t=$(this).attr("data-filter"),e.isotope({filter:t}),!1})}}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};UI.registerHelper("date",function(e){return e?(e=new Date(e),moment(e).format("MMMM Do, YYYY")):void 0})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e;e=function(){var e,t,n;return n=window.location.pathname,t=n.slice(0,-1),e=n.slice(-1),""===t?"/":"/"===e?t:n},Router.configure({disableProgressSpinner:!0,layoutTemplate:"layout",notFoundTemplate:"404",loadingTemplate:"loading",yieldTemplates:{header:{to:"header"},footer:{to:"footer"}},before:function(){return Session.set("activePath",e()),$.sidr("close","sidr-right"),$('meta[property^="og:"]').remove(),$('meta[property^="twitter:"]').remove(),$('meta[name^="description"]').remove()},after:function(){return window._gaq.push(["_trackPageview"])}})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Template.ad.rendered=function(){return Deps.autorun(function(){var e;return e=Post.first().tags,Meteor.subscribe("ad",e)})},Template.ad.helpers({ad:function(){return Ad.first()}}),Template.ad.events({"click .ad a":function(){return console.log("ad clicked")}})}(),function(){Deps.autorun(function(){Router.current();Deps.afterFlush(function(){$(".content-inner").scrollTop(0),$(window).scrollTop(0)})})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};Meteor.startup(function(){var e,t,n;return Accounts.ui.config({passwordSignupFields:"EMAIL_ONLY"}),AccountsEntry.config({homeRoute:"/",dashboardRoute:"/",profileRoute:"profile",wrapLinks:!0,showSignupCode:!0,language:"en"}),Blog.config({blogIndexTemplate:"blog",blogShowTemplate:"blogView",pageSize:20}),window.twttr=function(e,t,n){var r,o,i;return i=void 0,o=void 0,r=e.getElementsByTagName(t)[0],e.getElementById(n)?void 0:(o=e.createElement(t),o.id=n,o.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(o,r),window.twttr||(i={_e:[],ready:function(e){return i._e.push(e)}}))}(document,"script","twitter-wjs"),t=void 0,e="facebook-jssdk",n=document.getElementsByTagName("script")[0],document.getElementById(e)?void 0:(t=document.createElement("script"),t.id=e,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",n.parentNode.insertBefore(t,n))}),UI.registerHelper("active",function(e){return Session.get("activePath")===e?"active":""})}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};this.Ad=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n._collection=new Meteor.Collection("ads"),n}(Minimongoid)}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};this.Connections=new Meteor.Collection("connections"),this.ConnectionsCount=new Meteor.Collection("connectionsCount")}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};this.Repo=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n._collection=new Meteor.Collection("repos"),n.prototype.dataExpired=function(){return!0},n}(Minimongoid)}(),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e;e=function(e){var t,n,r;for(t=e.length;--t>0;)n=~~(Math.random()*(t+1)),r=e[n],e[n]=e[t],e[t]=r;return e},Meteor.isClient&&Router.onBeforeAction("loading"),Router.map(function(){return this.route("home",{path:"/",data:function(){return{latest:Post.all()}},waitOn:function(){return[Meteor.subscribe("recentPosts"),Meteor.subscribe("authors")]},fastRender:!0}),this.route("team",{path:"/team",data:function(){return{users:function(){var t;return t=Meteor.users.find({"profile.guest":!1}).fetch(),e(t)}}},waitOn:function(){return Meteor.subscribe("teamMembers")},fastRender:!0}),this.route("about"),this.route("companies"),this.route("contact"),this.route("press"),this.route("brand"),this.route("pitch"),this.route("showcase"),this.route("meteor"),this.route("clientGuide",{path:"/client-guide"}),this.route("apply"),this.route("join"),this.route("thankYou",{path:"/thanks"}),this.route("dashboard"),this.route("profile",{path:"/admin/profile"}),this.route("notFound",{path:"*",where:"server",action:function(){return this.response.statusCode=404,this.response.end(Handlebars.templates["404"]())
}})})}(),function(){{var e,t,n,r,o,i=(Package.meteor.Meteor,Package.templating.Template),a=Package.ui.UI,s=(Package.ui.Handlebars,Package["reactive-dict"].ReactiveDict),c=Package.underscore._;Package.htmljs.HTML}(function(){var n=!1,r=function(e){n&&(arguments.length>1&&(e=c.toArray(arguments).join(" ")),console.log("%c<BlazeLayout> "+e,"color: green; font-weight: bold; font-size: 1.3em;"))},o=function(e,t){for(;t;){if("undefined"!=typeof t[e])return t;t=t.parent}return null},u=function(e){var t,n,r=this,s=r._contentBlocksByRegion;if(!e)throw new Error("BlazeLayout: You must pass a name to lookupTemplate");if(n=s[e]?s[e]:(t=o(e,r))?t[e]:c.has(i,e)?i[e]:a._globalHelper(e),"function"!=typeof n||n._isEmboxedConstant){if(n)return n;throw new Error("BlazeLayout: Sorry, couldn't find a template named "+e+". Are you sure you defined it?")}return function(){return n.apply(r,arguments)}};e=a.Component.extend({kind:"Layout",init:function(){{var e=this,t=this,n=Deps.nonreactive(function(){return e.get("template")||e.template||"_defaultLayout"}),o=new Deps.Dependency,i=Deps.nonreactive(function(){return e.get()}),l=new Deps.Dependency,f=this._regions=new s,d=this.__content;this._contentBlocksByRegion={}}this.template=function(e){return"undefined"==typeof e?(o.depend(),n):((e===!1||null===e)&&(e="_defaultLayout"),EJSON.equals(e,n)||(n=e,o.changed()),void 0)};var p=a.emboxValue(function(){return r("return data()"),l.depend(),i});this.setData=function(e){r("setData",e),EJSON.equals(e,i)||(i=e,l.changed())},this.getData=function(){return p()},this.data=function(){return e.getData()},this.setRegion=function(e,t){arguments.length<2?(t=e,e="main"):"undefined"==typeof e&&(e="main"),f.set(e,t)},this.getRegionKeys=function(){return c.keys(f.keys)},this.clearRegion=function(e){f.set(e,null)},this.yield=a.Component.extend({init:function(){var e,n=this,r=Deps.nonreactive(function(){return n.get()});e=c.isString(r)?r:c.isObject(r)?r.region||"main":"main",n.region=e,this.data=function(){return t.getData()}},render:function(){var e=this,n=e.region;return function(){var e=t._regions,r=e.get(n);return r?u.call(t,r):"main"===n&&d?d:null}}}),this.contentFor=a.Component.extend({init:function(){var e,t=this,n=Deps.nonreactive(function(){return t.get()});if(c.isString(n)?e=n:c.isObject(n)&&(e=n.region),t.region=e,!e)throw new Error("{{#contentFor}} requires a region argument like this: {{#contentFor region='footer'}}")},render:function(){var e=this,n=e.region,r=t._contentBlocksByRegion;return r[n]&&delete r[n],r[n]=e.__content,t.setRegion(n,n),null}}),this._defaultLayout=function(){return a.block(function(){return u.call(t,"yield")})}},render:function(){var e=this;return function(){var t=e.template();if("_defaultLayout"===t)return e._defaultLayout;if(t){var n=u.call(e,t);return"function"==typeof n.instantiate&&(n.__passthrough=!0),n}return e.yield}}}),i.Layout=e,t=function(e){var t=this;this.router=e,this._component=null,c.each(["setRegion","clearRegion","getRegionKeys","getData","setData"],function(e){t[e]=function(){return t._component?t._component[e].apply(this,arguments):void 0}}),t.layout=function(){if(t._component)return t._component.template.apply(t,arguments);throw new Error("Layout has not been rendered yet")}},t.prototype={render:function(t,n){return this._component=a.render(e.extend(t||{}),n||a.body),this._component},insert:function(e,t,n){a.DomRange.insert(this.render(n,t).dom,e||document.body)}}}).call(this),function(){n=function(e,t){for(;t;){if("undefined"!=typeof t[e])return t;t=t.parent}return null},r=function(e){return e=n("data",e),e?"function"==typeof e.data?e.data():e.data:null};var e=function(e,t){for(;t;){if(t.kind===e)return t;t=t.parent}return null};o=function(e,t){for(;t;){if(t.__helperHost){if("undefined"!=typeof t[e])return t;if(!t.__passthrough)return null}t=t.parent}return null};var i=a.Component.lookup;a.Component.lookup=function(t){var n,a,s=this;if("yield"===t)throw new Error("Sorry, would you mind using {{> yield}} instead of {{yield}}? It helps the Blaze engine.");if("contentFor"===t){var c=e("Layout",this);if(!c)throw new Error("Couldn't find a Layout component in the rendered component tree");a=c[t]}else{if(/^\./.test(t)||!(n=o(t,s)))return i.apply(this,arguments);a=n[t]}return"function"!=typeof a||a._isEmboxedConstant?a:function(){var e=r(s);return a.apply(null===e?{}:e,arguments)}};var s=a.Component.lookupTemplate;a.Component.lookupTemplate=function(t){if("yield"===t){var n=e("Layout",this);if(n)return n[t];throw new Error("Couldn't find a Layout component in the rendered component tree")}return s.apply(this,arguments)},Package["iron-router"]&&Package["iron-router"].Router.configure({uiManager:new t})}.call(this),"undefined"==typeof Package&&(Package={}),Package["blaze-layout"]={Layout:e}}();